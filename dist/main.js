!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(1),s=n(3),a=n(5),u=n(6),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.ErrorFactory("app","Firebase",c),f=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),l=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var f=h.value;this._addComponent(f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){l.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw h.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw h.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void l.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw h.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.3",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!s.contains(e,t))throw h.create("no-app",{appName:t});return e[t]}function c(a){var u,c,f=a.name;if(n.has(f))return l.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===a.type?r[f]:null;if(n.set(f,a),"PUBLIC"===a.type){var p=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[f])throw h.create("invalid-app-argument",{appName:f});return t[f]()};void 0!==a.serviceProps&&s.deepExtend(p,a.serviceProps),r[f]=p,t.prototype[f]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,f);return n.apply(this,a.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),v=d.next();!v.done;v=d.next()){var y=v.value;e[y]._addComponent(a)}}catch(t){u={error:t}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(s.isBrowser()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&l.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var g=d;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.3",e),t.registerVersion("fire-js","")}(g),e.default=g,e.firebase=g},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return f})),n.d(e,"__exportStar",(function(){return l})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return I})),n.d(e,"__importDefault",(function(){return T})),n.d(e,"__classPrivateFieldGet",(function(){return _})),n.d(e,"__classPrivateFieldSet",(function(){return A}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(3&o)<<4|a>>4,l=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(l=64)),r.push(n[h],n[f],n[l],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var f=a<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=h(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,d.prototype.create),i}return r.__extends(e,t),e}(Error),d=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function v(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=f,e.ErrorFactory=d,e.FirebaseError=p,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return h(void 0,t)},e.deepExtend=h,e.errorPrefix=I,e.getUA=l,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return l().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return l().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=g(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(2))},function(t,e,n){"use strict";var r,i=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.registerVersion("firebase","7.14.3","app"),t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(3),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[0],u=s[1],c=this.normalizeInstanceIdentifier(a);try{var h=this.getOrInitializeService(c);u.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return f})),n.d(e,"setLogLevel",(function(){return l})),n.d(e,"setUserLogHandler",(function(){return p}));var o,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=h,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function l(t){var e="string"==typeof t?a[t]:t;s.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";(function(t){var e=n(0),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t,e,n){this.code=k+t,this.message=e||O[t]||"",this.a=n||null}function N(t){var e=t&&t.code;return e?new A(e.substring(k.length),t.message,t.serverResponse):null}_(A,Error),A.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.v()};var S,k="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function L(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function C(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}S=R("__EID__")?"__EID__":void 0,_(P,Error),P.prototype.name="CustomError",_(x,P),x.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new M((function(){return new q}),(function(t){t.reset()}));function F(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=B(t,e)}function X(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var ht=ct.userAgent;if(ht){$=ht;break t}}$=""}function ft(t){return at($,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;C("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===Et&&e||"",this.b=wt}function bt(t){return t instanceof gt&&t.constructor===gt&&t.b===wt?t.a:(C("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ra=!0,gt.prototype.qa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},Et={},It=new gt(Et,"");function Tt(t,e){this.a=t===Ot&&e||"",this.b=kt}function _t(t){return t instanceof Tt&&t.constructor===Tt&&t.b===kt?t.a:(C("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=bt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?bt(t):encodeURIComponent(String(t))})),new Tt(Ot,t)}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={},Ot={};function Dt(t,e){this.a=t===Ct&&e||"",this.b=xt}function Rt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===xt?t.a:(C("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Dt(Ct,t))}var xt={},Ct={};function Mt(){this.a="",this.b=Vt}function jt(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Vt?t.a:(C("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Mt.prototype.ra=!0,Mt.prototype.qa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t){var e=new Mt;return e.a=t,e}Ut("<!DOCTYPE html>");var Ft=Ut("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Ut("<br>"),Gt[" "]=f;var Ht,zt,Kt=ft("Opera"),Wt=ft("Trident")||ft("MSIE"),Xt=ft("Edge"),Yt=Xt||Wt,Jt=ft("Gecko")&&!(at($.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Qt=at($.toLowerCase(),"webkit")&&!ft("Edge");function $t(){var t=u.document;return t?t.documentMode:void 0}t:{var Zt="",te=(zt=$,Jt?/rv:([^\);]+)(\)|;)/.exec(zt):Xt?/Edge\/([\d\.]+)/.exec(zt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Qt?/WebKit\/(\S+)/.exec(zt):Kt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(te&&(Zt=te?te[1]:""),Wt){var ee=$t();if(null!=ee&&ee>parseFloat(Zt)){Ht=String(ee);break t}}Ht=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Z(String(Ht)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ne=u.document&&Wt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var oe=!Wt||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!p(o)||v(o)&&0<o.nodeType?r(o):G(pe(o)?Q(o):o,r)}}function le(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function de(t){u.setTimeout((function(){throw t}),0)}function ve(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=le(document,"IFRAME");t.style.display="none",function(t){var e=new Tt(Ot,bt(It));mt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(jt(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function ye(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(be)}}else ce=function(){var t=be;!d(u.setImmediate)||u.Window&&u.Window.prototype&&!ft("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=ve()),ue(t)):u.setImmediate(t)}}(),me||(ce(),me=!0),ge.add(t,e)}var me=!1,ge=new V;function be(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){de(t)}j(U,t)}me=!1}function we(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Pe(n,Ie,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Pe(n,Te,t)}))}catch(t){Pe(this,Te,t)}}var Ee=0,Ie=2,Te=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ae=new M((function(){return new _e}),(function(t){t.reset()}));function Ne(t,e,n){var r=Ae.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof we)return t;var e=new we(f);return Pe(e,Ie,t),e}function ke(t){return new we((function(e,n){n(t)}))}function Oe(t,e,n){xe(t,e,n,null)||ye(I(e,t))}function De(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Oe(t[o],I(i,o,!0),I(i,o,!1));else e(r)}))}function Re(t,e){t.b||t.a!=Ie&&t.a!=Te||Ce(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=Ne(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function Pe(t,e,n){t.a==Ee&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,xe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ce(t),e!=Te||n instanceof Fe||function(t,e){t.g=!0,ye((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function xe(t,e,n,r){if(t instanceof we)return Re(t,Ne(e||f,n||null,r)),!0;if(L(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ce(t){t.h||(t.h=!0,ye(t.ec,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(t){Ue.call(null,t)}j(Ae,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Le(this,d(t)?t:null,d(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(e=we.prototype).ma=function(t,e){return(t=Ne(t,t,e)).c=!0,Re(this,t),this},e.o=function(t,e){return Le(this,null,t,e)},e.cancel=function(t){if(this.a==Ee){var e=new Fe(t);ye((function(){!function t(e,n){if(e.a==Ee)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Ee&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),je(r,o,Te,n)))}e.c=null}else Pe(e,Te,n)}(this,e)}),this)}},e.Yc=function(t){this.a=Ee,Pe(this,Ie,t)},e.Zc=function(t){this.a=Ee,Pe(this,Te,t)},e.ec=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Ue=de;function Fe(t){P.call(this,t)}function qe(){0!=Be&&(Ge[y(this)]=this),this.wa=this.wa,this.na=this.na}_(Fe,P),Fe.prototype.name="cancel";var Be=0,Ge={};function He(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Be)){var e=y(t);if(0!=Be&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ge[e]}}qe.prototype.wa=!1,qe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},Ke=!Wt||9<=Number(ne),We=Wt&&!ie("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Je,Ye);var Qe=ze({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Je.prototype.f=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ze,this.ua=this.Na=!1}function en(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new tn(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[$e]?En(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=mn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=yn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=bn(n),t&&t[$e]?In(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=bn(n),t&&t[$e]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[$e])rn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function pn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&ln(t),n.call(r,e)}function yn(t,e){if(t.ua)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Je(e,this))}function mn(t){return(t=t[sn])instanceof nn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function wn(){qe.call(this),this.u=new nn(this),this.Yb=this,this.eb=null}function En(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&rn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(d(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function An(t){var e=null;return new we((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Nn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(wn,qe),wn.prototype[$e]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;yt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Tn(s,r,!0,t)&&i}if(i=Tn(s=t.b=n,r,!0,t)&&i,i=Tn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Ba=function(){if(wn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.eb=null},(e=kn.prototype).V=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},e.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Ln?(this.h=void 0!==e?e:t.h,Pn(this,t.f),this.i=t.i,this.b=t.b,xn(this,t.l),this.c=t.c,Cn(this,tr(t.a)),this.g=t.g):t&&(n=String(t).match(Rn))?(this.h=!!e,Pn(this,n[1]||"",!0),this.i=Fn(n[2]||""),this.b=Fn(n[3]||"",!0),xn(this,n[4]),this.c=Fn(n[5]||"",!0),Cn(this,n[6]||"",!0),this.g=Fn(n[7]||"")):(this.h=!!e,this.a=new Xn(null,this.h))}function Pn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Cn(t,e,n){e instanceof Xn?(t.a=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=qn(e,Kn)),t.a=new Xn(e,t.h))}function Mn(t,e,n){t.a.set(e,n)}function jn(t,e){return t.a.get(e)}function Vn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function Un(t,e){var n=new Ln(null,void 0);return Pn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qn(e,Gn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(qn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qn(n,Wn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.f;n?Pn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)xn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Cn(e,tr(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Gn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Kn=/[#\?@]/g,Wn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Qn(t,e){Yn(t),e=er(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function $n(t,e){return Yn(t),e=er(t,e),Dn(t.a.b,e)}function Zn(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),Q(n)),t.b+=n.length)}function tr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(e=Xn.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Yn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){Yn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=J(e,this.a.get(er(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},e.set=function(t,e){return Yn(this),this.c=null,$n(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return Wt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ur(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||u.window;var n="about:blank";t&&(n=Rt(Pt(t))),e.location.href=n}function hr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||u.window;try{t.close()}catch(t){}}function lr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Tr(Nr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=le(document,"A"),"HTMLAnchorElement"),e instanceof Dt||e instanceof Dt||(e="object"==typeof e&&e.ra?e.qa():String(e),Lt.test(e)||(e="about:invalid#zClosurez"),e=new Dt(Ct,e)),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Rt(e),s&&(Yt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ut('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),r=s.document)&&(r.write(jt(t)),r.close())):(s=r.open(Rt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new we((function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).o((function(e){throw fn(window,"load",t),e}))}function yr(t){return t=t||Nr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function gr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var Er="Firefox",Ir="Chrome";function Tr(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?Er:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var _r={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Nr()):"Worker"===r&&(r=Tr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return u.navigator&&u.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=u.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!u.indexedDB}catch(t){return gr()&&!!u.indexedDB}return!1}function Or(){return(Dr()||"chrome-extension:"===Rr()||yr())&&!wr()&&kr()&&!gr()}function Dr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return u.location&&u.location.protocol||null}function Lr(t){return!hr(t=t||Nr())&&Tr(t)!=Er}function Pr(t){return void 0===t?null:nr(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Cr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function jr(t){return"Safari"!=Tr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=br(),this.b=hr(t)||"ReactNative"===e}function Fr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!Sr("fireauth.oauthhelper",u)&&!Sr("fireauth.iframe",u))}Ur.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Kr.abcd}catch(zt){Gr=!1}function Wr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Yr(t){var e={};return Xr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Jr(t[n]));return e}function Qr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ei]),Wr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function $r(t){try{var e=new ri(t)}catch(t){e=null}return e}Qr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Qr.call(this,t),Wr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[hi],i=t[fi];if(t=$r(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[pi]=n||null,e[vi]=n||null,e[li]=r):(e[pi]=r||null,e[vi]=r||null,e[li]=n||null),e[di]=t||null,Wr(this,mi,i),Wr(this,yi,Jr(e))}_(ri,Qr),ri.prototype.v=function(){var t=ri.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",hi="newEmail",fi="requestType",li="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",yi="data",mi="operation";function gi(t){var e=jn(t=Vn(t),bi)||null,n=jn(t,wi)||null,r=jn(t,Ti)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new A("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ei)||null,languageCode:jn(t,Ii)||null,tenantId:jn(t,_i)||null})}var bi="apiKey",wi="oobCode",Ei="continueUrl",Ii="languageCode",Ti="mode",_i="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new gi(t)}catch(t){return null}}function Si(t){var e=t[Li];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[Ci];var r=n[Pi];if(n=n[xi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Ci+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new A("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Oi="dynamicLinkDomain",Di="handleCodeInApp",Ri="iOS",Li="url",Pi="installApp",xi="minimumVersion",Ci="packageName",Mi="bundleId";function ji(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Ui(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Fi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,T(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function qi(t){try{return new Fi(t)}catch(t){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ui(t))}catch(t){}return null}Fi.prototype.S=function(){return this.f},Fi.prototype.i=function(){return this.b},Fi.prototype.toString=function(){return this.g};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Hi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Hi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Hi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Gi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Ki(t){for(var e in zi)if(zi[e].ea==t)return zi[e];return null}function Wi(t){var e={};e["facebook.com"]=$i,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[Xi])return new Ji(t)}catch(t){}return null}var Xi="idToken",Yi="providerId";function Ji(t){var e=t[Yi];if(!e&&t[Xi]){var n=qi(t[Xi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Qi(t){Ji.call(this,t),Wr(this,"profile",Jr((t=Cr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function no(t){var e=Vn(t),n=jn(e,"link"),r=jn(Vn(n),"link");return e=jn(e,"deep_link_id"),jn(Vn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}_(Qi,Ji),_($i,Qi),_(Zi,Qi),_(to,Qi),_(eo,Qi);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then((function(t){if(t[Ys]){var n=qi(t[Ys]);if(!n||e!=n.h)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new A("user-mismatch"):t}))}function uo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vo(t,e){this.Oc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Ki(t)||{}).Ha||null,this.kb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function mo(t){vo.call(this,t,Hi),this.a=[]}function go(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function wo(){mo.call(this,"github.com")}function Eo(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Io(){mo.call(this,"google.com"),this.Aa("profile")}function To(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function _o(){vo.call(this,"twitter.com",Gi)}function Ao(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function ko(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(t,e){if(!(e=Do(e)))throw new A("argument-error","Invalid email link!");return new No(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=Ni(t=no(t)))&&t.operation===si?t:null}function Ro(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new A("internal-error");this.a=t,Wr(this,"providerId","phone"),this.ea="phone",Wr(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Po(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function xo(t){try{this.a=t||r.a.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Co(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Ro({bb:t,ab:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return Eo(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function jo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&N(t.error),t.postBody,t.tenantId):null}function Fo(){this.b=null,this.a=[]}ro.prototype.Fa=function(){return this.a?Se(this.a):Se(this.b)},ro.prototype.v=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ia=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.v=function(){},uo.prototype.ia=function(t){return va(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ya(t,n)},uo.prototype.c=function(t,e){return ao(ma(t,co(this)),e)},uo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ia=function(t){return va(t,lo(this))},fo.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ya(t,n)},fo.prototype.c=function(t,e){return ao(ma(t,lo(this)),e)},fo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ia=function(t){return this.Fb=dt(t),this},_(yo,vo),_(mo,vo),mo.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},mo.prototype.Nb=function(){return Q(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},_(go,mo),Wr(go,"PROVIDER_ID","facebook.com"),Wr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(wo,mo),Wr(wo,"PROVIDER_ID","github.com"),Wr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),_(Io,mo),Wr(Io,"PROVIDER_ID","google.com"),Wr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),_(_o,vo),Wr(_o,"PROVIDER_ID","twitter.com"),Wr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ia=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Aa,{email:this.a,oobCode:this.f}):$a(t,Wa,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Na,{idToken:e,email:this.a,oobCode:this.f}):$a(t,Ua,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return ao(this.ia(t),e)},No.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(ko,{PROVIDER_ID:"password"}),Xr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ia=function(t){return t.cb(Po(this))},Ro.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,$a(t,Ya,n)},Ro.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",ao(t=$a(t,Ja,n),e)},Ro.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},xo.prototype.cb=function(t,e){var n=this.a.b;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==io?i.Fa().then((function(t){return function(t,e){return $a(t,qa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Fa().then((function(e){return function(t,e){return $a(t,Ba,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return $a(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(xo,{PROVIDER_ID:"phone"}),Xr(xo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.S=function(){return this.h},Vo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var qo,Bo=null;function Go(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.b,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Ho(t,e,n){A.call(this,t,n),(t=e||{}).Gb&&Wr(this,"email",t.Gb),t.da&&Wr(this,"phoneNumber",t.da),t.credential&&Wr(this,"credential",t.credential),t.Wb&&Wr(this,"tenantId",t.Wb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Mo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Ko(){}function Wo(t){return t.c||(t.c=t.b())}function Xo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.oc,this),this.a.onerror=E(this.Pb,this),this.a.onprogress=E(this.pc,this),this.a.ontimeout=E(this.tc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}_(Go,A),_(Ho,A),Ho.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&yt(t,e),t},Ho.prototype.toJSON=function(){return this.v()},Ko.prototype.c=null,_(Xo,Ko),Xo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Xo,_(Jo,Ko),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(e=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,$o(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null;function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}Zo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);ts.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(C("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ss={},as=null;function us(t){var e;if(as||(as=new ts(""),ss[""]=as,as.c=is),!(e=ss[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ss[t]=e}return e}function cs(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function fs(t){wn.call(this),this.s=t,this.readyState=ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=us("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(hs,Ko),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),_(fs,wn);var ls=0;function ps(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ds(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ys(t){wn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ms,this.w=this.R=!1}(e=fs.prototype).open=function(t,e){if(this.readyState!=ls)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,vs(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ds(this,!1)),this.readyState=ls},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ps(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ds(this,!0):vs(this),3==this.readyState&&ps(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,ds(this,!0))},e.qc=function(t){this.a&&(this.response=t,ds(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(rs,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ds(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(ys,wn);var ms="";ys.prototype.b=us("goog.net.XhrIo");var gs=/^https?$/i,bs=["POST","PUT"];function ws(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.B=t.D?Wo(t.D):Wo(qo),t.a.onreadystatechange=E(t.Sb,t);try{cs(t.b,Os(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return cs(t.b,Os(t,"Error opening Xhr: "+e.message)),void Is(t,e)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)G(t,e,void 0);else for(var n=Sn(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!W(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ns(t),0<t.g&&(t.w=function(t){return Wt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),cs(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ka,t)):t.s=_n(t.Ka,t.g,t)),cs(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){cs(t.b,Os(t,"Send error: "+e.message)),Is(t,e)}}function Es(t){return"content-type"==t.toLowerCase()}function Is(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),As(t)}function Ts(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==a)if(t.B[1]&&4==Ss(t)&&2==ks(t))cs(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==Ss(t))_n(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ss(t)){cs(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=ks(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!gs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ss(t)?t.a.statusText:""}catch(e){cs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+ks(t)+"]",Ts(t)}}finally{As(t)}}}function As(t,e){if(t.a){Ns(t);var n=t.a,r=t.B[0]?f:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ns(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ss(t){return t.a?t.a.readyState:0}function ks(t){try{return 2<Ss(t)?t.a.status:-1}catch(t){return-1}}function Os(t,e){return e+" ["+t.P+" "+t.l+" "+ks(t)+"]"}function Ds(t){var e=qs;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Cs(t)}function Ls(t){if(t.a){if(!t.u)throw new Ms(t);t.u=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Cs(t)}function xs(t){return K(t.g,(function(t){return d(t[1])}))}function Cs(t){if(t.h&&t.a&&xs(t)){var e=t.h,n=Us[e];n&&(u.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(L(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,xs(t)||(n=!0)}}t.c=e,r&&(a=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Ds?(Ps(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new Vs(e),Us[e.a]=e,t.h=e.a)}function Ms(){P.call(this)}function js(){P.call(this)}function Vs(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(e=ys.prototype).Ka=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cs(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(cs(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),ys.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?_s(this):this.Hc())},e.Hc=function(){_s(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ms:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return cs(this.b,"Can not get response: "+t.message),null}},Ds.prototype.cancel=function(t){if(this.a)this.c instanceof Ds&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new js(this),Ls(this),Rs(this,!1,t))}},Ds.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Ds.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Ps(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},Ds.prototype.$goog_Thenable=!0,_(Ms,P),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",_(js,P),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function Fs(t){var e={},n=e.document||document,r=_t(t).toString(),i=le(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new Ds(o),a=null,f=null!=e.timeout?e.timeout:5e3;return 0<f&&(a=window.setTimeout((function(){Bs(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ls(s),Rs(s,!1,t)}),f),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,e.ud||!1,a),Ls(s),Rs(s,!0,null))},i.onerror=function(){Bs(i,!0,a);var t=new zs(Gs,"Error while loading script "+r);Ls(s),Rs(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=_t(e),null===h&&(h=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ka)}}function Bs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Ks(t){this.f=t}function Ws(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Js,this.g=dt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||$s,this.a=dt(t.firebaseHeaders||Zs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!gr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new hs(self):wr()?this.f=new Ks(n):this.f=new Jo,this.b=null}_(zs,P),_(Ks,Ko),Ks.prototype.a=function(){return new this.f},Ks.prototype.b=function(){return{}};var Xs,Ys="idToken",Js=new Ur(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},$s=new Ur(3e4,6e4),Zs={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function na(t,e,n,r,i,o,s){(function(){var t=Nr();return!((t=Tr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Wt||!ne||9<ne)})()||gr()?t=E(t.w,t):(Xs||(Xs=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ia]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(Fs(At(ra,{onload:ia})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,s)}Ws.prototype.S=function(){return this.b},Ws.prototype.w=function(t,e,n,r,i,o){if(gr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ys(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}En(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return cs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),In(s,"ready",(function(){a&&clearTimeout(a),He(this)})),In(s,"timeout",(function(){a&&clearTimeout(a),He(this),e&&e(null)})),ws(s,t,n,r,i)};var ra=new gt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),ia="__fcb"+Math.floor(1e6*Math.random()).toString();function oa(t,e,n,r,i,o,s){var a=Vn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new we((function(e,n){na(t,a.toString(),(function(t){t?t.error?n(tu(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:nr(xr(i)),t.a,t.i.get())}))}function sa(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new A("invalid-email")}function aa(t){"email"in t&&sa(t)}function ua(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,dt(t));throw new A("internal-error")}}function ca(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}Ws.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ws.prototype.vb=function(){return $a(this,Fa,{})},Ws.prototype.xb=function(t,e){return $a(this,Va,{idToken:t,email:e})},Ws.prototype.yb=function(t,e){return $a(this,Ua,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function la(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&($n(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function da(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Za(t.errorMessage)),e)throw e;ua(t)}function va(t,e){return e.returnIdpCredential=!0,$a(t,Ga,e)}function ya(t,e){return e.returnIdpCredential=!0,$a(t,za,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,Ha,e)}function ga(t){if(!t.oobCode)throw new A("invalid-action-code")}(e=Ws.prototype).zb=function(t,e){var n={idToken:t},r=[];return lt(ha,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,Va,n)},e.rb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,Pa,t)},e.sb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,Da,t)},e.qb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,Ra,t)},e.Ab=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,La,t)},e.cb=function(t){return $a(this,Xa,t)},e.jb=function(t,e){return $a(this,Ma,{oobCode:t,newPassword:e})},e.Pa=function(t){return $a(this,wa,{oobCode:t})},e.fb=function(t){return $a(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",A:ga,Y:"email",C:!0},wa={endpoint:"resetPassword",A:ga,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},C:!0},Ea={endpoint:"signupNewUser",A:function(t){if(sa(t),!t.password)throw new A("weak-password")},G:ua,U:!0,C:!0},Ia={endpoint:"createAuthUri",C:!0},Ta={endpoint:"deleteAccount",M:["idToken"]},_a={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new A("internal-error")}},Aa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:sa,G:ua,U:!0,C:!0},Na={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:sa,G:ua,U:!0},Sa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:fa,G:ua,C:!0,La:!0},ka={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:ua,C:!0,La:!0},Oa={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");sa(t)},Y:"email",C:!0},Ra={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Y:"email",C:!0},La={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Y:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");sa(t)},Y:"email",C:!0},xa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ca={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Ma={endpoint:"resetPassword",A:ga,Y:"email",C:!0},ja={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Va={endpoint:"setAccountInfo",M:["idToken"],A:aa,U:!0},Ua={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(aa(t),!t.password)throw new A("weak-password")},G:ua,U:!0},Fa={endpoint:"signupNewUser",G:ua,U:!0,C:!0},qa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},C:!0,La:!0},Ba={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},C:!0,La:!0},Ga={endpoint:"verifyAssertion",A:la,Wa:pa,G:da,U:!0,C:!0},Ha={endpoint:"verifyAssertion",A:la,Wa:pa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw Za(t.errorMessage);ua(t)},U:!0,C:!0},za={endpoint:"verifyAssertion",A:function(t){if(la(t),!t.idToken)throw new A("internal-error")},Wa:pa,G:da,U:!0},Ka={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ua,U:!0,C:!0},Wa={endpoint:"verifyPassword",A:function(t){if(sa(t),!t.password)throw new A("wrong-password")},G:ua,U:!0,C:!0},Xa={endpoint:"verifyPhoneNumber",A:ca,G:ua,C:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ca(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);ua(t)}},Ja={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ca,G:ua,C:!0},Qa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ys]^!!t.refreshToken)throw new A("internal-error")},C:!0,La:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return ke(new A("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Se(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),oa(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new A("internal-error");return r[e.Y]}))}function Za(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=Pr(t)),new A("internal-error",e)}function eu(t){this.b=t,this.a=null,this.nb=function(t){return(ou||(ou=new we((function(t,e){function n(){Vr(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:ru.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},Se(Fs(r=At(nu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ou=null,t})))).then((function(){return new we((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),iu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var nu=new gt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new Ur(3e4,6e4),iu=new Ur(5e3,15e3),ou=null;function su(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Un(this.i,"/__/auth/iframe"),Mn(this.a,"apiKey",this.g),Mn(this.a,"appName",this.h),this.b=null,this.c=[]}function au(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return r.a.app(t).auth().Ea()}catch(t){return[]}}function cu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function hu(t){var e=ur();return function(t){return $a(t,xa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Go(ur())}))}function fu(t){return t.l||(t.l=vr().then((function(){if(!t.s){var e=t.c,n=t.h,r=uu(t.b),i=new su(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Q(r||[]),t.s=i.toString()}t.i=new eu(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.l}function lu(t){return t.m||(t.w=t.c?Ar(t.c,uu(t.b)):null,t.m=new Ws(t.f,R(t.h),t.w)),t.m}function pu(t,e,n,r,i,o,s,a,u,c,h){return(t=new au(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=dt(u||null),t.f=c,t.ub(h).toString()}function du(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=E(this.c,this)}su.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Qn(this.a.a,"v"),this.b?Mn(this.a,"eid",this.b):Qn(this.a.a,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Qn(this.a.a,"fw"),this.a.toString()},au.prototype.ub=function(t){return this.h=t,this},au.prototype.toString=function(){var t=Un(this.s,"/__/auth/handler");if(Mn(t,"apiKey",this.m),Mn(t,"appName",this.c),Mn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ja()}catch(t){n=null}for(var i in e.kb=n,Mn(t,"providerId",this.a.providerId),n=xr((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=dt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),pt(n)||Mn(t,"customParameters",Pr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&Mn(t,"scopes",e.join(","))),this.l?Mn(t,"redirectUrl",this.l):Qn(t.a,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Qn(t.a,"eventId"),this.i?Mn(t,"v",this.i):Qn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Qn(t.a,"tid"),this.f?Mn(t,"eid",this.f):Qn(t.a,"eid"),(a=uu(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(e=cu.prototype).Lb=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then((function(){return function(t,e){return t.nb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new we((function(e){return function n(){An(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return An(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Nr();return!Lr(t)&&!jr(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new A("popup-blocked"));if(s&&!Lr())return this.ka().o((function(e){fr(t),i(e)})),r(),Se();this.a||(this.a=hu(lu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(jo(n),s)||cr(pu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=hu(lu(this)));var i=this;return this.a.then((function(){jo(e),cr(pu(i.u,i.f,i.b,t,e,ur(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return fu(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new A("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){Y(this.g,(function(e){return e==t}))},(e=du.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Cr(t)}))},e.set=function(t,e){return Se(this.a.setItem(t,Pr(e)))},e.T=function(t){return Se(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var yu,mu=[];function gu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return Iu(t,c),e})).o((function(e){throw Iu(t,c),e}))}function Iu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function Tu(){if(!Nu())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gr()&&self?(this.l=function(){var t=gr()?self:null;if(G(mu,(function(n){n.b==t&&(e=n)})),!e){var e=new vu(t);mu.push(e)}return e}(),gu(this.l,"keyChanged",(function(e,n){return Ru(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),gu(this.l,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new wu(new bu(e)),Eu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function _u(t){return new we((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return _u(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.m||(t.m=_u(t)),t.m}function Nu(){try{return!!u.indexedDB}catch(t){return!1}}function Su(t){return t.objectStore("firebaseLocalStorage")}function ku(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Du(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Ru(t){return Au(t).then((function(t){var e=Su(ku(t,!1));return e.getAll?Ou(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Lu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Nu()){var t=Mr(),r="__sak"+t;return yu||(yu=new Tu),(n=yu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){G(e.a,(function(e){e(t)}))})),t}))}function xu(){this.a={},this.type="inMemory"}function Cu(){if(!function(){var t="Node"==br();if(!(t=Mu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Mu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Mu(){try{var t=u.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function Vu(){if(!function(){var t="Node"==br();if(!(t=Uu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Uu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uu(){try{var t=u.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Fu(){var t={};t.Browser=Gu,t.Node=Hu,t.ReactNative=zu,t.Worker=Ku,this.a=t[br()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(e=Tu.prototype).set=function(t,e){var n,r=!1,i=this;return Au(this).then((function(e){return Ou((e=Su(ku(n=e,!0))).get(t))})).then((function(o){var s=Su(ku(n,!0));return o?(o.value=e,Ou(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Ou(s.add(o)))})).then((function(){return i.c[t]=e,Du(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return Au(this).then((function(e){return Ou(Su(ku(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return Au(this).then((function(r){return e=!0,n.b++,Ou(Su(ku(r,!0)).delete(t))})).then((function(){return delete n.c[t],Du(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Lu(t),function e(){t.f=setTimeout((function(){t.i=Ru(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Lu(this)},(e=Pu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){Y(this.a,(function(e){return e==t}))},(e=xu.prototype).get=function(t){return Se(this.a[t])},e.set=function(t,e){return this.a[t]=e,Se()},e.T=function(t){return delete this.a[t],Se()},e.ba=function(){},e.ha=function(){},(e=Cu.prototype).get=function(t){var e=this;return Se().then((function(){return Cr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Se().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},e.ba=function(t){u.window&&un(u.window,"storage",t)},e.ha=function(t){u.window&&fn(u.window,"storage",t)},(e=ju.prototype).get=function(){return Se(null)},e.set=function(){return Se()},e.T=function(){return Se()},e.ba=function(){},e.ha=function(){},(e=Vu.prototype).get=function(t){var e=this;return Se().then((function(){return Cr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Se().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var qu,Bu,Gu={F:Cu,$a:Vu},Hu={F:Cu,$a:Vu},zu={F:du,$a:ju},Ku={F:Cu,$a:ju},Wu={od:"local",NONE:"none",qd:"session"};function Xu(){var t=!(jr(Nr())||!mr()),e=Lr(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},qu||(qu=new Fu),t=qu;try{this.g=!ar()&&Br()||!u.indexedDB?new t.a.F:new Pu(gr()?new xu:new t.a.F)}catch(t){this.g=new xu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new xu}this.u=new xu,this.f=E(this.Vb,this),this.b={}}function Yu(){return Bu||(Bu=new Xu),Bu}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Qu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function $u(t,e,n){return n=Qu(e,n),"local"==e.F&&(t.b[n]=null),Ju(t,e.F).T(n)}function Zu(t){t.c&&(clearInterval(t.c),t.c=null)}function tc(t){this.a=t,this.b=Yu()}(e=Xu.prototype).get=function(t,e){return Ju(this,t.F).get(Qu(t,e))},e.set=function(t,e,n){var r=Qu(t,n),i=this,o=Ju(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Qu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),pt(this.a)&&(Ju(this,"local").ba(this.f),this.h||(ar()||!Br())&&u.indexedDB||!this.l||function(t){Zu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Qu(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ju(this,"local").ha(this.f),Zu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ha(this.f):Zu(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},Wt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,E(this.ib,this))},e.ib=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var ec,nc={name:"authEvent",F:"local"};function rc(){this.a=Yu()}function ic(t,e){this.b=oc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=u.Int32Array?new Int32Array(lc):lc),this.reset()}_(ic,(function(){this.b=-1}));for(var oc=64,sc=oc-1,ac=[],uc=0;uc<sc;uc++)ac[uc]=0;var cc=J(128,ac);function hc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|ec[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function fc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hc(t),i=0)}}t.c=i,t.g+=n}ic.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Q(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pc(){ic.call(this,8,dc)}_(pc,ic);var dc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new rc,this.g=new tc(this.h),this.f=null,this.b=[],this.a=this.c=null}function yc(t){return new A("invalid-cordova-configuration",t)}function mc(t){var e=new pc;fc(e,t),t=[];var n=8*e.g;56>e.c?fc(e,cc,56-e.c):fc(e,cc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function gc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function bc(t){return t.f||(t.f=t.ka().then((function(){return new we((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),wc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Cr(jn(o=Vn(i),"firebaseError")||null))?N(o):null)?new Vo(r.c,r.b,null,null,o,null,r.S()):new Vo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}gc(t,i)}))}var n=new Vo("unknown",null,null,null,new A("no-auth-event")),r=!1,i=An(500).then((function(){return wc(t).then((function(){r||gc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Bo||(Bo=new Fo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function wc(t){var e=null;return function(t){return t.b.get(nc,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,$u((n=t.g).b,nc,n.a)})).then((function(){return e}))}function Ec(t){this.a=t,this.b=Yu()}(e=vc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(yr(void 0)?vr().then((function(){return new we((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",u))throw yc("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",u))throw yc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",u))throw yc("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",u))throw yc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},e.Lb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),Se()},e.Jb=function(){return ke(new A("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return ke(new A("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,h=null;return this.c=Se().then((function(){return jo(e),bc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new A("no-auth-event"),null,i),a=Sr("BuildInfo.packageName",u);if("string"!=typeof a)throw new A("invalid-cordova-configuration");var c=Sr("BuildInfo.displayName",u),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!Nr().toLowerCase().match(/android/))return ke(new A("operation-not-supported-in-this-environment"));h.apn=a}c&&(h.appDisplayName=c),o=mc(o),h.sessionId=o;var f=pu(t.u,t.i,t.l,e,n,null,r,t.m,h,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(nc,s.v(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");e=Nr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){a=function(){var e=Sr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),c=function(){s||(s=An(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},h=function(){Fr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return wc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},e.Ca=function(t){this.b.push(t),bc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new A("no-auth-event")),t(e))}))},e.Qa=function(t){Y(this.b,(function(e){return e==t}))};var Ic={name:"pendingRedirect",F:"session"};function Tc(t){return $u(t.b,Ic,t.a)}function _c(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Vc,this.B=new Gc,this.g=new Ec(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Ac(this.D,this.u,this.m,S)}function Ac(t,e,n,i){var o=r.a.SDK_VERSION||null;return yr()?new vc(t,e,n,o,i):new cu(t,e,n,o,i)}function Nc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Sc(t){t.a.Ub()&&Nc(t).o((function(e){var n=new Vo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Pc(e)&&t.s(n)})),t.a.Qb()||Uc(t.b)}function kc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ic,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Tc(t.g).then((function(){Nc(t).o((function(e){var n=new Vo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Pc(e)&&t.s(n)}))})):Sc(t)})).o((function(){Sc(t)}))}function Oc(t,e){Y(t.h,(function(t){return t==e}))}_c.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Ac(this.D,this.u,this.m),this.i={}},_c.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=T()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=T())),e=!0;break}}return Uc(this.b),e};var Dc=new Ur(2e3,1e4),Rc=new Ur(3e4,6e4);function Lc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Pc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function xc(t,e,n,r,i){var o;return function(t){return t.b.set(Ic,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Pc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Tc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new we((function(){})):Tc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Cc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Dc.get())}_c.prototype.pa=function(){return this.b.pa()};var Mc={};function jc(t,e,n){var r=e+":"+n;return Mc[r]||(Mc[r]=new _c(t,e,n)),Mc[r]}function Vc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(t){t.g||(t.g=!0,Bc(t,!1,null,null))}function Fc(t){t.g&&!t.i&&Bc(t,!1,null,null)}function qc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Bc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):qc(t,n):qc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Hc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function zc(t,e){this.a=e,Wr(this,"verificationId",t)}function Kc(t,e,n,r){return new xo(t).cb(e,n).then((function(t){return new zc(t,r)}))}function Wc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xc(t,e,n){var r=e&&e[Jc];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;G(e[Yc]||[],(function(t){(t=$r(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Vc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Bc(this,!0,null,t.a),Se()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Bc(t,a,e,null)})).o((function(e){Bc(t,a,null,e)}))}(this,t,e):ke(new A("invalid-auth-event")):(Bc(this,!1,null,null),Se())}else ke(new A("invalid-auth-event"))},Vc.prototype.pa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=An(Rc.get()).then((function(){t.b||(t.g=!0,Bc(t,!0,null,e))}))}(t))}))},Gc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Se()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):ke(new A("invalid-auth-event"))}else ke(new A("invalid-auth-event"))},zc.prototype.confirm=function(t){return t=Co(this.verificationId,t),this.a(t)};var Yc="mfaInfo",Jc="mfaPendingCredential";function Qc(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new Xc(t,e,n),Wr(this,"resolver",this.b)}function $c(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Zc(){}function th(t){Wr(this,"factorId",t.ea),this.a=t}function eh(t){if(th.call(this,t),this.a.ea!=xo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nh(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function rh(t,e){this.a=t,this.b=[],this.c=E(this.wc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ih(this,n)}function ih(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function oh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sh(t){this.c=t,this.b=this.a=null}function ah(t){return t.b&&1e3*t.b.c||0}function uh(t,e){var n=e.refreshToken;t.b=qi(e[Ys]||""),t.a=n}function ch(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?na(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(tu(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.m.get()):r(new A("internal-error"))}))}(t.c,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function hh(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function fh(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function lh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.a=new Ws(this.l,R(S),t),this.b=new sh(this.a),bh(this,e[Ys]),uh(this.b,e),Wr(this,"refreshToken",this.b.a),Ih(this,n||{}),wn.call(this),this.P=!1,this.s&&Or()&&(this.i=jc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new oh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=ah(t.b)-T()-3e5;return 0<e?e:0}))}(this),this.Z=E(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){dh(i,t.c)},this.$=null,this.O=new rh(this,n),Wr(this,"multiFactor",this.O)}function ph(t,e){t.aa&&fn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&un(e,"languageCodeChanged",t.za)}function dh(t,e){t.W=e,ea(t.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,t.W):null)}function vh(t,e){t.$&&fn(t.$,"frameworkChanged",t.ya),(t.$=e)&&un(e,"frameworkChanged",t.ya)}function yh(t){try{return r.a.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function mh(t){t.D||t.B.b||(t.B.start(),fn(t,"tokenChanged",t.Z),un(t,"tokenChanged",t.Z))}function gh(t){fn(t,"tokenChanged",t.Z),t.B.stop()}function bh(t,e){t.xa=e,Wr(t,"_lat",e)}function wh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return De(e).then((function(){return t}))}function Eh(t){t.i&&!t.P&&(t.P=!0,kc(t.i,t))}function Ih(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Th(){}function _h(t){return Se().then((function(){if(t.D)throw new A("app-deleted")}))}function Ah(t){return z(t.providerData,(function(t){return t.providerId}))}function Nh(t,e){e&&(Sh(t,e.providerId),t.providerData.push(e))}function Sh(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function kh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Oh(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new hh(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new hh),G(e.providerData,(function(e){Nh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Wr(t,"refreshToken",t.b.a),ih(t.O,e.O.b))}function Dh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return $a(t.a,Oa,{idToken:e}).then(E(t.Ic,t))}(t,e).then((function(){return n||kh(t,"isAnonymous",!1),e}))}))}function Rh(t,e){e[Ys]&&t.xa!=e[Ys]&&(uh(t.b,e),t.dispatchEvent(new nh("tokenChanged")),bh(t,e[Ys]),kh(t,"refreshToken",t.b.a))}function Lh(t,e){return Dh(t).then((function(){if(W(Ah(t),e))return wh(t).then((function(){throw new A("provider-already-linked")}))}))}function Ph(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Wi(e),operationType:n})}function xh(t,e){return Rh(t,e),t.reload().then((function(){return t}))}function Ch(t,e,n,i,o){if(!Or())return ke(new A("operation-not-supported-in-this-environment"));if(t.h&&!o)return ke(t.h);var s=Ki(n.providerId),a=Mr(t.uid+":::"),u=null;(!Lr()||mr())&&t.s&&n.isOAuthProvider&&(u=pu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=lr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(jh(t),!o)return t.I().then((function(){}))})).then((function(){return Lc(t.i,c,e,n,a,!!u,t.tenantId)})).then((function(){return new we((function(n,r){t.la(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Cc(t.i,t,e,c,a)}))})).then((function(t){return c&&fr(c),t?Yr(t):null})).o((function(t){throw c&&fr(c),t})),Vh(t,i,o)}function Mh(t,e,n,r,i){if(!Or())return ke(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(jh(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,wh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(qh,t.v(),e.a)),e})).then((function(){return xc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Bh(t.ga);throw o})).then((function(){if(o)throw o})),Vh(t,r,i)}function jh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Vh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new nh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){X(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$c(e.v(),yh(t),E(t.hc,t))),n||e}))}function Uh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new lh(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Nh(r,Yr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Fh(t){this.a=t,this.b=Yu()}Xc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Yc],delete n[Jc],yt(n,t),e.g(n)}))},_(Qc,A),Zc.prototype.ob=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Po(t.a)}),$a(e,Sa,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),$a(e,ka,n)}))}(this,t,e)},_(th,Zc),_(eh,th),_(nh,Ye),(e=rh.prototype).wc=function(t){ih(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=$r(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new ro(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Rh(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $a(r,Qa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return ih(e,r),Rh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.v()}))}}},oh.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=An(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Fr()||!t?Se():new we((function(n){e=function(){Fr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},oh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ah(this)}},sh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new A("user-token-expired")):t||!this.b||T()>ah(this)-3e4?this.a?ch(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},hh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(lh,wn),lh.prototype.va=function(t){this.oa=t,ta(this.a,t)},lh.prototype.ja=function(){return this.oa},lh.prototype.Ea=function(){return Q(this.W)},lh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Wr(lh.prototype,"providerId","firebase"),(e=lh.prototype).reload=function(){var t=this;return Vh(this,_h(this).then((function(){return Dh(t).then((function(){return wh(t)})).then(Th)})))},e.mc=function(t){return this.I(t).then((function(t){return new Wc(t)}))},e.I=function(t){var e=this;return Vh(this,_h(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.xa&&(bh(e,t.accessToken),e.dispatchEvent(new nh("tokenChanged"))),kh(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");Ih(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new fh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Nh(this,e[n]);kh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nh("userReloaded",{ed:t}))},e.Jc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return Vh(this,t.c(this.a,this.uid).then((function(t){return Rh(e,t),n=Ph(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return Vh(this,Lh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ph(e,t,"link"),xh(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return Vh(this,Lh(this,"phone").then((function(){return Kc(yh(n),t,e,E(n.mb,n))})))},e.Kc=function(t,e){var n=this;return Vh(this,Se().then((function(){return Kc(yh(n),t,e,E(n.pb,n))})),!0)},e.xb=function(t){var e=this;return Vh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Rh(e,t),e.reload()})))},e.cd=function(t){var e=this;return Vh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Rh(e,t),e.reload()})))},e.yb=function(t){var e=this;return Vh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Rh(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return _h(this);var e=this;return Vh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Rh(e,t),kh(e,"displayName",t.displayName||null),kh(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),wh(e)})).then(Th))},e.ad=function(t){var e=this;return Vh(this,Dh(this).then((function(n){return W(Ah(e),t)?function(t,e,n){return $a(t,_a,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Ah(e),(function(t){n[t]||Sh(e,t)})),n[xo.PROVIDER_ID]||Wr(e,"phoneNumber",null),wh(e)})):wh(e).then((function(){throw new A("no-such-provider")}))})))},e.delete=function(){var t=this;return Vh(this,this.I().then((function(e){return $a(t.a,Ta,{idToken:e})})).then((function(){t.dispatchEvent(new nh("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ph(t,null),vh(t,null),t.N=[],t.D=!0,gh(t),Wr(t,"refreshToken",null),t.i&&Oc(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?E(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?E(this.Ib,this):null},e.Cc=function(t){var e=this;return Ch(this,"linkViaPopup",t,(function(){return Lh(e,t.providerId).then((function(){return wh(e)}))}),!1)},e.Lc=function(t){return Ch(this,"reauthViaPopup",t,(function(){return Se()}),!0)},e.Dc=function(t){var e=this;return Mh(this,"linkViaRedirect",t,(function(){return Lh(e,t.providerId)}),!1)},e.Mc=function(t){return Mh(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vh(this,this.I().then((function(n){return ya(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ph(i,t,"link"),xh(i,t)})).then((function(){return o})))},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vh(this,Se().then((function(){return ao(ma(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ph(i,t,"reauthenticate"),Rh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},e.qb=function(t){var e=this,n=null;return Vh(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:ji(new Si(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return Vh(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:ji(new Si(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return Vh(this,t=ao(Se(t),n.uid).then((function(t){return e=Ph(n,t,"reauthenticate"),Rh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&yt(t,this.metadata.v()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.O.v()),t};var qh={name:"redirectUser",F:"session"};function Bh(t){return $u(t.b,qh,t.a)}function Gh(t){this.a=t,this.b=Yu(),this.c=null,this.f=function(t){var e=Kh("local"),n=Kh("session"),r=Kh("none");return function(t,e,n){var r=Qu(e,n),i=Ju(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Cr(u.localStorage.getItem(r))}catch(t){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(zh,t.a).then((function(t){return t?Kh(t):e}))}))}))})).then((function(e){return t.c=e,Hh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Kh("local"),this.a,E(this.g,this))}function Hh(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push($u(t.b,Kh(Wu[n]),t.a));return r.push($u(t.b,zh,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Oe(t[a],I(o,a),s);else e(i)}))}(r)}Gh.prototype.g=function(){var t=this,e=Kh("local");Jh(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Hh(t,"local").then((function(){t.c=e}))}))}))};var zh={name:"persistence",F:"session"};function Kh(t){return{name:"authUser",F:t}}function Wh(t,e){return Jh(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Xh(t){return Jh(t,(function(){return $u(t.b,t.c,t.a)}))}function Yh(t,e){return Jh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Uh(t||{})}))}))}function Jh(t,e){return t.f=t.f.then(e,e),t.f}function Qh(t){if(this.l=!1,Wr(this,"settings",new Hc),Wr(this,"app",t),!sf(this).options||!sf(this).options.apiKey)throw new A("invalid-api-key");t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.b=new Ws(sf(this).options&&sf(this).options.apiKey,R(S),t),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(E(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(E(this.yc,this)),rf(this,null),this.i=new Gh(sf(this).options.apiKey+":"+sf(this).name),this.B=new Fh(sf(this).options.apiKey+":"+sf(this).name),this.Z=hf(this,function(t){var e=sf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(qh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Uh(t||{})}))}(t.B,sf(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Bh(t.B)}));return hf(t,e)}(t).then((function(){return Yh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Wh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Xh(t.i)}))):null})).then((function(e){rf(t,e||null)}));return hf(t,n)}(this)),this.h=hf(this,function(t){return t.Z.then((function(){return ef(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Kh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=E(this.Xc,this),this.Ma=E(this.ca,this),this.xa=E(this.jc,this),this.ya=E(this.uc,this),this.za=E(this.vc,this),this.a=null,function(t){var e=sf(t).options.authDomain,n=sf(t).options.apiKey;e&&Or()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=jc(e,n,sf(t).name),kc(t.a,t),af(t)&&Eh(af(t)),t.D){Eh(t.D);var r=t.D;r.va(t.ja()),ph(r,t),dh(r=t.D,t.N),vh(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Ec,this),this.s=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function $h(t){Ye.call(this,"languageCodeChanged"),this.g=t}function Zh(t){Ye.call(this,"frameworkChanged"),this.c=t}function tf(t){return t.Zb||ke(new A("auth-domain-config-required"))}function ef(t){if(!Or())return ke(new A("operation-not-supported-in-this-environment"));var e=tf(t).then((function(){return t.a.pa()})).then((function(t){return t?Yr(t):null}));return hf(t,e)}function nf(t,e){var n={};return n.apiKey=sf(t).options.apiKey,n.authDomain=sf(t).options.authDomain,n.appName=sf(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new lh(t,e);return n&&(i.ga=n),r&&dh(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return af(t)&&e.uid==af(t).uid?(Oh(af(t),e),t.ca(e)):(rf(t,e),Eh(e),t.ca(e))})).then((function(){cf(t)}))}function rf(t,e){af(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(af(t),t.Ma),fn(af(t),"tokenChanged",t.xa),fn(af(t),"userDeleted",t.ya),fn(af(t),"userInvalidated",t.za),gh(af(t))),e&&(e.R.push(t.Ma),un(e,"tokenChanged",t.xa),un(e,"userDeleted",t.ya),un(e,"userInvalidated",t.za),0<t.s&&mh(e)),Wr(t,"currentUser",e),e&&(e.va(t.ja()),ph(e,t),dh(e,t.N),vh(e,t))}function of(t,e){var n=null,r=null;return hf(t,e.then((function(e){return n=Mo(e),r=Wi(e),nf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$c(e.v(),t,E(t.ic,t))),n||e})).then((function(){return Yr({user:af(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function sf(t){return t.app}function af(t){return t.currentUser}function uf(t){return af(t)&&af(t)._lat||null}function cf(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](uf(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uf(t))}}function hf(t,e){return t.P.push(e),e.ma((function(){X(t.P,e)})),e}function ff(){}function lf(){this.a={},this.b=1e12}Gh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),Jh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Hh(n,t)})).then((function(){if(n.c=Kh(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},_(Qh,wn),_($h,Ye),_(Zh,Ye),(e=Qh.prototype).tb=function(t){return hf(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,ta(this.b,this.$),this.dispatchEvent(new $h(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),ea(this.b,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Zh(this.N))},e.Ea=function(){return Q(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:sf(this).options.apiKey,authDomain:sf(this).options.authDomain,appName:sf(this).name,currentUser:af(this)&&af(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return of(i,va(i.b,o))}))},e.Vc=function(t){if(!Or())return ke(new A("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),i=Mr(),o=null;(!Lr()||mr())&&sf(this).options.authDomain&&t.isOAuthProvider&&(o=pu(sf(this).options.authDomain,sf(this).options.apiKey,sf(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S()));var s=lr(o,n&&n.ta,n&&n.sa);return hf(this,n=tf(this).then((function(n){return Lc(n,s,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new we((function(t,n){e.la("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Cc(e.a,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&fr(s),t?Yr(t):null})).o((function(t){throw s&&fr(s),t})))},e.Wc=function(t){if(!Or())return ke(new A("operation-not-supported-in-this-environment"));var e=this;return hf(this,tf(this).then((function(){return function(t){return Jh(t,(function(){return t.b.set(zh,t.c.F,t.a)}))}(e.i)})).then((function(){return xc(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return ef(this).then((function(e){return t.a&&Fc(t.a.b),e})).o((function(e){throw t.a&&Fc(t.a.b),e}))},e.bd=function(t){if(!t)return ke(new A("null-user"));if(this.R!=t.tenantId)return ke(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=sf(this).options.apiKey,n.authDomain=sf(this).options.authDomain,n.appName=sf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new lh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&dh(e,r),Oh(e,t),e}(t,n,e.B,e.Ea());return hf(this,this.h.then((function(){if(sf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return af(e)&&t.uid==af(e).uid?(Oh(af(e),t),e.ca(t)):(rf(e,r),Eh(r),e.ca(r))})).then((function(){cf(e)})))},e.wb=function(){var t=this;return hf(this,this.h.then((function(){return t.a&&Fc(t.a.b),af(t)?(rf(t,null),Xh(t.i).then((function(){cf(t)}))):Se()})))},e.Xc=function(){var t=this;return Yh(this.i,sf(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=af(t)&&e){n=af(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Oh(af(t),e),af(t).I();(af(t)||e)&&(rf(t,e),e&&(Eh(e),e.ga=t.B),t.a&&kc(t.a,t),cf(t))}}))},e.ca=function(t){return Wh(this.i,t)},e.jc=function(){cf(this),this.ca(af(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return of(e,Se(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(af(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),hf(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(uf(t)))})))}(this,(function(){t.next(af(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){d(t)?t(af(r)):d(t.next)&&t.next(af(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),d(t)?t(af(r)):d(t.next)&&t.next(af(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return hf(this,this.h.then((function(){return af(e)?af(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return of(e,$a(e.b,Ka,{token:t}))})).then((function(t){var n=t.user;return kh(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return of(n,$a(n.b,Wa,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return of(n,$a(n.b,Ea,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return of(e,t.ia(e.b))}))},e.Qc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=af(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return of(t,t.b.vb()).then((function(e){var n=e.user;return kh(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return af(this)&&af(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&af(this)&&mh(af(this))},e.Nc=function(t){var e=this;G(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&af(this)&&gh(af(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),hf(this,this.h.then((function(){e.l||W(e.m,t)&&t(uf(e))})))},e.removeAuthTokenListener=function(t){Y(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Kh("local"),t.a,this.oa),this.a&&(Oc(this.a,this),Fc(this.a.b)),Promise.resolve()},e.fc=function(t){return hf(this,function(t,e){return $a(t,Ia,{identifier:e,continueUri:Dr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Do(t)},e.sb=function(t,e){var n=this;return hf(this,Se().then((function(){var t=new Si(e);if(!t.c)throw new A("argument-error",Di+" must be true when sending sign in link to email");return ji(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return hf(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return hf(this,this.b.Pa(t).then((function(t){return new ii(t)})))},e.fb=function(t){return hf(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return hf(this,Se().then((function(){return void 0===e||pt(e)?{}:ji(new Si(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return hf(this,Kc(this,t,e,E(this.Ya,this)))},e.Tc=function(t,e){var n=this;return hf(this,Se().then((function(){var r=e||ur(),i=Oo(t,r);if(!(r=Do(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new A("tenant-id-mismatch");return n.Ya(i)})))},ff.prototype.render=function(){},ff.prototype.reset=function(){},ff.prototype.getResponse=function(){},ff.prototype.execute=function(){};var pf=null;function df(t,e){return(e=vf(e))&&t.a[e]||null}function vf(t){return(t=void 0===t?1e12:t)?t.toString():null}function yf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function mf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function gf(){}function bf(){}lf.prototype.render=function(t,e){return this.a[this.b.toString()]=new yf(t,e),this.b++},lf.prototype.reset=function(t){var e=df(this,t);t=vf(t),e&&t&&(e.delete(),delete this.a[t])},lf.prototype.getResponse=function(t){return(t=df(this,t))?t.getResponse():null},lf.prototype.execute=function(t){(t=df(this,t))&&t.execute()},yf.prototype.getResponse=function(){return mf(this),this.b},yf.prototype.execute=function(){mf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},yf.prototype.delete=function(){mf(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Wr(gf,"FACTOR_ID","phone"),bf.prototype.g=function(){return pf||(pf=new lf),Se(pf)},bf.prototype.c=function(){};var wf=null;function Ef(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var If=new gt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Tf=new Ur(3e4,6e4);Ef.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Tf.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[e.a]},Se(Fs(At(If,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ef.prototype.c=function(){this.b--};var _f=null;function Af(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(wf||(wf=new bf),s=wf):(_f||(_f=new Ef),s=_f),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kf])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Of],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ws(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var c=this.a[Nf];this.a[Nf]=function(t){if(Df(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Sr(c,u);"function"==typeof e&&e(t)}};var h=this.a[Sf];this.a[Sf]=function(){if(Df(a,null),"function"==typeof h)h();else if("string"==typeof h){var t=Sr(h,u);"function"==typeof t&&t()}}}var Nf="callback",Sf="expired-callback",kf="sitekey",Of="size";function Df(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Rf(t,e){return t.h.push(e),e.ma((function(){X(t.h,e)})),e}function Lf(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Pf(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,s):null,Af.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,R(S),i)}function xf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Cf.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Cf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(e=Af.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Rf(this,Se().then((function(){if(Dr()&&!gr())return vr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,$a(t.s,Ca,{})})).then((function(e){t.a[kf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Lf(this);var t=this;return Rf(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};yt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=le(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Lf(this);var t=this;return Rf(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Lf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Lf(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Pf,Af);var Cf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Mf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function jf(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Vf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Uf(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function Ff(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function qf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Bf(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Gf(t){return v(t)&&"string"==typeof t.uid}function Hf(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function zf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Kf(t,e){for(var n in e){var r=e[n].name;t[r]=Yf(r,t[n],e[n].j)}}function Wf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I((function(t){return this[t]}),n),set:I((function(t,e,n,r){xf(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Xf(t,e,n,r){t[e]=Yf(e,n,r)}function Yf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return xf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kf(Qh.prototype,{fb:{name:"applyActionCode",j:[Mf("code")]},Pa:{name:"checkActionCode",j:[Mf("code")]},jb:{name:"confirmPasswordReset",j:[Mf("code"),Mf("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Mf("email"),Mf("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Mf("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Mf("emailLink")]},Fc:{name:"onAuthStateChanged",j:[zf(Vf(),Uf(),"nextOrObserver"),Uf("opt_error",!0),Uf("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[zf(Vf(),Uf(),"nextOrObserver"),Uf("opt_error",!0),Uf("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Mf("email"),zf(Vf("opt_actionCodeSettings",!0),Ff(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Mf("email"),Vf("actionCodeSettings")]},tb:{name:"setPersistence",j:[Mf("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[qf()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[qf()]},Rc:{name:"signInWithCustomToken",j:[Mf("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Mf("email"),Mf("password")]},Tc:{name:"signInWithEmailLink",j:[Mf("email"),Mf("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Mf("phoneNumber"),Hf()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[zf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof lh)}},Ff(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Mf(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Mf("code")]}}),Wf(Qh.prototype,{lc:{name:"languageCode",gb:zf(Mf(),Ff(),"languageCode")},ti:{name:"tenantId",gb:zf(Mf(),Ff(),"tenantId")}}),Qh.Persistence=Wu,Qh.Persistence.LOCAL="local",Qh.Persistence.SESSION="session",Qh.Persistence.NONE="none",Kf(lh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[jf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jf("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[qf()]},mb:{name:"linkWithCredential",j:[qf()]},Bc:{name:"linkWithPhoneNumber",j:[Mf("phoneNumber"),Hf()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qf()]},pb:{name:"reauthenticateWithCredential",j:[qf()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Mf("phoneNumber"),Hf()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[zf(Vf("opt_actionCodeSettings",!0),Ff(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Mf(null,!0)]},ad:{name:"unlink",j:[Mf("provider")]},xb:{name:"updateEmail",j:[Mf("email")]},yb:{name:"updatePassword",j:[Mf("password")]},cd:{name:"updatePhoneNumber",j:[qf("phone")]},zb:{name:"updateProfile",j:[Vf("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Mf("email"),zf(Vf("opt_actionCodeSettings",!0),Ff(null,!0),"opt_actionCodeSettings",!0)]}}),Kf(lf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kf(ff.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kf(we.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Wf(Hc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:jf("appVerificationDisabledForTesting")}}),Kf(zc.prototype,{confirm:{name:"confirm",j:[Mf("verificationCode")]}}),Xf(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,So,Lo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[zf(Mf(),Vf(),"json")]),Xf(ko,"credential",(function(t,e){return new No(t,e)}),[Mf("email"),Mf("password")]),Kf(No.prototype,{v:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(go.prototype,{Aa:{name:"addScope",j:[Mf("scope")]},Ia:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Xf(go,"credential",bo,[zf(Mf(),Vf(),"token")]),Xf(ko,"credentialWithLink",Oo,[Mf("email"),Mf("emailLink")]),Kf(wo.prototype,{Aa:{name:"addScope",j:[Mf("scope")]},Ia:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Xf(wo,"credential",Eo,[zf(Mf(),Vf(),"token")]),Kf(Io.prototype,{Aa:{name:"addScope",j:[Mf("scope")]},Ia:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Xf(Io,"credential",To,[zf(Mf(),zf(Vf(),Ff()),"idToken"),zf(Mf(),Ff(),"accessToken",!0)]),Kf(_o.prototype,{Ia:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Xf(_o,"credential",Ao,[zf(Mf(),Vf(),"token"),Mf("secret",!0)]),Kf(mo.prototype,{Aa:{name:"addScope",j:[Mf("scope")]},credential:{name:"credential",j:[zf(Mf(),zf(Vf(),Ff()),"optionsOrIdToken"),zf(Mf(),Ff(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Kf(fo.prototype,{v:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(uo.prototype,{v:{name:"toJSON",j:[Mf(null,!0)]}}),Xf(xo,"credential",Co,[Mf("verificationId"),Mf("verificationCode")]),Kf(xo.prototype,{cb:{name:"verifyPhoneNumber",j:[zf(Mf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Bf(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bf(t.session,oo)&&Gf(t.multiFactorHint):t.session&&t.multiFactorUid?Bf(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Hf()]}}),Kf(Ro.prototype,{v:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(A.prototype,{toJSON:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(Ho.prototype,{toJSON:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(Go.prototype,{toJSON:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(Qc.prototype,{toJSON:{name:"toJSON",j:[Mf(null,!0)]}}),Kf(Xc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Kf(rh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Mf("displayName",!0)]},$c:{name:"unenroll",j:[zf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Gf},Mf(),"multiFactorInfoIdentifier")]}}),Kf(Pf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xf(gi,"parseLink",Ni,[Mf("link")]),Xf(gf,"assertion",(function(t){return new eh(t)}),[qf("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qh,AuthCredential:so,Error:A};Xf(t,"EmailAuthProvider",ko,[]),Xf(t,"FacebookAuthProvider",go,[]),Xf(t,"GithubAuthProvider",wo,[]),Xf(t,"GoogleAuthProvider",Io,[]),Xf(t,"TwitterAuthProvider",_o,[]),Xf(t,"OAuthProvider",mo,[Mf("providerId")]),Xf(t,"SAMLAuthProvider",yo,[Mf("providerId")]),Xf(t,"PhoneAuthProvider",xo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Qh)}}]),Xf(t,"RecaptchaVerifier",Pf,[zf(Mf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Xf(t,"ActionCodeURL",gi,[]),Xf(t,"PhoneMultiFactorGenerator",gf,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Qh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.kc,t),addAuthTokenListener:E(t.bc,t),removeAuthTokenListener:E(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.5"),r.a.INTERNAL.extendNamespace({User:lh})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(2))},function(t,e,n){(function(t){!function(e){"use strict";try{(function(){e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n,r,i,o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e,n,r){return new(n=n||Promise)((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=0<(i=s.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=p[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,h(["["+i+"]  "+t.name+":"],n))}}(i=r=r||{})[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",r.DEBUG,r.VERBOSE,r.INFO,r.WARN,r.ERROR,r.SILENT;var l=r.INFO,p=((n={})[r.DEBUG]="log",n[r.VERBOSE]="log",n[r.INFO]="info",n[r.WARN]="warn",n[r.ERROR]="error",n),d=(Object.defineProperty(v.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),v.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.DEBUG],t)),this._logHandler.apply(this,h([this,r.DEBUG],t))},v.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.VERBOSE],t)),this._logHandler.apply(this,h([this,r.VERBOSE],t))},v.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.INFO],t)),this._logHandler.apply(this,h([this,r.INFO],t))},v.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.WARN],t)),this._logHandler.apply(this,h([this,r.WARN],t))},v.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.ERROR],t)),this._logHandler.apply(this,h([this,r.ERROR],t))},v);function v(t){this.name=t,this._logLevel=l,this._logHandler=f,this._userLogHandler=null}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var m,g=(s(b,m=Error),b);function b(t,e){var n=m.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,w.prototype.create),n}var w=(E.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?(r=i,s.replace(I,(function(t,e){var n=r[e];return null!=n?n.toString():"<"+e+"?>"}))):"Error",u=this.serviceName+": "+a+" ("+o+").",c=new g(o,u),h=0,f=Object.keys(i);h<f.length;h++){var l=f[h];"_"!==l.slice(-1)&&(l in c&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),c[l]=i[l])}return c},E);function E(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var I=/\{\$([^}]+)}/g,T=(_.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},_.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},_.prototype.setServiceProps=function(t){return this.serviceProps=t,this},_);function _(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}function A(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var N,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},k=k||{},O=S||self;function D(){}function R(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function L(t){var e=R(t);return"array"==e||"object"==e&&"number"==typeof t.length}function P(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var x="closure_uid_"+(1e9*Math.random()>>>0),C=0;function M(t,e,n){return t.call.apply(t.bind,arguments)}function j(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function V(t,e,n){return(V=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:j).apply(null,arguments)}function U(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var F=Date.now||function(){return+new Date};function q(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function B(){this.j=this.j,this.i=this.i}B.prototype.j=!1,B.prototype.da=function(){var t;!this.j&&(this.j=!0,this.C(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,x)&&t[x]||(t[x]=++C))},B.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function z(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function W(t){return/^[\s\xa0]*$/.test(t)}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function J(t,e){return-1!=t.indexOf(e)}function Q(t,e){return t<e?-1:e<t?1:0}t:{var $=O.navigator;if($){var Z=$.userAgent;if(Z){X=Z;break t}}X=""}function tt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function et(t){var e={};for(var n in t)e[n]=t[n];return e}var nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<nt.length;o++)n=nt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function it(t){return it[" "](t),t}it[" "]=D;var ot,st,at=J(X,"Opera"),ut=J(X,"Trident")||J(X,"MSIE"),ct=J(X,"Edge"),ht=ct||ut,ft=J(X,"Gecko")&&!(J(X.toLowerCase(),"webkit")&&!J(X,"Edge"))&&!(J(X,"Trident")||J(X,"MSIE"))&&!J(X,"Edge"),lt=J(X.toLowerCase(),"webkit")&&!J(X,"Edge");function pt(){var t=O.document;return t?t.documentMode:void 0}t:{var dt="",vt=(st=X,ft?/rv:([^\);]+)(\)|;)/.exec(st):ct?/Edge\/([\d\.]+)/.exec(st):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(st):lt?/WebKit\/(\S+)/.exec(st):at?/(?:Version)[ \/]?(\S+)/.exec(st):void 0);if(vt&&(dt=vt?vt[1]:""),ut){var yt=pt();if(null!=yt&&yt>parseFloat(dt)){ot=String(yt);break t}}ot=dt}var mt={};function gt(t){return e=t,n=function(){for(var e=0,n=Y(String(ot)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Q(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Q(0==s[2].length,0==a[2].length)||Q(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},r=mt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var bt=O.document&&ut&&(pt()||parseInt(ot,10))||void 0,wt=!ut||9<=Number(bt),Et=ut&&!gt("9"),It=function(){if(!O.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{O.addEventListener("test",D,e),O.removeEventListener("test",D,e)}catch(t){}return t}();function Tt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function _t(t,e){if(Tt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ft){t:{try{it(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:At[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Tt.prototype.b=function(){this.defaultPrevented=!0},q(_t,Tt);var At={2:"touch",3:"pen",4:"mouse"};_t.prototype.b=function(){_t.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Et)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Nt="closure_listenable_"+(1e6*Math.random()|0),St=0;function kt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++St,this.V=this.X=!1}function Ot(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function Dt(t){this.src=t,this.a={},this.b=0}function Rt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=G(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ot(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}Dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Lt(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new kt(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var Pt="closure_lm_"+(1e6*Math.random()|0),xt={};function Ct(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Gt(r),e&&e[Nt]?e.sa(n,r,P(i)?!!i.capture:!!i,o):Mt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ct(t,e[o],n,r,i);return null}return n=Gt(n),t&&t[Nt]?t.ra(e,n,P(r)?!!r.capture:!!r,i):Mt(t,e,n,!1,r,i)}function Mt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=P(i)?!!i.capture:!!i;if(s&&!wt)return null;var a,u,c=qt(t);if(c||(t[Pt]=c=new Dt(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=Ft,r=u=wt?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)It||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[Nt])Rt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qt(e))?(Rt(n,t),0==n.b&&(n.src=null,e[Pt]=null)):Ot(t)}}}function Vt(t){return t in xt?xt[t]:xt[t]="on"+t}function Ut(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&jt(t),n.call(r,e)}function Ft(t,e){if(t.V)return!0;if(wt)return Ut(t,new _t(e,this));if(!e)t:{e=["window","event"];for(var n=O,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ut(t,e=new _t(e,this))}function qt(t){return(t=t[Pt])instanceof Dt?t:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(t){return"function"==R(t)?t:(t[Bt]||(t[Bt]=function(e){return t.handleEvent(e)}),t[Bt])}function Ht(){B.call(this),this.c=new Dt(this),(this.J=this).A=null}function zt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&Rt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}q(Ht,B),Ht.prototype[Nt]=!0,(N=Ht.prototype).addEventListener=function(t,e,n,r){Ct(this,t,e,n,r)},N.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=P(i)?!!i.capture:!!i,r=Gt(r),e&&e[Nt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Lt(s=e.a[n],r,i,o))&&(Ot(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&qt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Lt(n,r,i,o)),(r=-1<e?n[e]:null)&&jt(r))}(this,t,e,n,r)},N.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Tt(t,n);else if(t instanceof Tt)t.target=t.target||n;else{var i=t;rt(t=new Tt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=zt(s,r,!0,t)&&i}if(i=zt(s=t.a=n,r,!0,t)&&i,i=zt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=zt(s=t.a=e[o],r,!1,t)&&i;return i},N.C=function(){if(Ht.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ot(n[r]);delete e.a[t],e.b--}}this.A=null},N.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},N.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Kt=O.JSON.stringify;function Wt(){this.b=this.a=null}var Xt,Yt=(Jt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Jt((function(){return new Qt}),(function(t){t.reset()}),100));function Jt(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Qt(){this.next=this.b=this.a=null}function $t(t){O.setTimeout((function(){throw t}),0)}function Zt(t,e){var n;Xt||(n=O.Promise.resolve(void 0),Xt=function(){n.then(ne)}),te||(Xt(),te=!0),ee.add(t,e)}Wt.prototype.add=function(t,e){var n=Yt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var te=!(Qt.prototype.reset=function(){this.next=this.b=this.a=null}),ee=new Wt;function ne(){for(var t;r=n=void 0,r=null,(n=ee).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),t=r;){try{t.a.call(t.b)}catch(t){$t(t)}var e=Yt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}var n,r;te=!1}function re(t,e){Ht.call(this),this.b=t||1,this.a=e||O,this.f=V(this.Ua,this),this.g=F()}function ie(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function oe(t,e,n){if("function"==R(t))n&&(t=V(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=V(t.handleEvent,t)}return 2147483647<Number(e)?-1:O.setTimeout(t,e||0)}function se(t,e,n){B.call(this),this.f=null!=n?V(t,n):t,this.c=e,this.b=V(this.Pa,this),this.a=[]}function ae(t){t.T=oe(t.b,t.c),t.f.apply(null,t.a)}function ue(t){B.call(this),this.b=t,this.a={}}q(re,Ht),(N=re.prototype).Z=!1,N.L=null,N.Ua=function(){if(this.Z){var t=F()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(ie(this),this.start()))}},N.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=F())},N.C=function(){re.M.C.call(this),ie(this),delete this.a},q(se,B),(N=se.prototype).ba=!1,N.T=null,N.Ia=function(t){this.a=arguments,this.T?this.ba=!0:ae(this)},N.C=function(){se.M.C.call(this),this.T&&(O.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},N.Pa=function(){this.T=null,this.ba&&(this.ba=!1,ae(this))},q(ue,B);var ce=[];function he(t,e,n,r){Array.isArray(n)||(n&&(ce[0]=n.toString()),n=ce);for(var i=0;i<n.length;i++){var o=Ct(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function fe(t){tt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&jt(t)}),t),t.a={}}function le(){}ue.prototype.C=function(){ue.M.C.call(this),fe(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=null;function de(){return pe=pe||new Ht}function ve(t){Tt.call(this,"serverreachability",t)}function ye(t){var e=de();e.dispatchEvent(new ve(e))}function me(t){Tt.call(this,"statevent",t)}function ge(t){var e=de();e.dispatchEvent(new me(e))}function be(t){Tt.call(this,"timingevent",t)}function we(t,e){if("function"!=R(t))throw Error("Fn must not be null and must be a function");return O.setTimeout((function(){t()}),e)}q(ve,Tt),q(me,Tt),q(be,Tt);var Ee={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Ie={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function Te(){}function _e(t){var e;return(e=t.a)||(e=t.a={}),e}function Ae(){}Te.prototype.a=null;var Ne,Se={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ke(){Tt.call(this,"d")}function Oe(){Tt.call(this,"c")}function De(){}function Re(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new ue(this),this.N=Le,t=ht?125:void 0,this.O=new re(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}q(ke,Tt),q(Oe,Tt),q(De,Te),Ne=new De;var Le=45e3,Pe={},xe={};function Ce(t,e,n){t.B=1,t.f=rn(Qe(e)),t.j=n,t.F=!0,Me(t,null)}function Me(t,e){t.s=F(),Ue(t),t.A=Qe(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),mn(n.b,"t",r),t.w=0,t.a=ur(t.g,t.g.w?e:null),0<t.J&&(t.D=new se(V(t.ya,t,t.a),t.J)),he(t.G,t.a,"readystatechange",t.Sa),e=t.m?et(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),ye()}function je(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=Ve(t,n);if(i==xe){4==e&&(t.c=4,ge(),r=!1);break}if(i==Pe){t.c=4,ge(),r=!1;break}He(t,i)}4==e&&0==n.length&&(t.c=1,ge(),r=!1),t.b=t.b&&r,r||(Ge(t),Be(t))}function Ve(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?xe:(n=Number(e.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>e.length?xe:(e=e.substr(r,n),t.w=r+n,e))}function Ue(t){t.P=F()+t.N,Fe(t,t.N)}function Fe(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=we(V(t.Qa,t),e)}function qe(t){t.h&&(O.clearTimeout(t.h),t.h=null)}function Be(t){0==t.g.u||t.l||rr(t.g,t)}function Ge(t){qe(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,ie(t.O),fe(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function He(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||_n(n.b,t)))if(n.A=t.H,!t.o&&_n(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;nr(n),n.a.cancel(),n.a=null}er(n),ge()}}else n.ia=i[1],0<n.ia-n.G&&i[2]<37500&&n.U&&0==n.m&&!n.l&&(n.l=we(V(n.Na,n),6e3));if(Tn(n.b)<=1&&n.O){try{n.O()}catch(t){}n.O=void 0}}else or(n,11)}else if(!t.o&&n.a!=t||nr(n),!W(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(J(c,"spdy")||J(c,"quic")||J(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(An(h,h.b),h.b=null))}if(a.s){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.ha=f,nn(a.v,a.s,f))}}n.u=3,n.c&&n.c.na();var l=t;if((a=n).ea=ar(a,a.w?a.R:null,a.P),l.o){Nn(a.b,l);var p=l,d=a.D;d&&p.setTimeout(d),p.h&&(qe(p),Ue(p)),a.a=l}else tr(a);0<n.f.length&&Jn(n)}else"stop"!=i[0]&&"close"!=i[0]||or(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?or(n,7):Wn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);ye()}catch(t){}}function ze(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(L(t)||"string"==typeof t)H(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(L(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(L(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function We(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Xe(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=Re.prototype).setTimeout=function(t){this.N=t},N.Sa=function(t){t=t.target;var e=this.D;e&&3==Gn(t)?e.Ia():this.ya(t)},N.ya=function(t){try{if(t==this.a)t:{var e=Gn(this.a),n=this.a.qa();if(this.a.S(),!(e<3||3==e&&!ht&&!this.a.Y())){this.l||4!=e||7==n||ye(),qe(this);var r=this.a.S();this.H=r;var i=this.a.Y();if(this.b=200==r){if(this.R&&!this.o){e:{if(this.a){var o,s=this.a;if((o=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,ge(),Ge(this),Be(this);break t}this.o=!0,He(this,a)}this.F?(je(this,e,i),ht&&this.b&&3==e&&(he(this.G,this.O,"tick",this.Ra),this.O.start())):He(this,i),4==e&&Ge(this),this.b&&!this.l&&(4==e?rr(this.g,this):(this.b=!1,Ue(this)))}else 400==r&&0<i.indexOf("Unknown SID")?(this.c=3,ge()):(this.c=0,ge()),Ge(this),Be(this)}}}catch(t){}},N.Ra=function(){if(this.a){var t=Gn(this.a),e=this.a.Y();this.w<e.length&&(qe(this),je(this,t,e),this.b&&4!=t&&Ue(this))}},N.cancel=function(){this.l=!0,Ge(this)},N.Qa=function(){this.h=null;var t=F();0<=t-this.P?(2!=this.B&&(ye(),ge()),Ge(this),this.c=2,Be(this)):Fe(this,this.P-t)},(N=Ke.prototype).I=function(){We(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},N.K=function(){return We(this),this.a.concat()},N.get=function(t,e){return Xe(this.b,t)?this.b[t]:e},N.set=function(t,e){Xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},N.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Je(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Je){this.a=void 0!==e?e:t.a,$e(this,t.f),this.j=t.j,Ze(this,t.c),tn(this,t.h),this.g=t.g,e=t.b;var n=new pn;n.c=e.c,e.a&&(n.a=new Ke(e.a),n.b=e.b),en(this,n),this.i=t.i}else t&&(n=String(t).match(Ye))?(this.a=!!e,$e(this,n[1]||"",!0),this.j=on(n[2]||""),Ze(this,n[3]||"",!0),tn(this,n[4]),this.g=on(n[5]||"",!0),en(this,n[6]||"",!0),this.i=on(n[7]||"")):(this.a=!!e,this.b=new pn(null,this.a))}function Qe(t){return new Je(t)}function $e(t,e,n){t.f=n?on(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ze(t,e,n){t.c=n?on(e,!0):e}function tn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function en(t,e,n){var r,i;e instanceof pn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(dn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(vn(this,e),mn(this,n,t))}),r)),r.f=i):(n||(e=sn(e,fn)),t.b=new pn(e,t.a))}function nn(t,e,n){t.b.set(e,n)}function rn(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^F()).toString(36)),t}function on(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,an),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function an(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Je.prototype.toString=function(){var t=[],e=this.f;e&&t.push(sn(e,un,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(sn(e,un,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(sn(n,"/"==n.charAt(0)?hn:cn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",sn(n,ln)),t.join("")};var un=/[#\/\?@]/g,cn=/[#\?:]/g,hn=/[#\?]/g,fn=/[#\?@]/g,ln=/#/g;function pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function dn(t){t.a||(t.a=new Ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function vn(t,e){dn(t),e=gn(t,e),Xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Xe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&We(t)))}function yn(t,e){return dn(t),e=gn(t,e),Xe(t.a.b,e)}function mn(t,e,n){vn(t,e),0<n.length&&(t.c=null,t.a.set(gn(t,e),K(n)),t.b+=n.length)}function gn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function bn(t,e){this.b=t,this.a=e}function wn(t){this.g=t||En,t=O.PerformanceNavigationTiming?0<(t=O.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(O.ca&&O.ca.ua&&O.ca.ua()&&O.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(N=pn.prototype).add=function(t,e){dn(this),this.c=null,t=gn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},N.forEach=function(t,e){dn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},N.K=function(){dn(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},N.I=function(t){dn(this);var e=[];if("string"==typeof t)yn(this,t)&&(e=z(e,this.a.get(gn(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},N.set=function(t,e){return dn(this),this.c=null,yn(this,t=gn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},N.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},N.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var En=10;function In(t){return t.b||t.a&&t.a.size>=t.f}function Tn(t){return t.b?1:t.a?t.a.size:0}function _n(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function An(t,e){t.a?t.a.add(e):t.b=e}function Nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null==t.a||0===t.a.size)return K(t.c);var r=t.c;try{for(var i=A(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function kn(){}function On(){this.a=new kn}function Dn(t,e,n){var r=n||"";try{ze(t,(function(t,n){var i=t;P(t)&&(i=Kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Rn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}wn.prototype.cancel=function(){var t,e;if(this.c=Sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=A(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},kn.prototype.stringify=function(t){return O.JSON.stringify(t,void 0)},kn.prototype.parse=function(t){return O.JSON.parse(t,void 0)};var Ln=O.JSON.parse;function Pn(t){Ht.call(this),this.headers=new Ke,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=xn,this.B=this.F=!1}q(Pn,Ht);var xn="",Cn=/^https?$/i,Mn=["POST","PUT"];function jn(t){return"content-type"==t.toLowerCase()}function Vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Un(t),qn(t)}function Un(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Fn(t){if(t.b&&void 0!==k&&(!t.s[1]||4!=Gn(t)||2!=t.S()))if(t.l&&4==Gn(t))oe(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==Gn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Ye)[1]||null;if(!o&&O.self&&O.self.location){var s=O.self.location.protocol;o=s.substr(0,s.length-1)}i=!Cn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Gn(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.S()+"]",Un(t)}}finally{qn(t)}}}function qn(t,e){if(t.a){Bn(t);var n=t.a,r=t.s[0]?D:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Bn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(O.clearTimeout(t.m),t.m=null)}function Gn(t){return t.a?t.a.readyState:0}function Hn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",tt(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nn(t,e,n))}function zn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Kn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=zn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=zn("baseRetryDelayMs",5e3,t),this.Ga=zn("retryDelaySeedMs",1e4,t),this.Da=zn("forwardChannelMaxRetries",2,t),this.ga=zn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new wn(t&&t.concurrentRequestLimit),this.ja=new On,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Wn(t){if(Xn(t),3==t.u){var e=t.H++,n=Qe(t.v);nn(n,"SID",t.B),nn(n,"RID",e),nn(n,"TYPE","terminate"),$n(t,n),(e=new Re(t,e,void 0)).B=2,e.f=rn(Qe(n)),n=!1,O.navigator&&O.navigator.sendBeacon&&(n=O.navigator.sendBeacon(e.f.toString(),"")),!n&&O.Image&&((new Image).src=e.f,n=!0),n||(e.a=ur(e.g,null),e.a.$(e.f)),e.s=F(),Ue(e)}sr(t)}function Xn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(O.clearTimeout(t.i),t.i=null),nr(t),t.b.cancel(),t.g&&("number"==typeof t.g&&O.clearTimeout(t.g),t.g=null)}function Yn(t,e){t.f.push(new bn(t.Fa++,e)),3==t.u&&Jn(t)}function Jn(t){In(t.b)||t.g||(t.g=!0,Zt(t.xa,t),t.o=0)}function Qn(t,e){var n;n=e?e.W:t.H++;var r=Qe(t.v);nn(r,"SID",t.B),nn(r,"RID",n),nn(r,"AID",t.G),$n(t,r),t.h&&t.j&&Hn(r,t.h,t.j),n=new Re(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=Zn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),An(t.b,n),Ce(n,r,e)}function $n(t,e){t.c&&ze({},(function(t,n){nn(e,n,t)}))}function Zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?V(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{Dn(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function tr(t){t.a||t.i||(t.J=1,Zt(t.wa,t),t.m=0)}function er(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=we(V(t.wa,t),ir(t,t.m)),t.m++,1)}function nr(t){null!=t.l&&(O.clearTimeout(t.l),t.l=null)}function rr(t,e){var n=null;if(t.a==e){nr(t),t.a=null;var r=2}else{if(!_n(t.b,e))return;n=e.i,Nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=F()-e.s;var i=t.o;(r=de()).dispatchEvent(new be(r)),Jn(t)}else tr(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){if(!(Tn(t.b)>=t.b.f-(t.g?1:0))){if(t.g)return t.f=e.i.concat(t.f),1;if(!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)))return t.g=we(V(t.xa,t,e),ir(t,t.o)),t.o++,1}}(t,e)||2==r&&er(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:or(t,5);break;case 4:or(t,10);break;case 3:or(t,6);break;default:or(t,2)}}function ir(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function or(t,e){if(2==e){var n=null;t.c&&(n=null);var r=V(t.Ta,t);n||(n=new Je("//www.google.com/images/cleardot.gif"),O.location&&"http"==O.location.protocol||$e(n,"https"),rn(n)),function(t,e){var n=new le;if(O.Image){var r=new Image;r.onload=U(Rn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=U(Rn,n,r,"TestLoadImage: error",!1,e),r.onabort=U(Rn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=U(Rn,n,r,"TestLoadImage: timeout",!1,e),O.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ge();t.u=0,t.c&&t.c.la(e),sr(t),Xn(t)}function sr(t){t.u=0,t.A=-1,t.c&&(0==Sn(t.b).length&&0==t.f.length||(t.b.c.length=0,K(t.f),t.f.length=0),t.c.ka())}function ar(t,e,n){var r,i,o,s,a,u,c=(r=n)instanceof Je?Qe(r):new Je(r,void 0);if(""!=c.c)e&&Ze(c,e+"."+c.c),tn(c,c.h);else{var h=O.location;i=h.protocol,o=e?e+"."+h.hostname:h.hostname,s=+h.port,a=n,u=new Je(null,void 0),i&&$e(u,i),o&&Ze(u,o),s&&tn(u,s),a&&(u.g=a),c=u}return t.N&&tt(t.N,(function(t,e){nn(c,e,t)})),e=t.s,n=t.ha,e&&n&&nn(c,e,n),nn(c,"VER",t.oa),$n(t,c),c}function ur(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t.Ea)).F=t.w,e}function cr(){}function hr(){if(ut&&!(10<=Number(bt)))throw Error("Environmental error: no available transport.")}function fr(t,e){Ht.call(this),this.a=new Kn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!W(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!W(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new dr(this)}function lr(t){ke.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function pr(){Oe.call(this),this.status=1}function dr(t){this.a=t}(N=Pn.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?_e(this.G):_e(Ne),this.a.onreadystatechange=V(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Vn(this,t)}t=n||"";var i,o=new Ke(this.headers);r&&ze(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=jn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.K()),n=O.FormData&&t instanceof O.FormData,0<=G(Mn,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bn(this),0<this.o&&((this.B=(i=this.a,ut&&gt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=V(this.ta,this)):this.m=oe(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Vn(this,t)}},N.ta=function(){void 0!==k&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},N.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qn(this))},N.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),Pn.M.C.call(this)},N.va=function(){this.j||(this.w||this.l||this.g?Fn(this):this.Oa())},N.Oa=function(){Fn(this)},N.S=function(){try{return 2<Gn(this)?this.a.status:-1}catch(t){return-1}},N.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},N.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ln(e)}},N.qa=function(){return this.h},N.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(N=Kn.prototype).oa=8,N.u=1,N.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new Re(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?rt(r=et(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Zn(this,n,e),nn(i=Qe(this.v),"RID",t),nn(i,"CVER",22),this.s&&nn(i,"X-HTTP-Session-Id",this.s),$n(this,i),this.h&&r&&Hn(i,this.h,r),An(this.b,n),this.fa?(nn(i,"$req",e),nn(i,"SID","null"),n.R=!0,Ce(n,i,null)):Ce(n,i,e),this.u=2}}else 3==this.u&&(t?Qn(this,t):0==this.f.length||In(this.b)||Qn(this))},N.wa=function(){this.i=null,this.a=new Re(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Qe(this.ea);nn(t,"RID","rpc"),nn(t,"SID",this.B),nn(t,"CI",this.U?"0":"1"),nn(t,"AID",this.G),$n(this,t),nn(t,"TYPE","xmlhttp"),this.h&&this.j&&Hn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=rn(Qe(t)),e.j=null,e.F=!0,Me(e,n)},N.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,er(this),ge())},N.Ta=function(t){ge()},(N=cr.prototype).na=function(){},N.ma=function(){},N.la=function(){},N.ka=function(){},N.Ha=function(){},hr.prototype.a=function(t,e){return new fr(t,e)},q(fr,Ht),(N=fr.prototype).addEventListener=function(t,e,n,r){fr.M.addEventListener.call(this,t,e,n,r)},N.removeEventListener=function(t,e,n,r){fr.M.removeEventListener.call(this,t,e,n,r)},N.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;ge(),t.P=e,t.N=n||{},t.U=t.W,t.v=ar(t,null,t.P),Jn(t)},N.close=function(){Wn(this.a)},N.La=function(t){if("string"==typeof t){var e={};e.__data__=t,Yn(this.a,e)}else this.g?((e={}).__data__=Kt(t),Yn(this.a,e)):Yn(this.a,t)},N.C=function(){this.a.c=null,delete this.f,Wn(this.a),delete this.a,fr.M.C.call(this)},q(lr,ke),q(pr,Oe),q(dr,cr),dr.prototype.na=function(){this.a.dispatchEvent("a")},dr.prototype.ma=function(t){this.a.dispatchEvent(new lr(t))},dr.prototype.la=function(t){this.a.dispatchEvent(new pr)},dr.prototype.ka=function(){this.a.dispatchEvent("b")},hr.prototype.createWebChannel=hr.prototype.a,fr.prototype.send=fr.prototype.La,fr.prototype.open=fr.prototype.Ka,fr.prototype.close=fr.prototype.close,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Ie.COMPLETE="complete",(Ae.EventType=Se).OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Ht.prototype.listen=Ht.prototype.ra,Pn.prototype.listenOnce=Pn.prototype.sa,Pn.prototype.getLastError=Pn.prototype.Ma,Pn.prototype.getLastErrorCode=Pn.prototype.qa,Pn.prototype.getStatus=Pn.prototype.S,Pn.prototype.getResponseJson=Pn.prototype.Ja,Pn.prototype.getResponseText=Pn.prototype.Y,Pn.prototype.send=Pn.prototype.$;var vr={createWebChannelTransport:function(){return new hr},ErrorCode:Ee,EventType:Ie,WebChannel:Ae,XhrIo:Pn},yr=vr.createWebChannelTransport,mr=vr.ErrorCode,gr=vr.EventType,br=vr.WebChannel,wr=vr.XhrIo,Er=e.SDK_VERSION,Ir=(Tr.prototype.t=function(){return null!=this.uid},Tr.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},Tr.prototype.isEqual=function(t){return t.uid===this.uid},Tr);function Tr(t){this.uid=t}function _r(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t}Ir.UNAUTHENTICATED=new Ir(null),Ir.i=new Ir("google-credentials-uid"),Ir.h=new Ir("first-party-uid");var Ar,Nr,Sr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kr=(s(zr,Nr=Error),zr),Or=(Hr.prototype.getToken=function(){return Promise.resolve(null)},Hr.prototype._=function(){},Hr.prototype.l=function(t){(this.u=t)(Ir.UNAUTHENTICATED)},Hr.prototype.T=function(){this.u=null},Hr),Dr=(Gr.prototype.getToken=function(){var t=this,e=this.m,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.m!==e)throw new kr(Sr.ABORTED,"getToken aborted due to token change.");return n?(Zs("string"==typeof n.accessToken),new _r(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},Gr.prototype._=function(){this.forceRefresh=!0},Gr.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},Gr.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},Gr.prototype.A=function(){var t=this.auth&&this.auth.getUid();return Zs(null===t||"string"==typeof t),new Ir(t)},Gr),Rr=(Object.defineProperty(Br.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),Br),Lr=(qr.prototype.getToken=function(){return Promise.resolve(new Rr(this.P,this.V))},qr.prototype.l=function(t){t(Ir.h)},qr.prototype.T=function(){},qr.prototype._=function(){},qr),Pr=(Fr.now=function(){return Fr.fromMillis(Date.now())},Fr.fromDate=function(t){return Fr.fromMillis(t.getTime())},Fr.fromMillis=function(t){var e=Math.floor(t/1e3);return new Fr(e,1e6*(t-1e3*e))},Fr.prototype.toDate=function(){return new Date(this.toMillis())},Fr.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Fr.prototype.p=function(t){return this.seconds===t.seconds?na(this.nanoseconds,t.nanoseconds):na(this.seconds,t.seconds)},Fr.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Fr.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Fr.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Fr),xr=(Ur.v=function(t){return new Ur(t)},Ur.min=function(){return new Ur(new Pr(0,0))},Ur.prototype.S=function(t){return this.timestamp.p(t.timestamp)},Ur.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Ur.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Ur.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Ur.prototype.C=function(){return this.timestamp},Ur),Cr=(Object.defineProperty(Vr.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),Vr.prototype.isEqual=function(t){return 0===Vr.N(this,t)},Vr.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Vr?t.forEach((function(t){e.push(t)})):e.push(t),this.k(e)},Vr.prototype.limit=function(){return this.offset+this.length},Vr.prototype.$=function(t){return t=void 0===t?1:t,this.k(this.segments,this.offset+t,this.length-t)},Vr.prototype.M=function(){return this.k(this.segments,this.offset,this.length-1)},Vr.prototype.L=function(){return this.segments[this.offset]},Vr.prototype.O=function(){return this.get(this.length-1)},Vr.prototype.get=function(t){return this.segments[this.offset+t]},Vr.prototype.B=function(){return 0===this.length},Vr.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Vr.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Vr.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Vr.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},Vr.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},Vr),Mr=(s(jr,Ar=Cr),jr.prototype.k=function(t,e,n){return new jr(t,e,n)},jr.prototype.j=function(){return this.W().join("/")},jr.prototype.toString=function(){return this.j()},jr.K=function(t){if(0<=t.indexOf("//"))throw new kr(Sr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new jr(t.split("/").filter((function(t){return 0<t.length})))},jr);function jr(){return null!==Ar&&Ar.apply(this,arguments)||this}function Vr(t,e,n){void 0===e?e=0:e>t.length&&$s(),void 0===n?n=t.length-e:n>t.length-e&&$s(),this.segments=t,this.offset=e,this.F=n}function Ur(t){this.timestamp=t}function Fr(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new kr(Sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new kr(Sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new kr(Sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new kr(Sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function qr(t,e){this.P=t,this.V=e}function Br(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=Ir.h}function Gr(t){var e=this;this.I=null,this.currentUser=Ir.UNAUTHENTICATED,this.R=!1,this.m=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.m++,e.currentUser=e.A(),e.R=!0,e.u&&e.u(e.currentUser)},this.m=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}function Hr(){this.u=null}function zr(t,e){var n=this;return(n=Nr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}Mr.G=new Mr([]);var Kr,Wr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xr=(s(Yr,Kr=Cr),Yr.prototype.k=function(t,e,n){return new Yr(t,e,n)},Yr.H=function(t){return Wr.test(t)},Yr.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),Yr.H(t)||(t="`"+t+"`"),t})).join(".")},Yr.prototype.toString=function(){return this.j()},Yr.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},Yr.J=function(){return new Yr(["__name__"])},Yr.X=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new kr(Sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new kr(Sr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new kr(Sr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new kr(Sr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yr(e)},Yr);function Yr(){return null!==Kr&&Kr.apply(this,arguments)||this}Xr.G=new Xr([]);var Jr=(Qr.Z=function(t){return new Qr(Mr.K(t).$(5))},Qr.prototype.tt=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},Qr.prototype.isEqual=function(t){return null!==t&&0===Mr.N(this.path,t.path)},Qr.prototype.toString=function(){return this.path.toString()},Qr.N=function(t,e){return Mr.N(t.path,e.path)},Qr.et=function(t){return t.length%2==0},Qr.st=function(t){return new Qr(new Mr(t.slice()))},Qr);function Qr(t){this.path=t}function $r(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ti(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Jr.EMPTY=new Jr(new Mr([]));var ei=(ni.fromBase64String=function(t){return new ni(Hs.nt().atob(t))},ni.fromUint8Array=function(t){return new ni(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},ni.prototype.toBase64=function(){return Hs.nt().btoa(this.it)},ni.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},ni.prototype.rt=function(){return 2*this.it.length},ni.prototype.S=function(t){return na(this.it,t.it)},ni.prototype.isEqual=function(t){return this.it===t.it},ni);function ni(t){this.it=t}function ri(t){return null==t}function ii(t){return-0===t&&1/t==-1/0}function oi(t){return"number"==typeof t&&Number.isInteger(t)&&!ii(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function si(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ai(t){var e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}ei.ht=new ei("");var ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?si(t)?4:10:$s()}function hi(t,e){var n,r,i,o=ci(t);if(o!==ci(e))return!1;switch(o){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ai(t).isEqual(ai(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vi(t.timestampValue),r=vi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,mi(t.bytesValue).isEqual(mi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,yi((n=t).geoPointValue.latitude)===yi(r.geoPointValue.latitude)&&yi(n.geoPointValue.longitude)===yi(r.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yi(t.integerValue)===yi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yi(t.doubleValue),r=yi(e.doubleValue);return n===r?ii(n)===ii(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($r(n)!==$r(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hi(n[i],r[i])))return!1;return!0}(e);default:return $s()}}function fi(t,e){return void 0!==(t.values||[]).find((function(t){return hi(t,e)}))}function li(t,e){var n,r,i,o,s,a,u,c,h,f,l=ci(t),p=ci(e);if(l!==p)return na(l,p);switch(l){case 0:return 0;case 1:return na(t.booleanValue,e.booleanValue);case 2:return c=e,(h=yi(t.integerValue||t.doubleValue))<(f=yi(c.integerValue||c.doubleValue))?-1:f<h?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1;case 3:return pi(t.timestampValue,e.timestampValue);case 4:return pi(ai(t),ai(e));case 5:return na(t.stringValue,e.stringValue);case 6:return o=t.bytesValue,s=e.bytesValue,a=mi(o),u=mi(s),a.S(u);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=na(n[i],r[i]);if(0!==o)return o}return na(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,r=e.geoPointValue,0!==(i=na(yi(n.latitude),yi(r.latitude)))?i:na(yi(n.longitude),yi(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=li(n[i],r[i]);if(o)return o}return na(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=na(r[s],o[s]);if(0!==a)return a;var u=li(n[r[s]],i[o[s]]);if(0!==u)return u}return na(r.length,o.length)}(t.mapValue,e.mapValue);default:throw $s()}}function pi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return na(t,e);var n=vi(t),r=vi(e),i=na(n.seconds,r.seconds);return 0!==i?i:na(n.nanos,r.nanos)}function di(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(n=vi(e.timestampValue)).seconds+","+n.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?mi(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,Jr.Z(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(){for(var n="[",r=!0,i=0,o=e.arrayValue.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}():"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):$s();var n,r,i}(t)}function vi(t){if(Zs(!!t),"string"!=typeof t)return{seconds:yi(t.seconds),nanos:yi(t.nanos)};var e=0,n=ui.exec(t);if(Zs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}function yi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mi(t){return"string"==typeof t?ei.fromBase64String(t):ei.fromUint8Array(t)}function gi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function bi(t){return t&&"integerValue"in t}function wi(t){return!!t&&"arrayValue"in t}function Ei(t){return t&&"nullValue"in t}function Ii(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ti(t){return t&&"mapValue"in t}var _i=(Ai.prototype.ot=function(t,e){return n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}},t&&(n.fields.__previous_value__=t),{mapValue:n};var n},Ai.prototype.at=function(t,e){return e},Ai.prototype.ut=function(t){return null},Ai.prototype.isEqual=function(t){return t instanceof Ai},Ai);function Ai(){}_i.instance=new _i;var Ni=(Ri.prototype.ot=function(t,e){return this.apply(t)},Ri.prototype.at=function(t,e){return this.apply(t)},Ri.prototype.apply=function(t){for(var e=Li(t),n=function(t){e.some((function(e){return hi(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},Ri.prototype.ut=function(t){return null},Ri.prototype.isEqual=function(t){return t instanceof Ri&&ra(this.elements,t.elements,hi)},Ri),Si=(Di.prototype.ot=function(t,e){return this.apply(t)},Di.prototype.at=function(t,e){return this.apply(t)},Di.prototype.apply=function(t){for(var e=Li(t),n=function(t){e=e.filter((function(e){return!hi(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},Di.prototype.ut=function(t){return null},Di.prototype.isEqual=function(t){return t instanceof Di&&ra(this.elements,t.elements,hi)},Di),ki=(Oi.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return bi(n)&&bi(this.ct)?this.serializer._t(r):this.serializer.lt(r)},Oi.prototype.at=function(t,e){return e},Oi.prototype.ut=function(t){return bi(e=t)||e&&"doubleValue"in e?t:{integerValue:0};var e},Oi.prototype.isEqual=function(t){return t instanceof Oi&&hi(this.ct,t.ct)},Oi.prototype.asNumber=function(t){return yi(t.integerValue||t.doubleValue)},Oi);function Oi(t,e){this.serializer=t,this.ct=e}function Di(t){this.elements=t}function Ri(t){this.elements=t}function Li(t){return wi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pi(t,e){this.version=t,this.transformResults=e}var xi,Ci,Mi,ji,Vi,Ui=(so.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},so.prototype.isEqual=function(t){return ra(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},so),Fi=(oo.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},oo),qi=(io.ft=function(){return new io},io.exists=function(t){return new io(void 0,t)},io.updateTime=function(t){return new io(t)},Object.defineProperty(io.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),io.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof Io&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof Io},io.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},io),Bi=(ro.prototype.It=function(t){},ro.wt=function(t){return t instanceof Io?t.version:xr.min()},ro),Gi=(s(no,Vi=Bi),no.prototype.at=function(t,e){this.It(t);var n=e.version;return new Io(this.key,n,this.value,{hasCommittedMutations:!0})},no.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=Bi.wt(t);return new Io(this.key,r,this.value,{At:!0})},no.prototype.Pt=function(t){return null},no.prototype.isEqual=function(t){return t instanceof no&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},no),Hi=(s(eo,ji=Bi),eo.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new _o(this.key,e.version);var n=this.gt(t);return new Io(this.key,e.version,n,{hasCommittedMutations:!0})},eo.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=Bi.wt(t),i=this.gt(t);return new Io(this.key,r,i,{At:!0})},eo.prototype.Pt=function(t){return null},eo.prototype.isEqual=function(t){return t instanceof eo&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},eo.prototype.gt=function(t){var e;return e=t instanceof Io?t.data():Xi.empty(),this.pt(e)},eo.prototype.pt=function(t){var e=this,n=new Yi(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.yt()},eo),zi=(s(to,Mi=Bi),to.prototype.at=function(t,e){if(this.It(t),Zs(null!=e.transformResults),!this.Rt.Et(t))return new _o(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new Io(this.key,i,o,{hasCommittedMutations:!0})},to.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new Io(this.key,r.version,o,{At:!0})},to.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Io?t.field(i.field):void 0,s=i.transform.ut(o||null);null!=s&&(e=null==e?(new Yi).set(i.field,s):e.set(i.field,s))}return e?e.yt():null},to.prototype.isEqual=function(t){return t instanceof to&&this.key.isEqual(t.key)&&ra(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},to.prototype.bt=function(t){return t},to.prototype.vt=function(t,e){var n=[];Zs(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof Io&&(s=t.field(i.field)),n.push(o.at(s,e[r]))}return n},to.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof Io&&(u=e.field(s.field)),null===u&&n instanceof Io&&(u=n.field(s.field)),r.push(a.ot(u,t))}return r},to.prototype.St=function(t,e){for(var n=new Yi(t),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.yt()},to),Ki=(s(Zi,Ci=Bi),Zi.prototype.at=function(t,e){return this.It(t),new To(this.key,e.version,{hasCommittedMutations:!0})},Zi.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new To(this.key,xr.min()):t},Zi.prototype.Pt=function(t){return null},Zi.prototype.isEqual=function(t){return t instanceof Zi&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},Zi),Wi=(s($i,xi=Bi),$i.prototype.at=function(t,e){$s()},$i.prototype.ot=function(t,e,n){$s()},$i.prototype.Pt=function(t){$s()},$i.prototype.isEqual=function(t){return t instanceof $i&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},$i),Xi=(Qi.empty=function(){return new Qi({mapValue:{}})},Qi.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ti(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},Qi.prototype.isEqual=function(t){return hi(this.proto,t.proto)},Qi),Yi=(Ji.prototype.set=function(t,e){return this.Nt(t,e),this},Ji.prototype.delete=function(t){return this.Nt(t,null),this},Ji.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===ci(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.O(),e)},Ji.prototype.yt=function(){var t=this.kt(Xr.G,this.Ft);return null!=t?new Xi(t):this.Ct},Ji.prototype.kt=function(t,e){var n=this,r=!1,i=this.Ct.field(t),o=Ti(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.kt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},Ji);function Ji(t){void 0===t&&(t=Xi.empty()),this.Ct=t,this.Ft=new Map}function Qi(t){this.proto=t}function $i(t,e){var n=this;return(n=xi.call(this)||this).key=t,n.Rt=e,n.type=4,n}function Zi(t,e){var n=this;return(n=Ci.call(this)||this).key=t,n.Rt=e,n.type=3,n}function to(t,e){var n=this;return(n=Mi.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Rt=qi.exists(!0),n}function eo(t,e,n,r){var i=this;return(i=ji.call(this)||this).key=t,i.data=e,i.Vt=n,i.Rt=r,i.type=1,i}function no(t,e,n){var r=this;return(r=Vi.call(this)||this).key=t,r.value=e,r.Rt=n,r.type=0,r}function ro(){}function io(t,e){this.updateTime=t,this.exists=e}function oo(t,e){this.field=t,this.transform=e}function so(t){(this.fields=t).sort(Xr.N)}function ao(t){var e=[];return Zr(t.fields||{},(function(t,n){var r=new Xr([t]);if(Ti(n)){var i=ao(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Ui(e)}function uo(t,e){this.key=t,this.version=e}function co(t){this.count=t}var ho,fo,lo,po,vo,yo,mo,go,bo,wo,Eo,Io=(s(Yo,Eo=uo),Yo.prototype.field=function(t){return this.$t.field(t)},Yo.prototype.data=function(){return this.$t},Yo.prototype.Mt=function(){return this.$t.proto},Yo.prototype.isEqual=function(t){return t instanceof Yo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.$t.isEqual(t.$t)},Yo.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.$t.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Yo.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Yo),To=(s(Xo,wo=uo),Xo.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Xo.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Xo.prototype.isEqual=function(t){return t instanceof Xo&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Xo),_o=(s(Wo,bo=uo),Wo.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Wo.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Wo.prototype.isEqual=function(t){return t instanceof Wo&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Wo),Ao=(Ko.prototype.canonicalId=function(){if(null===this.Lt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),ri(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Lt=t}return this.Lt},Ko.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(t+=", filters: ["+this.filters.join(", ")+"]"),ri(this.limit)||(t+=", limit: "+this.limit),0<this.orderBy.length&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},Ko.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},Ko.prototype.xt=function(){return Jr.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},Ko),No=(zo.Wt=function(t){return new zo(t)},Object.defineProperty(zo.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new xo(t)),this.qt.push(new xo(Xr.J(),"asc"));else{for(var n=!1,r=0,i=this.Ot;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var s=0<this.Ot.length?this.Ot[this.Ot.length-1].dir:"asc";this.qt.push(new xo(Xr.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),zo.prototype.Gt=function(t){var e=this.filters.concat([t]);return new zo(this.path,this.collectionGroup,this.Ot.slice(),e,this.limit,this.Bt,this.startAt,this.endAt)},zo.prototype.zt=function(t){var e=this.Ot.concat([t]);return new zo(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},zo.prototype.Ht=function(t){return new zo(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},zo.prototype.Yt=function(t){return new zo(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},zo.prototype.Jt=function(t){return new zo(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,t,this.endAt)},zo.prototype.Xt=function(t){return new zo(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,t)},zo.prototype.Zt=function(t){return new zo(t,null,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},zo.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ot.length||1===this.Ot.length&&this.Ot[0].field.Y())},zo.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},zo.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},zo.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},zo.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},zo.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},zo.prototype.oe=function(){return!ri(this.limit)&&"F"===this.Bt},zo.prototype.ae=function(){return!ri(this.limit)&&"L"===this.Bt},zo.prototype.Kt=function(){return 0<this.Ot.length?this.Ot[0].field:null},zo.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof So&&n.ue())return n.field}return null},zo.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof So&&0<=t.indexOf(r.op))return r.op}return null},zo.prototype.xt=function(){return this.ee().xt()},zo.prototype._e=function(){return null!==this.collectionGroup},zo.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new Ao(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new xo(r.field,i))}var o=this.endAt?new Po(this.endAt.position,!this.endAt.before):null,s=this.startAt?new Po(this.startAt.position,!this.startAt.before):null;this.Ut=new Ao(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Ut},zo.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):Jr.et(this.path)?this.path.isEqual(e):this.path.U(e)},zo.prototype.ne=function(t){for(var e=0,n=this.Ot;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},zo.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},zo.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},zo.prototype.Qt=function(t){},zo),So=(s(Ho,go=function(){}),Ho.create=function(t,e,n){if(t.Y())return"in"===e?new Oo(t,n):new ko(t,e,n);if(Ei(n)){if("=="!==e)throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new Ho(t,e,n)}if(Ii(n)){if("=="!==e)throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new Ho(t,e,n)}return"array-contains"===e?new Do(t,n):"in"===e?new Ro(t,n):"array-contains-any"===e?new Lo(t,n):new Ho(t,e,n)},Ho.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ci(this.value)===ci(e)&&this.de(li(e,this.value))},Ho.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return 0<t;case">=":return 0<=t;default:return $s()}},Ho.prototype.ue=function(){return 0<=["<","<=",">",">="].indexOf(this.op)},Ho.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+di(this.value)},Ho.prototype.isEqual=function(t){return t instanceof Ho&&this.op===t.op&&this.field.isEqual(t.field)&&hi(this.value,t.value)},Ho.prototype.toString=function(){return this.field.j()+" "+this.op+" "+di(this.value)},Ho),ko=(s(Go,mo=So),Go.prototype.matches=function(t){var e=Jr.N(t.key,this.key);return this.de(e)},Go),Oo=(s(Bo,yo=So),Bo.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},Bo),Do=(s(qo,vo=So),qo.prototype.matches=function(t){var e=t.field(this.field);return wi(e)&&fi(e.arrayValue,this.value)},qo),Ro=(s(Fo,po=So),Fo.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&fi(this.value.arrayValue,e)},Fo),Lo=(s(Uo,lo=So),Uo.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return fi(e.value.arrayValue,t)}))},Uo),Po=(Vo.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return di(t)})).join(",")},Vo.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?Jr.N(Jr.Z(o.referenceValue),e.key):li(o,e.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Vo.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!hi(this.position[e],t.position[e]))return!1;return!0},Vo),xo=(jo.prototype.compare=function(t,e){var n,r,i,o,s=this.fe?Jr.N(t.key,e.key):(n=this.field,r=e,i=t.field(n),o=r.field(n),null!==i&&null!==o?li(i,o):$s());switch(this.dir){case"asc":return s;case"desc":return-1*s;default:return $s()}},jo.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},jo.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},jo.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},jo),Co=(Mo.prototype.Ie=function(t){return new Mo(this.target,this.targetId,this.Te,t,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Mo.prototype.we=function(t,e){return new Mo(this.target,this.targetId,this.Te,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Mo.prototype.Re=function(t){return new Mo(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,t,this.resumeToken)},Mo);function Mo(t,e,n,r,i,o,s){void 0===i&&(i=xr.min()),void 0===o&&(o=xr.min()),void 0===s&&(s=ei.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function jo(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}function Vo(t,e){this.position=t,this.before=e}function Uo(t,e){return lo.call(this,t,"array-contains-any",e)||this}function Fo(t,e){return po.call(this,t,"in",e)||this}function qo(t,e){return vo.call(this,t,"array-contains",e)||this}function Bo(t,e){var n=this;return(n=yo.call(this,t,"in",e)||this).keys=(e.arrayValue.values||[]).map((function(t){return Jr.Z(t.referenceValue)})),n}function Go(t,e,n){var r=this;return(r=mo.call(this,t,e,n)||this).key=Jr.Z(n.referenceValue),r}function Ho(t,e,n){var r=this;return(r=go.call(this)||this).field=t,r.op=e,r.value=n,r}function zo(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ot=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}function Ko(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Lt=null}function Wo(){return null!==bo&&bo.apply(this,arguments)||this}function Xo(t,e,n){var r=this;return(r=wo.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Yo(t,e,n,r){var i=this;return(i=Eo.call(this,t,e)||this).$t=n,i.At=!!r.At,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Jo(t){switch(t){case Sr.OK:return $s();case Sr.CANCELLED:case Sr.UNKNOWN:case Sr.DEADLINE_EXCEEDED:case Sr.RESOURCE_EXHAUSTED:case Sr.INTERNAL:case Sr.UNAVAILABLE:case Sr.UNAUTHENTICATED:return;case Sr.INVALID_ARGUMENT:case Sr.NOT_FOUND:case Sr.ALREADY_EXISTS:case Sr.PERMISSION_DENIED:case Sr.FAILED_PRECONDITION:case Sr.ABORTED:case Sr.OUT_OF_RANGE:case Sr.UNIMPLEMENTED:case Sr.DATA_LOSS:return 1;default:return $s()}}function Qo(t){if(void 0===t)return Js("GRPC error has no .code"),Sr.UNKNOWN;switch(t){case ho.OK:return Sr.OK;case ho.CANCELLED:return Sr.CANCELLED;case ho.UNKNOWN:return Sr.UNKNOWN;case ho.DEADLINE_EXCEEDED:return Sr.DEADLINE_EXCEEDED;case ho.RESOURCE_EXHAUSTED:return Sr.RESOURCE_EXHAUSTED;case ho.INTERNAL:return Sr.INTERNAL;case ho.UNAVAILABLE:return Sr.UNAVAILABLE;case ho.UNAUTHENTICATED:return Sr.UNAUTHENTICATED;case ho.INVALID_ARGUMENT:return Sr.INVALID_ARGUMENT;case ho.NOT_FOUND:return Sr.NOT_FOUND;case ho.ALREADY_EXISTS:return Sr.ALREADY_EXISTS;case ho.PERMISSION_DENIED:return Sr.PERMISSION_DENIED;case ho.FAILED_PRECONDITION:return Sr.FAILED_PRECONDITION;case ho.ABORTED:return Sr.ABORTED;case ho.OUT_OF_RANGE:return Sr.OUT_OF_RANGE;case ho.UNIMPLEMENTED:return Sr.UNIMPLEMENTED;case ho.DATA_LOSS:return Sr.DATA_LOSS;default:return $s()}}(fo=ho=ho||{})[fo.OK=0]="OK",fo[fo.CANCELLED=1]="CANCELLED",fo[fo.UNKNOWN=2]="UNKNOWN",fo[fo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fo[fo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fo[fo.NOT_FOUND=5]="NOT_FOUND",fo[fo.ALREADY_EXISTS=6]="ALREADY_EXISTS",fo[fo.PERMISSION_DENIED=7]="PERMISSION_DENIED",fo[fo.UNAUTHENTICATED=16]="UNAUTHENTICATED",fo[fo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fo[fo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fo[fo.ABORTED=10]="ABORTED",fo[fo.OUT_OF_RANGE=11]="OUT_OF_RANGE",fo[fo.UNIMPLEMENTED=12]="UNIMPLEMENTED",fo[fo.INTERNAL=13]="INTERNAL",fo[fo.UNAVAILABLE=14]="UNAVAILABLE",fo[fo.DATA_LOSS=15]="DATA_LOSS";var $o=(rs.prototype.me=function(t,e){return new rs(this.N,this.root.me(t,e,this.N).Ae(null,null,ts.Pe,null,null))},rs.prototype.remove=function(t){return new rs(this.N,this.root.remove(t,this.N).Ae(null,null,ts.Pe,null,null))},rs.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},rs.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},rs.prototype.B=function(){return this.root.B()},Object.defineProperty(rs.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),rs.prototype.Ve=function(){return this.root.Ve()},rs.prototype.ge=function(){return this.root.ge()},rs.prototype.pe=function(t){return this.root.pe(t)},rs.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},rs.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},rs.prototype.ye=function(t){return this.root.ye(t)},rs.prototype.be=function(){return new Zo(this.root,null,this.N,!1)},rs.prototype.ve=function(t){return new Zo(this.root,t,this.N,!1)},rs.prototype.Se=function(){return new Zo(this.root,null,this.N,!0)},rs.prototype.De=function(t){return new Zo(this.root,t,this.N,!0)},rs),Zo=(ns.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},ns.prototype.ke=function(){return 0<this.Fe.length},ns.prototype.$e=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},ns),ts=(es.prototype.Ae=function(t,e,n,r,i){return new es(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},es.prototype.B=function(){return!1},es.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},es.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},es.prototype.min=function(){return this.left.B()?this:this.left.min()},es.prototype.Ve=function(){return this.min().key},es.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},es.prototype.me=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.Ae(null,null,null,r.left.me(t,e,n),null):0===i?r.Ae(null,e,null,null,null):r.Ae(null,null,null,null,r.right.me(t,e,n))).Me()},es.prototype.Le=function(){if(this.left.B())return es.EMPTY;var t=this;return t.left.xe()||t.left.left.xe()||(t=t.Oe()),(t=t.Ae(null,null,null,t.left.Le(),null)).Me()},es.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.B()||r.left.xe()||r.left.left.xe()||(r=r.Oe()),r=r.Ae(null,null,null,r.left.remove(t,e),null);else{if(r.left.xe()&&(r=r.Be()),r.right.B()||r.right.xe()||r.right.left.xe()||(r=r.qe()),0===e(t,r.key)){if(r.right.B())return es.EMPTY;n=r.right.min(),r=r.Ae(n.key,n.value,null,null,r.right.Le())}r=r.Ae(null,null,null,null,r.right.remove(t,e))}return r.Me()},es.prototype.xe=function(){return this.color},es.prototype.Me=function(){var t=this;return t.right.xe()&&!t.left.xe()&&(t=t.Ue()),t.left.xe()&&t.left.left.xe()&&(t=t.Be()),t.left.xe()&&t.right.xe()&&(t=t.Qe()),t},es.prototype.Oe=function(){var t=this.Qe();return t.right.left.xe()&&(t=(t=(t=t.Ae(null,null,null,null,t.right.Be())).Ue()).Qe()),t},es.prototype.qe=function(){var t=this.Qe();return t.left.left.xe()&&(t=(t=t.Be()).Qe()),t},es.prototype.Ue=function(){var t=this.Ae(null,null,es.RED,null,this.right.left);return this.right.Ae(null,null,this.color,t,null)},es.prototype.Be=function(){var t=this.Ae(null,null,es.RED,this.left.right,null);return this.left.Ae(null,null,this.color,null,t)},es.prototype.Qe=function(){var t=this.left.Ae(null,null,!this.left.color,null,null),e=this.right.Ae(null,null,!this.right.color,null,null);return this.Ae(null,null,!this.color,t,e)},es.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},es.prototype.je=function(){if(this.xe()&&this.left.xe())throw $s();if(this.right.xe())throw $s();var t=this.left.je();if(t!==this.right.je())throw $s();return t+(this.xe()?0:1)},es);function es(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:es.RED,this.left=null!=r?r:es.EMPTY,this.right=null!=i?i:es.EMPTY,this.size=this.left.size+1+this.right.size}function ns(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}function rs(t,e){this.N=t,this.root=e||ts.EMPTY}function is(){this.size=0}ts.EMPTY=null,ts.RED=!0,ts.Pe=!1,ts.EMPTY=(Object.defineProperty(is.prototype,"key",{get:function(){throw $s()},enumerable:!0,configurable:!0}),Object.defineProperty(is.prototype,"value",{get:function(){throw $s()},enumerable:!0,configurable:!0}),Object.defineProperty(is.prototype,"color",{get:function(){throw $s()},enumerable:!0,configurable:!0}),Object.defineProperty(is.prototype,"left",{get:function(){throw $s()},enumerable:!0,configurable:!0}),Object.defineProperty(is.prototype,"right",{get:function(){throw $s()},enumerable:!0,configurable:!0}),is.prototype.Ae=function(t,e,n,r,i){return this},is.prototype.me=function(t,e,n){return new ts(t,e)},is.prototype.remove=function(t,e){return this},is.prototype.B=function(){return!0},is.prototype.pe=function(t){return!1},is.prototype.ye=function(t){return!1},is.prototype.Ve=function(){return null},is.prototype.ge=function(){return null},is.prototype.xe=function(){return!1},is.prototype.We=function(){return!0},is.prototype.je=function(){return 0},new is);var os=(cs.prototype.has=function(t){return null!==this.data.get(t)},cs.prototype.first=function(){return this.data.Ve()},cs.prototype.last=function(){return this.data.ge()},Object.defineProperty(cs.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),cs.prototype.indexOf=function(t){return this.data.indexOf(t)},cs.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},cs.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.ke();){var r=n.Ne();if(0<=this.N(r.key,t[1]))return;e(r.key)}},cs.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.ke();)if(!t(n.Ne().key))return},cs.prototype.ze=function(t){var e=this.data.ve(t);return e.ke()?e.Ne().key:null},cs.prototype.be=function(){return new ss(this.data.be())},cs.prototype.ve=function(t){return new ss(this.data.ve(t))},cs.prototype.add=function(t){return this.Ae(this.data.remove(t).me(t,!0))},cs.prototype.delete=function(t){return this.has(t)?this.Ae(this.data.remove(t)):this},cs.prototype.B=function(){return this.data.B()},cs.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},cs.prototype.isEqual=function(t){if(!(t instanceof cs))return!1;if(this.size!==t.size)return!1;for(var e=this.data.be(),n=t.data.be();e.ke();){var r=e.Ne().key,i=n.Ne().key;if(0!==this.N(r,i))return!1}return!0},cs.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},cs.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},cs.prototype.Ae=function(t){var e=new cs(this.N);return e.data=t,e},cs),ss=(us.prototype.Ne=function(){return this.Ye.Ne().key},us.prototype.ke=function(){return this.Ye.ke()},us),as=new $o(Jr.N);function us(t){this.Ye=t}function cs(t){this.N=t,this.data=new $o(this.N)}function hs(){return as}function fs(){return hs()}var ls=new $o(Jr.N);function ps(){return ls}var ds=new $o(Jr.N);function vs(){return ds}var ys=new os(Jr.N);function ms(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ys,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var gs=new os(na);function bs(){return gs}function ws(t,e,n,r){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=r}function Es(t,e){this.targetId=t,this.ms=e}function Is(t,e,n,r){void 0===n&&(n=ei.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}var Ts=(Ms.Ze=function(t){return new Ms(t.N)},Ms.prototype.has=function(t){return null!=this.Je.get(t)},Ms.prototype.get=function(t){return this.Je.get(t)},Ms.prototype.first=function(){return this.Xe.Ve()},Ms.prototype.last=function(){return this.Xe.ge()},Ms.prototype.B=function(){return this.Xe.B()},Ms.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(Ms.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),Ms.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},Ms.prototype.add=function(t){var e=this.delete(t.key);return e.Ae(e.Je.me(t.key,t),e.Xe.me(t,null))},Ms.prototype.delete=function(t){var e=this.get(t);return e?this.Ae(this.Je.remove(t),this.Xe.remove(e)):this},Ms.prototype.isEqual=function(t){if(!(t instanceof Ms))return!1;if(this.size!==t.size)return!1;for(var e=this.Xe.be(),n=t.Xe.be();e.ke();){var r=e.Ne().key,i=n.Ne().key;if(!r.isEqual(i))return!1}return!0},Ms.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Ms.prototype.Ae=function(t,e){var n=new Ms;return n.N=this.N,n.Je=t,n.Xe=e,n},Ms),_s=(Cs.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);!n||0!==t.type&&3===n.type?this.ts=this.ts.me(e,t):3===t.type&&1!==n.type?this.ts=this.ts.me(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.me(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.me(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.me(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.me(e,{type:2,doc:t.doc}):$s()},Cs.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},Cs),As=(xs.os=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new xs(t,e,Ts.Ze(e),i,n,r,!0,!1)},Object.defineProperty(xs.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),xs.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},xs),Ns=(Ps.ls=function(t,e){var n=new Map;return n.set(t,Ss.ds(t,e)),new Ps(xr.min(),n,bs(),hs(),ms())},Ps),Ss=(Ls.ds=function(t,e){return new Ls(ei.ht,e,ms(),ms(),ms())},Ls),ks=(Object.defineProperty(Rs.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(Rs.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(Rs.prototype,"ys",{get:function(){return 0!==this.As},enumerable:!0,configurable:!0}),Object.defineProperty(Rs.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),Rs.prototype.vs=function(t){0<t.rt()&&(this.ps=!0,this.Vs=t)},Rs.prototype.Ss=function(){var t=ms(),e=ms(),n=ms();return this.Ps.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:$s()}})),new Ss(this.Vs,this.gs,t,e,n)},Rs.prototype.Ds=function(){this.ps=!1,this.Ps=Vs()},Rs.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.me(t,e)},Rs.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},Rs.prototype.Ns=function(){this.As+=1},Rs.prototype.ks=function(){--this.As},Rs.prototype.$s=function(){this.ps=!0,this.gs=!0},Rs),Os=(Ds.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var r=n[e];t.Rs instanceof Io?this.Us(r,t.Rs):t.Rs instanceof To&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Qs(s,t.key,t.Rs)}},Ds.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var r=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&r.vs(t.resumeToken);break;case 1:r.ks(),r.ys||r.Ds(),r.vs(t.resumeToken);break;case 2:r.ks(),r.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(r.$s(),r.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),r.vs(t.resumeToken));break;default:$s()}}))},Ds.prototype.js=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.Ls.forEach((function(t,r){n.Gs(r)&&e(r)}))},Ds.prototype.Hs=function(t){var e=t.targetId,n=t.ms.count,r=this.Ys(e);if(r){var i=r.target;if(i.xt())if(0===n){var o=new Jr(i.path);this.Qs(e,o,new To(o,xr.min()))}else Zs(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},Ds.prototype.Xs=function(t){var e=this,n=new Map;this.Ls.forEach((function(r,i){var o=e.Ys(i);if(o){if(r.fs&&o.target.xt()){var s=new Jr(o.target.path);null!==e.xs.get(s)||e.Zs(i,s)||e.Qs(i,s,new To(s,t))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=ms();this.Os.forEach((function(t,n){var i=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(i=!1)})),i&&(r=r.add(t))}));var i=new Ns(t,n,this.Bs,this.xs,r);return this.xs=hs(),this.Os=js(),this.Bs=new os(na),i},Ds.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.xs=this.xs.me(e.key,e),this.Os=this.Os.me(e.key,this.ti(e.key).add(t))}},Ds.prototype.Qs=function(t,e,n){if(this.Gs(t)){var r=this.Ks(t);this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.Os=this.Os.me(e,this.ti(e).delete(t)),n&&(this.xs=this.xs.me(e,n))}},Ds.prototype.removeTarget=function(t){this.Ls.delete(t)},Ds.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ms.ei(t).size+e.Ts.size-e.Is.size},Ds.prototype.Ns=function(t){this.Ks(t).Ns()},Ds.prototype.Ks=function(t){var e=this.Ls.get(t);return e||(e=new ks,this.Ls.set(t,e)),e},Ds.prototype.ti=function(t){var e=this.Os.get(t);return e||(e=new os(na),this.Os=this.Os.me(t,e)),e},Ds.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||Ys("WatchChangeAggregator","Detected inactive target",t),e},Ds.prototype.Ys=function(t){var e=this.Ls.get(t);return e&&e.ys?null:this.Ms.si(t)},Ds.prototype.zs=function(t){var e=this;this.Ls.set(t,new ks),this.Ms.ei(t).forEach((function(n){e.Qs(t,n,null)}))},Ds.prototype.Zs=function(t,e){return this.Ms.ei(t).has(e)},Ds);function Ds(t){this.Ms=t,this.Ls=new Map,this.xs=hs(),this.Os=js(),this.Bs=new os(na)}function Rs(){this.As=0,this.Ps=Vs(),this.Vs=ei.ht,this.gs=!1,this.ps=!0}function Ls(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.Is=i}function Ps(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}function xs(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=s,this.hs=a}function Cs(){this.ts=new $o(Jr.N)}function Ms(t){this.N=t?function(e,n){return t(e,n)||Jr.N(e.key,n.key)}:function(t,e){return Jr.N(t.key,e.key)},this.Je=ps(),this.Xe=new $o(this.N)}function js(){return new $o(Jr.N)}function Vs(){return new $o(Jr.N)}var Us={asc:"ASCENDING",desc:"DESCENDING"},Fs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qs=(Bs.prototype.ni=function(t){var e=void 0===t.code?Sr.UNKNOWN:Qo(t.code);return new kr(e,t.message||"")},Bs.prototype.ri=function(t){return this.options.hi||ri(t)?t:{value:t}},Bs.prototype.oi=function(t){var e;return ri(e="object"==typeof t?t.value:t)?null:e},Bs.prototype._t=function(t){return{integerValue:""+t}},Bs.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ii(t)?"-0":t}},Bs.prototype.ai=function(t){return oi(t)?this._t(t):this.lt(t)},Bs.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},Bs.prototype.v=function(t){var e=vi(t);return new Pr(e.seconds,e.nanos)},Bs.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},Bs.prototype.ci=function(t){return this.options.hi?(Zs(void 0===t||"string"==typeof t),ei.fromBase64String(t||"")):(Zs(void 0===t||t instanceof Uint8Array),ei.fromUint8Array(t||new Uint8Array))},Bs.prototype.toVersion=function(t){return this.C(t.C())},Bs.prototype.fromVersion=function(t){return Zs(!!t),xr.v(this.v(t))},Bs.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},Bs.prototype.di=function(t){var e=Mr.K(t);return Zs(Gs(e)),e},Bs.prototype.fi=function(t){return this._i(t.path)},Bs.prototype.Z=function(t){var e=this.di(t);return Zs(e.get(1)===this.ii.projectId),Zs(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new Jr(this.Ti(e))},Bs.prototype.Ei=function(t){return this._i(t)},Bs.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?Mr.G:this.Ti(e)},Object.defineProperty(Bs.prototype,"wi",{get:function(){return new Mr(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),Bs.prototype.li=function(t){return new Mr(["projects",t.projectId,"databases",t.database])},Bs.prototype.Ti=function(t){return Zs(4<t.length&&"documents"===t.get(4)),t.$(5)},Bs.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},Bs.prototype.mi=function(t){return{name:this.fi(t.key),fields:t.Mt().mapValue.fields,updateTime:this.C(t.version.C())}},Bs.prototype.Ai=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new Xi({mapValue:{fields:t.fields}});return new Io(n,r,i,{hasCommittedMutations:!!e})},Bs.prototype.Pi=function(t){Zs(!!t.found),t.found.name,t.found.updateTime;var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new Xi({mapValue:{fields:t.found.fields}});return new Io(e,n,r,{})},Bs.prototype.Vi=function(t){Zs(!!t.missing),Zs(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new To(e,n)},Bs.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):$s()},Bs.prototype.pi=function(t){var e;if("targetChange"in t){t.targetChange;var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause;e=new Is(n,r,i,o&&this.ni(o)||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var a=this.Z(s.document.name),u=this.fromVersion(s.document.updateTime),c=new Xi({mapValue:{fields:s.document.fields}}),h=new Io(a,u,c,{});e=new ws(s.targetIds||[],s.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){t.documentDelete;var f=t.documentDelete;f.document;var l=this.Z(f.document),p=f.readTime?this.fromVersion(f.readTime):xr.min(),d=new To(l,p);e=new ws([],f.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){t.documentRemove;var v=t.documentRemove;v.document;var y=this.Z(v.document);e=new ws([],v.removedTargetIds||[],y,null)}else{if(!("filter"in t))return $s();t.filter;var m=t.filter;m.targetId;var g=new co(m.count||0);e=new Es(m.targetId,g)}return e},Bs.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:$s()},Bs.prototype.bi=function(t){if(!("targetChange"in t))return xr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?xr.min():this.fromVersion(e.readTime)},Bs.prototype.vi=function(t){var e,n=this;if(t instanceof Gi)e={update:this.Ri(t.key,t.value)};else if(t instanceof Ki)e={delete:this.fi(t.key)};else if(t instanceof Hi)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof zi)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof Wi))return $s();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},Bs.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):qi.ft();if(t.update){t.update.name;var r=this.Z(t.update.name),i=new Xi({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.ki(t.updateMask);return new Hi(r,i,o,n)}return new Gi(r,i,n)}if(t.delete){var s=this.Z(t.delete);return new Ki(s,n)}if(t.transform){var a=this.Z(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.$i(t)}));return Zs(!0===n.exists),new zi(a,u)}if(t.verify){var c=this.Z(t.verify);return new Wi(c,n)}return $s()},Bs.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$s()},Bs.prototype.Ni=function(t){return void 0!==t.updateTime?qi.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?qi.exists(t.exists):qi.ft()},Bs.prototype.Mi=function(t,e){var n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(xr.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&0<t.transformResults.length&&(r=t.transformResults),new Pi(n,r)},Bs.prototype.Li=function(t,e){var n=this;return t&&0<t.length?(Zs(void 0!==e),t.map((function(t){return n.Mi(t,e)}))):[]},Bs.prototype.Di=function(t){var e=t.transform;if(e instanceof _i)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof Ni)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof Si)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof ki)return{fieldPath:t.field.j(),increment:e.ct};throw $s()},Bs.prototype.$i=function(t){var e=null;if("setToServerValue"in t)Zs("REQUEST_TIME"===t.setToServerValue),e=_i.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new Ni(n)}else if("removeAllFromArray"in t){var r=t.removeAllFromArray.values||[];e=new Si(r)}else"increment"in t?e=new ki(this,t.increment):$s();var i=Xr.X(t.fieldPath);return new Fi(i,e)},Bs.prototype.xi=function(t){return{documents:[this.Ei(t.path)]}},Bs.prototype.Oi=function(t){Zs(1===t.documents.length);var e=t.documents[0];return No.Wt(this.Ii(e)).ee()},Bs.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.M()),e.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},Bs.prototype.Wi=function(t){var e=this.Ii(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Zs(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var u=null;n.limit&&(u=this.oi(n.limit));var c=null;n.startAt&&(c=this.Gi(n.startAt));var h=null;return n.endAt&&(h=this.Gi(n.endAt)),new No(e,i,a,s,u,"F",c,h).ee()},Bs.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},Bs.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $s()}},Bs.prototype.ee=function(t){var e,n=t.target;return(e=n.xt()?{documents:this.xi(n)}:{query:this.Bi(n)}).targetId=t.targetId,0<t.resumeToken.rt()&&(e.resumeToken=this.ui(t.resumeToken)),e},Bs.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof So?e.Yi(t):$s()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Bs.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):$s():[]},Bs.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},Bs.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},Bs.prototype.Qi=function(t){return{before:t.before,values:t.position}},Bs.prototype.Gi=function(t){var e=!!t.before,n=t.values||[];return new Po(n,e)},Bs.prototype.en=function(t){return Us[t]},Bs.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},Bs.prototype.nn=function(t){return Fs[t]},Bs.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return $s()}},Bs.prototype.hn=function(t){return{fieldPath:t.j()}},Bs.prototype.on=function(t){return Xr.X(t.fieldPath)},Bs.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},Bs.prototype.tn=function(t){return new xo(this.on(t.field),this.sn(t.direction))},Bs.prototype.Xi=function(t){return So.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},Bs.prototype.Yi=function(t){if("=="===t.op){if(Ii(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(Ei(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},Bs.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return So.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return So.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return $s()}},Bs.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},Bs.prototype.ki=function(t){var e=t.fieldPaths||[];return new Ui(e.map((function(t){return Xr.X(t)})))},Bs);function Bs(t,e){this.ii=t,this.options=e}function Gs(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}var Hs=(Ks.an=function(t){Ks.platform&&$s(),Ks.platform=t},Ks.nt=function(){return Ks.platform||$s(),Ks.platform},Ks),zs=new d("@firebase/firestore");function Ks(){}function Ws(){return zs.logLevel}function Xs(t){zs.logLevel=t}function Ys(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zs.logLevel<=r.DEBUG){var i=e.map(Qs);zs.debug.apply(zs,c(["Firestore ("+Er+"): "+t],i))}}function Js(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zs.logLevel<=r.ERROR){var i=e.map(Qs);zs.error.apply(zs,c(["Firestore ("+Er+"): "+t],i))}}function Qs(t){if("string"==typeof t)return t;var e=Hs.nt();try{return e.un(t)}catch(e){return t}}function $s(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+Er+") INTERNAL ASSERTION FAILED: "+t;throw Js(e),new Error(e)}function Zs(t){t||$s()}var ta=(ea.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hs.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},ea);function ea(){}function na(t,e){return t<e?-1:e<t?1:0}function ra(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ia(t){return t+"\0"}function oa(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}var sa=(Object.defineProperty(Da.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),Da.prototype.isEqual=function(t){return t instanceof Da&&t.projectId===this.projectId&&t.database===this.database},Da.prototype.S=function(t){return na(this.projectId,t.projectId)||na(this.database,t.database)},Da),aa=(Oa.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},Oa.prototype.has=function(t){return void 0!==this.get(t)},Oa.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},Oa.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},Oa.prototype.forEach=function(t){Zr(this.fn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},Oa.prototype.B=function(){return ti(this.fn)},Oa),ua=(ka.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.at(e,s)}}return e},ka.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.ot(e,o,this.Tn))}return e},ka.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ot(r.key,t.get(r.key));i&&(n=n.me(r.key,i))})),n},ka.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ms())},ka.prototype.isEqual=function(t){return this.batchId===t.batchId&&ra(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&ra(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},ka),ca=(Sa.from=function(t,e,n,r){Zs(t.mutations.length===n.length);for(var i=vs(),o=t.mutations,s=0;s<o.length;s++)i=i.me(o[s].key,n[s].version);return new Sa(t,e,n,r,i)},Sa),ha=(Na.prototype.B=function(){return this.mn.B()},Na.prototype.gn=function(t,e){var n=new fa(t,e);this.mn=this.mn.add(n),this.Pn=this.Pn.add(n)},Na.prototype.pn=function(t,e){var n=this;t.forEach((function(t){return n.gn(t,e)}))},Na.prototype.yn=function(t,e){this.bn(new fa(t,e))},Na.prototype.vn=function(t,e){var n=this;t.forEach((function(t){return n.yn(t,e)}))},Na.prototype.Sn=function(t){var e=this,n=Jr.EMPTY,r=new fa(n,t),i=new fa(n,t+1),o=[];return this.Pn.Ke([r,i],(function(t){e.bn(t),o.push(t.key)})),o},Na.prototype.Dn=function(){var t=this;this.mn.forEach((function(e){return t.bn(e)}))},Na.prototype.bn=function(t){this.mn=this.mn.delete(t),this.Pn=this.Pn.delete(t)},Na.prototype.Cn=function(t){var e=Jr.EMPTY,n=new fa(e,t),r=new fa(e,t+1),i=ms();return this.Pn.Ke([n,r],(function(t){i=i.add(t.key)})),i},Na.prototype.Fn=function(t){var e=new fa(t,0),n=this.mn.ze(e);return null!==n&&t.isEqual(n.key)},Na),fa=(Aa.An=function(t,e){return Jr.N(t.key,e.key)||na(t.Nn,e.Nn)},Aa.Vn=function(t,e){return na(t.Nn,e.Nn)||Jr.N(t.key,e.key)},Aa),la=(_a.prototype.catch=function(t){return this.next(void 0,t)},_a.prototype.next=function(t,e){var n=this;return this.Ln&&$s(),this.Ln=!0,this.Mn?this.error?this.xn(e,this.error):this.On(t,this.result):new _a((function(r,i){n.kn=function(e){n.On(t,e).next(r,i)},n.$n=function(t){n.xn(e,t).next(r,i)}}))},_a.prototype.Bn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},_a.prototype.qn=function(t){try{var e=t();return e instanceof _a?e:_a.resolve(e)}catch(t){return _a.reject(t)}},_a.prototype.On=function(t,e){return t?this.qn((function(){return t(e)})):_a.resolve(e)},_a.prototype.xn=function(t,e){return t?this.qn((function(){return t(e)})):_a.reject(e)},_a.resolve=function(t){return new _a((function(e,n){e(t)}))},_a.reject=function(t){return new _a((function(e,n){n(t)}))},_a.Un=function(t){return new _a((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},_a.Qn=function(t){for(var e=_a.resolve(!1),n=function(t){e=e.next((function(e){return e?_a.resolve(e):t()}))},r=0,i=t;r<i.length;r++)n(i[r]);return e},_a.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Un(r)},_a),pa=(Object.defineProperty(Ta.prototype,"readTime",{get:function(){return this.Kn},set:function(t){this.Kn=t},enumerable:!0,configurable:!0}),Ta.prototype.Gn=function(t,e){this.zn(),this.readTime=e,this.Wn.set(t.key,t)},Ta.prototype.Hn=function(t,e){this.zn(),e&&(this.readTime=e),this.Wn.set(t,null)},Ta.prototype.Yn=function(t,e){this.zn();var n=this.Wn.get(e);return void 0!==n?la.resolve(n):this.Jn(t,e)},Ta.prototype.getEntries=function(t,e){return this.Xn(t,e)},Ta.prototype.apply=function(t){return this.zn(),this.jn=!0,this.Zn(t)},Ta.prototype.zn=function(){},Ta),da="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",va=(Ia.prototype.er=function(t){this.tr.push(t)},Ia.prototype.sr=function(){this.tr.forEach((function(t){return t()}))},Ia),ya=(Ea.prototype.hr=function(t,e){var n=this;return this.nr.or(t,e).next((function(r){return n.ar(t,e,r)}))},Ea.prototype.ar=function(t,e,n){return this.ir.Yn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ot(e,t);return t}))},Ea.prototype.ur=function(t,e,n){var r=fs();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ot(t,e);r=r.me(t,e)})),r},Ea.prototype.cr=function(t,e){var n=this;return this.ir.getEntries(t,e).next((function(e){return n._r(t,e)}))},Ea.prototype._r=function(t,e){var n=this;return this.nr.lr(t,e).next((function(r){var i=n.ur(t,e,r),o=hs();return i.forEach((function(t,e){e=e||new To(t,xr.min()),o=o.me(t,e)})),o}))},Ea.prototype.dr=function(t,e,n){return e.xt()?this.Tr(t,e.path):e._e()?this.Er(t,e,n):this.Ir(t,e,n)},Ea.prototype.Tr=function(t,e){return this.hr(t,new Jr(e)).next((function(t){var e=ps();return t instanceof Io&&(e=e.me(t.key,t)),e}))},Ea.prototype.Er=function(t,e,n){var r=this,i=e.collectionGroup,o=ps();return this.rr.wr(t,i).next((function(s){return la.forEach(s,(function(s){var a=e.Zt(s.child(i));return r.Ir(t,a,n).next((function(t){t.forEach((function(t,e){o=o.me(t,e)}))}))})).next((function(){return o}))}))},Ea.prototype.Ir=function(t,e,n){var r,i,o=this;return this.ir.dr(t,e,n).next((function(n){return r=n,o.nr.Rr(t,e)})).next((function(e){return i=e,o.mr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),f=u.ot(h,h,o.Tn);r=f instanceof Io?r.me(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},Ea.prototype.mr=function(t,e,n){for(var r=ms(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Hi&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ir.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Io&&(c=c.me(t,e))})),c}))},Ea),ma=(wa.Vr=function(t,e){for(var n=ms(),r=ms(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new wa(t,e.fromCache,n,r)},wa),ga=(ba.prototype.pr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},ba.prototype.next=function(){var t=++this.previousValue;return this.yr&&this.yr(t),t},ba);function ba(t,e){var n=this;this.previousValue=t,e&&(e.gr=function(t){return n.pr(t)},this.yr=function(t){return e.br(t)})}function wa(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ar=n,this.Pr=r}function Ea(t,e,n){this.ir=t,this.nr=e,this.rr=n}function Ia(){this.tr=[]}function Ta(){this.Wn=new aa((function(t){return t.toString()})),this.jn=!1}function _a(t){var e=this;this.kn=null,this.$n=null,this.result=void 0,this.error=void 0,this.Mn=!1,this.Ln=!1,t((function(t){e.Mn=!0,e.result=t,e.kn&&e.kn(t)}),(function(t){e.Mn=!0,e.error=t,e.$n&&e.$n(t)}))}function Aa(t,e){this.key=t,this.Nn=e}function Na(){this.mn=new os(fa.An),this.Pn=new os(fa.Vn)}function Sa(t,e,n,r,i){this.batch=t,this.wn=e,this.En=n,this.streamToken=r,this.Rn=i}function ka(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}function Oa(t){this.dn=t,this.fn={}}function Da(t,e){this.projectId=t,this.database=e||"(default)"}function Ra(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}ga.vr=-1;var La=(ja.prototype.reset=function(){this.kr=0},ja.prototype.Lr=function(){this.kr=this.Nr},ja.prototype.xr=function(t){var e=this;this.cancel();var n=Math.floor(this.kr+this.Or()),r=Math.max(0,Date.now()-this.Mr),i=Math.max(0,n-r);0<i&&Ys("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.kr+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.$r=this.Sr.Br(this.Dr,i,(function(){return e.Mr=Date.now(),t()})),this.kr*=this.Fr,this.kr<this.Cr&&(this.kr=this.Cr),this.kr>this.Nr&&(this.kr=this.Nr)},ja.prototype.cancel=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},ja.prototype.Or=function(){return(Math.random()-.5)*this.kr},ja),Pa=(Ma.jr=function(t,e,n,r,i){var o=new Ma(t,e,Date.now()+n,r,i);return o.start(n),o},Ma.prototype.start=function(t){var e=this;this.Kr=setTimeout((function(){return e.Gr()}),t)},Ma.prototype.zr=function(){return this.Gr()},Ma.prototype.cancel=function(t){null!==this.Kr&&(this.clearTimeout(),this.Wr.reject(new kr(Sr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Ma.prototype.Gr=function(){var t=this;this.qr.Hr((function(){return null!==t.Kr?(t.clearTimeout(),t.op().then((function(e){return t.Wr.resolve(e)}))):Promise.resolve()}))},Ma.prototype.clearTimeout=function(){null!==this.Kr&&(this.Qr(this),clearTimeout(this.Kr),this.Kr=null)},Ma),xa=(Object.defineProperty(Ca.prototype,"hh",{get:function(){return this.Xr},enumerable:!0,configurable:!0}),Ca.prototype.Hr=function(t){this.enqueue(t)},Ca.prototype.oh=function(t){this.ah(),this.uh(t)},Ca.prototype._h=function(t){return this.ah(),this.uh(t)},Ca.prototype.lh=function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return this.ah(),this.Xr?[3,2]:(this.Xr=!0,(e=Hs.nt().window)&&e.removeEventListener("visibilitychange",this.nh),[4,this._h(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},Ca.prototype.enqueue=function(t){return this.ah(),this.Xr?new Promise((function(t){})):this.uh(t)},Ca.prototype.dh=function(t){var e=this;this.ah(),this.Xr||(this.Jr=this.Jr.then((function(){var n=new Ra,r=function(){return a(e,void 0,void 0,(function(){var e;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.ih.reset(),[3,3];case 2:if("IndexedDbTransactionError"!==(e=i.sent()).name)throw n.resolve(),e;return Ys("AsyncQueue","Operation failed with retryable error: "+e),this.ih.xr(r),[3,3];case 3:return[2]}}))}))};return e.Hr(r),n.promise})))},Ca.prototype.uh=function(t){var e=this,n=this.Yr.then((function(){return e.eh=!0,t().catch((function(t){throw e.th=t,e.eh=!1,Js("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.eh=!1,t}))}));return this.Yr=n},Ca.prototype.Br=function(t,e,n){var r=this;this.ah(),-1<this.sh.indexOf(t)&&(e=0);var i=Pa.jr(this,t,e,n,(function(t){return r.fh(t)}));return this.Zr.push(i),i},Ca.prototype.ah=function(){this.th&&$s()},Ca.prototype.Th=function(){},Ca.prototype.Eh=function(){return a(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return[4,t=this.Yr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Yr)return[3,0];e.label=3;case 3:return[2]}}))}))},Ca.prototype.Ih=function(t){for(var e=0,n=this.Zr;e<n.length;e++)if(n[e].Dr===t)return!0;return!1},Ca.prototype.rh=function(t){var e=this;return this.Eh().then((function(){e.Zr.sort((function(t,e){return t.Ur-e.Ur}));for(var n=0,r=e.Zr;n<r.length;n++){var i=r[n];if(i.zr(),"all"!==t&&i.Dr===t)break}return e.Eh()}))},Ca.prototype.wh=function(t){this.sh.push(t)},Ca.prototype.fh=function(t){var e=this.Zr.indexOf(t);this.Zr.splice(e,1)},Ca);function Ca(){var t=this;this.Yr=Promise.resolve(),this.Jr=Promise.resolve(),this.Xr=!1,this.Zr=[],this.th=null,this.eh=!1,this.sh=[],this.ih=new La(this,"async_queue_retry"),this.nh=function(){t.rh("async_queue_retry")};var e=Hs.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.nh)}function Ma(t,e,n,r,i){this.qr=t,this.Dr=e,this.Ur=n,this.op=r,this.Qr=i,this.Wr=new Ra,this.then=this.Wr.promise.then.bind(this.Wr.promise),this.catch=this.Wr.promise.catch.bind(this.Wr.promise),this.Wr.promise.catch((function(t){}))}function ja(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Sr=t,this.Dr=e,this.Cr=n,this.Fr=r,this.Nr=i,this.kr=0,this.$r=null,this.Mr=Date.now(),this.reset()}function Va(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=na(n,i);return 0===s?na(r,o):s}var Ua=(Ga.prototype.Ah=function(){return++this.mh},Ga.prototype.Ph=function(t){var e=[t,this.Ah()];if(this.buffer.size<this.Rh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Va(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(Ga.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Ga),Fa={Vh:!1,gh:0,ph:0,yh:0},qa=(Ba.Dh=function(t){return new Ba(t,Ba.Ch,Ba.Fh)},Ba);function Ba(t,e,n){this.bh=t,this.vh=e,this.Sh=n}function Ga(t){this.Rh=t,this.buffer=new os(Va),this.mh=0}qa.Nh=-1,qa.kh=1048576,qa.$h=41943040,qa.Ch=10,qa.Fh=1e3,qa.Mh=new qa(qa.$h,qa.Ch,qa.Fh),qa.DISABLED=new qa(qa.Nh,0,0);var Ha=(Wa.prototype.start=function(t){this.Lh.Bh.bh!==qa.Nh&&this.qh(t)},Wa.prototype.stop=function(){this.Oh&&(this.Oh.cancel(),this.Oh=null)},Object.defineProperty(Wa.prototype,"Uh",{get:function(){return null!==this.Oh},enumerable:!0,configurable:!0}),Wa.prototype.qh=function(t){var e=this,n=this.xh?3e5:6e4;Ys("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Oh=this.qr.Br("lru_garbage_collection",n,(function(){return a(e,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:this.Oh=null,this.xh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Qh(this.Lh)];case 2:return n.sent(),[3,7];case 3:return"IndexedDbTransactionError"!==(e=n.sent()).name?[3,4]:(Ys("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]);case 4:return[4,Nc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.qh(t)];case 8:return n.sent(),[2]}}))}))}))},Wa),za=(Ka.prototype.jh=function(t,e){return this.Wh.Kh(t).next((function(t){return Math.floor(e/100*t)}))},Ka.prototype.Gh=function(t,e){var n=this;if(0===e)return la.resolve(ga.vr);var r=new Ua(e);return this.Wh.js(t,(function(t){return r.Ph(t.sequenceNumber)})).next((function(){return n.Wh.zh(t,(function(t){return r.Ph(t)}))})).next((function(){return r.maxValue}))},Ka.prototype.Hh=function(t,e,n){return this.Wh.Hh(t,e,n)},Ka.prototype.Yh=function(t,e){return this.Wh.Yh(t,e)},Ka.prototype.Jh=function(t,e){var n=this;return this.Bh.bh===qa.Nh?(Ys("LruGarbageCollector","Garbage collection skipped; disabled"),la.resolve(Fa)):this.Xh(t).next((function(r){return r<n.Bh.bh?(Ys("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Bh.bh),Fa):n.Zh(t,e)}))},Ka.prototype.Xh=function(t){return this.Wh.Xh(t)},Ka.prototype.Zh=function(t,e){var n,i,o,s,a,u,c,h=this,f=Date.now();return this.jh(t,this.Bh.vh).next((function(e){return i=e>h.Bh.Sh?(Ys("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.Bh.Sh+" from "+e),h.Bh.Sh):e,s=Date.now(),h.Gh(t,i)})).next((function(r){return n=r,a=Date.now(),h.Hh(t,n,e)})).next((function(e){return o=e,u=Date.now(),h.Yh(t,n)})).next((function(t){return c=Date.now(),Ws()<=r.DEBUG&&Ys("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),la.resolve({Vh:!0,gh:i,ph:o,yh:t})}))},Ka);function Ka(t,e){this.Wh=t,this.Bh=e}function Wa(t,e){this.Lh=t,this.qr=e,this.xh=!1,this.Oh=null}function Xa(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Ja(e)),e=Ya(t.get(n),e);return Ja(e)}function Ya(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ja(t){return t+""}function Qa(t){var e=t.length;if(Zs(2<=e),2===e)return Zs(""===t.charAt(0)&&""===t.charAt(1)),Mr.G;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||n<s)&&$s(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:$s()}o=s+2}return new Mr(r)}var $a,Za=(uu.eo=function(t,e,n){return Ys("SimpleDb","Opening database:",t),new la((function(r,i){var o=window.indexedDB.open(t,e);o.onsuccess=function(t){var e=t.target.result;r(new uu(e))},o.onblocked=function(){i(new kr(Sr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;"VersionError"===e.name?i(new kr(Sr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(e)},o.onupgradeneeded=function(e){Ys("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var r=e.target.result;n.createOrUpgrade(r,o.transaction,e.oldVersion,Vu).next((function(){Ys("SimpleDb","Database upgrade to version "+Vu+" complete")}))}})).Bn()},uu.delete=function(t){return Ys("SimpleDb","Removing database:",t),cu(window.indexedDB.deleteDatabase(t)).Bn()},uu.so=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(uu.io())return!0;if(void 0===window.navigator)return!1;var t=y(),e=uu.to(t),n=0<e&&e<10,r=uu.no(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},uu.io=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.ro)},uu.ho=function(t,e){return t.store(e)},uu.to=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},uu.no=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},uu.prototype.oo=function(t){this.db.onversionchange=function(e){return t(e)}},uu.prototype.runTransaction=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,s,a;return u(this,(function(c){switch(c.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,a,c,h;return u(this,(function(u){switch(u.label){case 0:++i,t=nu.open(s.db,r?"readonly":"readwrite",e),u.label=1;case 1:return u.trys.push([1,3,,4]),o=n(t).catch((function(e){return t.abort(e),la.reject(e)})).Bn(),a={},o.catch((function(){})),[4,t.ao];case 2:return[2,(a.value=(u.sent(),o),a)];case 3:return c=u.sent(),h="FirebaseError"!==c.name&&i<3,Ys("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},s=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},uu.prototype.close=function(){this.db.close()},uu),tu=(Object.defineProperty(au.prototype,"Mn",{get:function(){return this.co},enumerable:!0,configurable:!0}),Object.defineProperty(au.prototype,"lo",{get:function(){return this._o},enumerable:!0,configurable:!0}),Object.defineProperty(au.prototype,"cursor",{set:function(t){this.uo=t},enumerable:!0,configurable:!0}),au.prototype.done=function(){this.co=!0},au.prototype.do=function(t){this._o=t},au.prototype.delete=function(){return cu(this.uo.delete())},au),eu=(s(su,$a=kr),su),nu=(ou.open=function(t,e,n){return new ou(t.transaction(n,e))},Object.defineProperty(ou.prototype,"ao",{get:function(){return this.fo.promise},enumerable:!0,configurable:!0}),ou.prototype.abort=function(t){t&&this.fo.reject(t),this.aborted||(Ys("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},ou.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ru(e)},ou),ru=(iu.prototype.put=function(t,e){return cu(void 0!==e?(Ys("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Ys("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},iu.prototype.add=function(t){return Ys("SimpleDb","ADD",this.store.name,t,t),cu(this.store.add(t))},iu.prototype.get=function(t){var e=this;return cu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ys("SimpleDb","GET",e.store.name,t,n),n}))},iu.prototype.delete=function(t){return Ys("SimpleDb","DELETE",this.store.name,t),cu(this.store.delete(t))},iu.prototype.count=function(){return Ys("SimpleDb","COUNT",this.store.name),cu(this.store.count())},iu.prototype.To=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Eo(n,(function(t,e){r.push(e)})).next((function(){return r}))},iu.prototype.Io=function(t,e){Ys("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.wo=!1;var r=this.cursor(n);return this.Eo(r,(function(t,e,n){return n.delete()}))},iu.prototype.Ro=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Eo(r,e)},iu.prototype.mo=function(t){var e=this.cursor({});return new la((function(n,r){e.onerror=function(t){var e=fu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},iu.prototype.Eo=function(t,e){var n=[];return new la((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tu(i),s=e(i.primaryKey,i.value,o);if(s instanceof la){var a=s.catch((function(t){return o.done(),la.reject(t)}));n.push(a)}o.Mn?r():null===o.lo?i.continue():i.continue(o.lo)}else r()}})).next((function(){return la.Un(n)}))},iu.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},iu.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.wo?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},iu);function iu(t){this.store=t}function ou(t){var e=this;this.transaction=t,this.aborted=!1,this.fo=new Ra,this.transaction.oncomplete=function(){e.fo.resolve()},this.transaction.onabort=function(){t.error?e.fo.reject(new eu(t.error)):e.fo.resolve()},this.transaction.onerror=function(t){var n=fu(t.target.error);e.fo.reject(new eu(n))}}function su(t){var e=this;return(e=$a.call(this,Sr.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",e}function au(t){this.uo=t,this.co=!1,this._o=null}function uu(t){this.db=t,12.2===uu.to(y())&&Js("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function cu(t){return new la((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=fu(t.target.error);n(e)}}))}var hu=!1;function fu(t){var e=Za.to(y());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new kr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hu||(hu=!0,setTimeout((function(){throw r}),0)),r}}return t}var lu=(pu.Vo=function(t,e,n,r){return Zs(""!==t.uid),new pu(t.t()?t.uid:"",e,n,r)},pu.prototype.po=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(t).Ro({index:zu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},pu.prototype.yo=function(t,e,n){return this.bo(t).next((function(e){return e.lastStreamToken=n.toBase64(),gu(t).put(e)}))},pu.prototype.vo=function(t){return this.bo(t).next((function(t){return ei.fromBase64String(t.lastStreamToken)}))},pu.prototype.So=function(t,e){return this.bo(t).next((function(n){return n.lastStreamToken=e.toBase64(),gu(t).put(n)}))},pu.prototype.Do=function(t,e,n,r){var i=this,o=mu(t),s=yu(t);return s.add({}).next((function(a){Zs("number"==typeof a);for(var u=new ua(a,e,n,r),c=i.serializer.Co(i.userId,u),h=[],f=new os((function(t,e){return na(t.j(),e.j())})),l=0,p=r;l<p.length;l++){var d=p[l],v=Ku.key(i.userId,d.key.path,a);f=f.add(d.key.path.M()),h.push(s.put(c)),h.push(o.put(v,Ku.PLACEHOLDER))}return f.forEach((function(e){h.push(i.rr.Fo(t,e))})),t.er((function(){i.Po[a]=u.keys()})),la.Un(h).next((function(){return u}))}))},pu.prototype.No=function(t,e){var n=this;return yu(t).get(e).next((function(t){return t?(Zs(t.userId===n.userId),n.serializer.ko(t)):null}))},pu.prototype.$o=function(t,e){var n=this;return this.Po[e]?la.resolve(this.Po[e]):this.No(t,e).next((function(t){if(t){var r=t.keys();return n.Po[e]=r}return null}))},pu.prototype.Mo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yu(t).Ro({index:zu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Zs(e.batchId>=r),o=n.serializer.ko(e)),i.done()})).next((function(){return o}))},pu.prototype.Lo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yu(t).Ro({index:zu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},pu.prototype.xo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(t).To(zu.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.ko(t)}))}))},pu.prototype.or=function(t,e){var n=this,r=Ku.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return mu(t).Ro({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Qa(u);if(a===n.userId&&e.path.isEqual(h))return yu(t).get(c).next((function(t){if(!t)throw $s();Zs(t.userId===n.userId),o.push(n.serializer.ko(t))}));s.done()})).next((function(){return o}))},pu.prototype.lr=function(t,e){var n=this,r=new os(na),i=[];return e.forEach((function(e){var o=Ku.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=mu(t).Ro({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Qa(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),la.Un(i).next((function(){return n.Oo(t,r)}))},pu.prototype.Rr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ku.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new os(na);return mu(t).Ro({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Qa(u);s===n.userId&&r.q(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Oo(t,a)}))},pu.prototype.Oo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(yu(t).get(e).next((function(t){if(null===t)throw $s();Zs(t.userId===n.userId),r.push(n.serializer.ko(t))})))})),la.Un(i).next((function(){return r}))},pu.prototype.Bo=function(t,e){var n=this;return vu(t.qo,this.userId,e).next((function(r){return t.er((function(){n.Uo(e.batchId)})),la.forEach(r,(function(e){return n.Ao.Qo(t,e)}))}))},pu.prototype.Uo=function(t){delete this.Po[t]},pu.prototype.Wo=function(t){var e=this;return this.po(t).next((function(n){if(!n)return la.resolve();var r=IDBKeyRange.lowerBound(Ku.prefixForUser(e.userId)),i=[];return mu(t).Ro({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Qa(t[1]);i.push(o)}else r.done()})).next((function(){Zs(0===i.length)}))}))},pu.prototype.Fn=function(t,e){return du(t,this.userId,e)},pu.prototype.bo=function(t){var e=this;return gu(t).get(this.userId).next((function(t){return t||new Hu(e.userId,-1,"")}))},pu);function pu(t,e,n,r){this.userId=t,this.serializer=e,this.rr=n,this.Ao=r,this.Po={}}function du(t,e,n){var r=Ku.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return mu(t).Ro({range:o,wo:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function vu(t,e,n){var r=t.store(zu.store),i=t.store(Ku.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ro({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Zs(1===a)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=Ku.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return la.Un(o).next((function(){return c}))}function yu(t){return lc.ho(t,zu.store)}function mu(t){return lc.ho(t,Ku.store)}function gu(t){return lc.ho(t,Hu.store)}var bu=(Iu.prototype.next=function(){return this.jo+=2,this.jo},Iu.Ko=function(){return new Iu(0)},Iu.Go=function(){return new Iu(-1)},Iu),wu=(Eu.prototype.zo=function(t){var e=this;return this.Ho(t).next((function(n){var r=new bu(n.highestTargetId);return n.highestTargetId=r.next(),e.Yo(t,n).next((function(){return n.highestTargetId}))}))},Eu.prototype.Jo=function(t){return this.Ho(t).next((function(t){return xr.v(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},Eu.prototype.Xo=function(t){return Au(t.qo)},Eu.prototype.Zo=function(t,e,n){var r=this;return this.Ho(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.C()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Yo(t,i)}))},Eu.prototype.ta=function(t,e){var n=this;return this.ea(t,e).next((function(){return n.Ho(t).next((function(r){return r.targetCount+=1,n.sa(e,r),n.Yo(t,r)}))}))},Eu.prototype.ia=function(t,e){return this.ea(t,e)},Eu.prototype.na=function(t,e){var n=this;return this.ra(t,e.targetId).next((function(){return Tu(t).delete(e.targetId)})).next((function(){return n.Ho(t)})).next((function(e){return Zs(0<e.targetCount),--e.targetCount,n.Yo(t,e)}))},Eu.prototype.Hh=function(t,e,n){var r=this,i=0,o=[];return Tu(t).Ro((function(s,a){var u=r.serializer.ha(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.na(t,u)))})).next((function(){return la.Un(o)})).next((function(){return i}))},Eu.prototype.js=function(t,e){var n=this;return Tu(t).Ro((function(t,r){var i=n.serializer.ha(r);e(i)}))},Eu.prototype.Ho=function(t){return _u(t.qo)},Eu.prototype.Yo=function(t,e){return lc.ho(t,tc.store).put(tc.key,e)},Eu.prototype.ea=function(t,e){return Tu(t).put(this.serializer.oa(e))},Eu.prototype.sa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},Eu.prototype.aa=function(t){return this.Ho(t).next((function(t){return t.targetCount}))},Eu.prototype.ua=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Tu(t).Ro({range:i,index:$u.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.ha(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},Eu.prototype.ca=function(t,e,n){var r=this,i=[],o=Nu(t);return e.forEach((function(e){var s=Xa(e.path);i.push(o.put(new Zu(n,s))),i.push(r.Ao.gn(t,e))})),la.Un(i)},Eu.prototype._a=function(t,e,n){var r=this,i=Nu(t);return la.forEach(e,(function(e){var o=Xa(e.path);return la.Un([i.delete([n,o]),r.Ao.yn(t,e)])}))},Eu.prototype.ra=function(t,e){var n=Nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},Eu.prototype.la=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nu(t),i=ms();return r.Ro({range:n,wo:!0},(function(t,e,n){var r=Qa(t[1]),o=new Jr(r);i=i.add(o)})).next((function(){return i}))},Eu.prototype.Fn=function(t,e){var n=Xa(e.path),r=IDBKeyRange.bound([n],[ia(n)],!1,!0),i=0;return Nu(t).Ro({index:Zu.documentTargetsIndex,wo:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},Eu.prototype.si=function(t,e){var n=this;return Tu(t).get(e).next((function(t){return t?n.serializer.ha(t):null}))},Eu);function Eu(t,e){this.Ao=t,this.serializer=e}function Iu(t){this.jo=t}function Tu(t){return lc.ho(t,$u.store)}function _u(t){return Za.ho(t,tc.store).get(tc.key).next((function(t){return Zs(null!==t),t}))}function Au(t){return _u(t).next((function(t){return t.highestListenSequenceNumber}))}function Nu(t){return lc.ho(t,Zu.store)}var Su,ku=(Ou.prototype.Gn=function(t,e,n){return Ru(t).put(Lu(e),n)},Ou.prototype.Hn=function(t,e){var n=Ru(t),r=Lu(e);return n.delete(r)},Ou.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.da(t,r)}))},Ou.prototype.Yn=function(t,e){var n=this;return Ru(t).get(Lu(e)).next((function(t){return n.fa(t)}))},Ou.prototype.Ta=function(t,e){var n=this;return Ru(t).get(Lu(e)).next((function(t){var e=n.fa(t);return e?{Ea:e,size:Pu(t)}:null}))},Ou.prototype.getEntries=function(t,e){var n=this,r=fs();return this.Ia(t,e,(function(t,e){var i=n.fa(e);r=r.me(t,i)})).next((function(){return r}))},Ou.prototype.wa=function(t,e){var n=this,r=fs(),i=new $o(Jr.N);return this.Ia(t,e,(function(t,e){var o=n.fa(e);i=o?(r=r.me(t,o),i.me(t,Pu(e))):(r=r.me(t,null),i.me(t,0))})).next((function(){return{Ra:r,ma:i}}))},Ou.prototype.Ia=function(t,e,n){if(e.B())return la.resolve();var r=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),i=e.be(),o=i.Ne();return Ru(t).Ro({range:r},(function(t,e,r){for(var s=Jr.st(t);o&&Jr.N(o,s)<0;)n(o,null),o=i.Ne();o&&o.isEqual(s)&&(n(o,e),o=i.ke()?i.Ne():null),o?r.do(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ke()?i.Ne():null}))},Ou.prototype.dr=function(t,e,n){var r=this,i=ps(),o=e.path.length+1,s={};if(n.isEqual(xr.min())){var a=e.path.W();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.W(),c=this.serializer.Aa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ju.collectionReadTimeIndex}return Ru(t).Ro(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Pa(n);e.path.q(a.key.path)?a instanceof Io&&e.matches(a)&&(i=i.me(a.key,a)):s.done()}})).next((function(){return i}))},Ou.prototype.Va=function(t,e){var n=this,r=hs(),i=this.serializer.Aa(e),o=Ru(t),s=IDBKeyRange.lowerBound(i,!0);return o.Ro({index:Ju.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Pa(e);r=r.me(o.key,o),i=e.readTime})).next((function(){return{ga:r,readTime:n.serializer.pa(i)}}))},Ou.prototype.ya=function(t){var e=this,n=Ru(t),r=xr.min();return n.Ro({index:Ju.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.pa(n.readTime)),i.done()})).next((function(){return r}))},Ou.prototype.ba=function(t){return new Ou.va(this,!!t&&t.Sa)},Ou.prototype.Da=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},Ou.prototype.getMetadata=function(t){return Du(t).get(Qu.key).next((function(t){return Zs(!!t),t}))},Ou.prototype.da=function(t,e){return Du(t).put(Qu.key,e)},Ou.prototype.fa=function(t){if(t){var e=this.serializer.Pa(t);return e instanceof To&&e.version.isEqual(xr.min())?null:e}return null},Ou);function Ou(t,e){this.serializer=t,this.rr=e}function Du(t){return lc.ho(t,Qu.store)}function Ru(t){return lc.ho(t,Ju.store)}function Lu(t){return t.path.W()}function Pu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw $s();e=t.noDocument}return JSON.stringify(e).length}function xu(t,e){var n=this;return(n=Su.call(this)||this).Ca=t,n.Sa=e,n.Fa=new aa((function(t){return t.toString()})),n}function Cu(t,e){this.seconds=t,this.nanoseconds=e}ku.va=(s(xu,Su=pa),xu.prototype.Zn=function(t){var e=this,n=[],r=0,i=new os((function(t,e){return na(t.j(),e.j())}));return this.Wn.forEach((function(o,s){var a=e.Fa.get(o);if(s){var u=e.Ca.serializer.Na(s,e.readTime);i=i.add(o.path.M());var c=Pu(u);r+=c-a,n.push(e.Ca.Gn(t,o,u))}else if(r-=a,e.Sa){var h=e.Ca.serializer.Na(new To(o,xr.min()),e.readTime);n.push(e.Ca.Gn(t,o,h))}else n.push(e.Ca.Hn(t,o))})),i.forEach((function(r){n.push(e.Ca.rr.Fo(t,r))})),n.push(this.Ca.updateMetadata(t,r)),la.Un(n)},xu.prototype.Jn=function(t,e){var n=this;return this.Ca.Ta(t,e).next((function(t){return null===t?(n.Fa.set(e,0),null):(n.Fa.set(e,t.size),t.Ea)}))},xu.prototype.Xn=function(t,e){var n=this;return this.Ca.wa(t,e).next((function(t){var e=t.Ra;return t.ma.forEach((function(t,e){n.Fa.set(t,e)})),e}))},xu);var Mu=(Gu.prototype.Fo=function(t,e){return this.ka.add(e),la.resolve()},Gu.prototype.wr=function(t,e){return la.resolve(this.ka.getEntries(e))},Gu),ju=(Bu.prototype.add=function(t){var e=t.O(),n=t.M(),r=this.index[e]||new os(Mr.N),i=!r.has(n);return this.index[e]=r.add(n),i},Bu.prototype.has=function(t){var e=t.O(),n=t.M(),r=this.index[e];return r&&r.has(n)},Bu.prototype.getEntries=function(t){return(this.index[t]||new os(Mr.N)).W()},Bu),Vu=10,Uu=(qu.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Zs(n<r&&0<=n&&r<=Vu);var o,s=new nu(e);n<1&&1<=r&&(t.createObjectStore(Fu.store),(o=t).createObjectStore(Hu.store,{keyPath:Hu.keyPath}),o.createObjectStore(zu.store,{keyPath:zu.keyPath,autoIncrement:!0}).createIndex(zu.userMutationsIndex,zu.userMutationsKeyPath,{unique:!0}),o.createObjectStore(Ku.store),nc(t),t.createObjectStore(Ju.store));var a,u=la.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(Zu.store),a.deleteObjectStore($u.store),a.deleteObjectStore(tc.store),nc(t)),u=u.next((function(){return t=s.store(tc.store),e=new tc(0,0,xr.min().C(),0),t.put(tc.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(u=u.next((function(){return e=t,(n=s).store(zu.store).To().next((function(t){e.deleteObjectStore(zu.store),e.createObjectStore(zu.store,{keyPath:zu.keyPath,autoIncrement:!0}).createIndex(zu.userMutationsIndex,zu.userMutationsKeyPath,{unique:!0});var r=n.store(zu.store),i=t.map((function(t){return r.put(t)}));return la.Un(i)}));var e,n}))),u=u.next((function(){t.createObjectStore(rc.store,{keyPath:rc.keyPath})}))),n<5&&5<=r&&(u=u.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&6<=r&&(u=u.next((function(){return t.createObjectStore(Qu.store),i.addDocumentGlobal(s)}))),n<7&&7<=r&&(u=u.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&8<=r&&(u=u.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&9<=r&&(u=u.next((function(){var n,r;(r=t).objectStoreNames.contains("remoteDocumentChanges")&&r.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(Ju.store)).createIndex(Ju.readTimeIndex,Ju.readTimeIndexPath,{unique:!1}),n.createIndex(Ju.collectionReadTimeIndex,Ju.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(u=u.next((function(){return i.rewriteCanonicalIds(s)}))),u},qu.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ju.store).Ro((function(t,n){e+=Pu(n)})).next((function(){var n=new Qu(e);return t.store(Qu.store).put(Qu.key,n)}))},qu.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Hu.store),r=t.store(zu.store);return n.To().next((function(n){return la.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.To(zu.userMutationsIndex,i).next((function(r){return la.forEach(r,(function(r){Zs(r.userId===n.userId);var i=e.serializer.ko(r);return vu(t,n.userId,i).next((function(){}))}))}))}))}))},qu.prototype.ensureSequenceNumbers=function(t){var e=t.store(Zu.store),n=t.store(Ju.store);return Au(t).next((function(t){var r=[];return n.Ro((function(n,i){var o=new Mr(n),s=[0,Xa(o)];r.push(e.get(s).next((function(n){return n?la.resolve():(r=o,e.put(new Zu(0,Xa(r),t)));var r})))})).next((function(){return la.Un(r)}))}))},qu.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.O(),n=t.M();return r.put({collectionId:e,parent:Xa(n)})}}t.createObjectStore(ec.store,{keyPath:ec.keyPath});var r=e.store(ec.store),i=new ju;return e.store(Ju.store).Ro({wo:!0},(function(t,e){return n(new Mr(t).M())})).next((function(){return e.store(Ku.store).Ro({wo:!0},(function(t,e){t[0];var r=t[1];return n((t[2],Qa(r)).M())}))}))},qu.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store($u.store);return n.Ro((function(t,r){var i=e.serializer.ha(r),o=e.serializer.oa(i);return n.put(o)}))},qu),Fu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function qu(t){this.serializer=t}function Bu(){this.index={}}function Gu(){this.ka=new ju}Fu.store="owner",Fu.key="owner";var Hu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Hu.store="mutationQueues",Hu.keyPath="userId";var zu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};zu.store="mutations",zu.keyPath="batchId",zu.userMutationsIndex="userMutationsIndex",zu.userMutationsKeyPath=["userId","batchId"];var Ku=(Wu.prefixForUser=function(t){return[t]},Wu.prefixForPath=function(t,e){return[t,Xa(e)]},Wu.key=function(t,e,n){return[t,Xa(e),n]},Wu);function Wu(){}function Xu(t,e){this.path=t,this.readTime=e}function Yu(t,e){this.path=t,this.version=e}Ku.store="documentMutations",Ku.PLACEHOLDER=new Ku;var Ju=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ju.store="remoteDocuments",Ju.readTimeIndex="readTimeIndex",Ju.readTimeIndexPath="readTime",Ju.collectionReadTimeIndex="collectionReadTimeIndex",Ju.collectionReadTimeIndexPath=["parentPath","readTime"];var Qu=function(t){this.byteSize=t};Qu.store="remoteDocumentGlobal",Qu.key="remoteDocumentGlobalKey";var $u=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};$u.store="targets",$u.keyPath="targetId",$u.queryTargetsIndexName="queryTargetsIndex",$u.queryTargetsKeyPath=["canonicalId","targetId"];var Zu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Zu.store="targetDocuments",Zu.keyPath=["targetId","path"],Zu.documentTargetsIndex="documentTargetsIndex",Zu.documentTargetsKeyPath=["path","targetId"];var tc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};tc.key="targetGlobalKey",tc.store="targetGlobal";var ec=function(t,e){this.collectionId=t,this.parent=e};function nc(t){t.createObjectStore(Zu.store,{keyPath:Zu.keyPath}).createIndex(Zu.documentTargetsIndex,Zu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($u.store,{keyPath:$u.keyPath}).createIndex($u.queryTargetsIndexName,$u.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(tc.store)}ec.store="collectionParents",ec.keyPath=["collectionId","parent"];var rc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rc.store="clientMetadata",rc.keyPath="clientId";var ic=c(c(c([Hu.store,zu.store,Ku.store,Ju.store,$u.store,Fu.store,tc.store,Zu.store],[rc.store]),[Qu.store]),[ec.store]),oc=(sc.prototype.Fo=function(t,e){var n=this;if(this.$a.has(e))return la.resolve();var r=e.O(),i=e.M();t.er((function(){n.$a.add(e)}));var o={collectionId:r,parent:Xa(i)};return ac(t).put(o)},sc.prototype.wr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ia(e),""],!1,!0);return ac(t).To(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Qa(o.parent))}return n}))},sc);function sc(){this.$a=new ju}function ac(t){return lc.ho(t,ec.store)}var uc,cc=(vc.prototype.Pa=function(t){if(t.document)return this.Ma.Ai(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=Jr.st(t.noDocument.path),n=this.La(t.noDocument.readTime);return new To(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=Jr.st(t.unknownDocument.path),i=this.La(t.unknownDocument.version);return new _o(r,i)}return $s()},vc.prototype.Na=function(t,e){var n=this.Aa(e),r=t.key.path.M().W();if(t instanceof Io){var i=this.Ma.mi(t),o=t.hasCommittedMutations;return new Ju(null,null,i,o,n,r)}if(t instanceof To){var s=t.key.path.W(),a=this.xa(t.version),u=t.hasCommittedMutations;return new Ju(null,new Xu(s,a),null,u,n,r)}if(t instanceof _o){var c=t.key.path.W(),h=this.xa(t.version);return new Ju(new Yu(c,h),null,null,!0,n,r)}return $s()},vc.prototype.Aa=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},vc.prototype.pa=function(t){var e=new Pr(t[0],t[1]);return xr.v(e)},vc.prototype.xa=function(t){var e=t.C();return new Cu(e.seconds,e.nanoseconds)},vc.prototype.La=function(t){var e=new Pr(t.seconds,t.nanoseconds);return xr.v(e)},vc.prototype.Co=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Ma.vi(t)})),i=e.mutations.map((function(t){return n.Ma.vi(t)}));return new zu(t,e.batchId,e.Tn.toMillis(),r,i)},vc.prototype.ko=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Ma.Fi(t)})),r=t.mutations.map((function(t){return e.Ma.Fi(t)})),i=Pr.fromMillis(t.localWriteTimeMs);return new ua(t.batchId,i,n,r)},vc.prototype.ha=function(t){var e,n=this.La(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.La(t.lastLimboFreeSnapshotVersion):xr.min();return e=void 0!==t.query.documents?this.Ma.Oi(t.query):this.Ma.Wi(t.query),new Co(e,t.targetId,0,t.lastListenSequenceNumber,n,r,ei.fromBase64String(t.resumeToken))},vc.prototype.oa=function(t){var e,n=this.xa(t.Ee),r=this.xa(t.lastLimboFreeSnapshotVersion);e=t.target.xt()?this.Ma.xi(t.target):this.Ma.Bi(t.target);var i=t.resumeToken.toBase64();return new $u(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},vc),hc="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",fc=(s(dc,uc=va),dc),lc=(pc.ho=function(t,e){if(t instanceof fc)return Za.ho(t.qo,e);throw $s()},pc.prototype.start=function(){var t=this;return Za.eo(this.Ga,Vu,new Uu(this.serializer)).then((function(e){return t.Ja=e,t.Xa()})).then((function(){return t.Za(),t.tu(),t.eu(),t.Ja.runTransaction("readonly",[tc.store],(function(t){return Au(t)}))})).then((function(e){t.su=new ga(e,t.Ba)})).then((function(){t.qa=!0})).catch((function(e){return t.Ja&&t.Ja.close(),Promise.reject(e)}))},pc.prototype.iu=function(t){var e=this;return this.Ka=function(n){return a(e,void 0,void 0,(function(){return u(this,(function(e){return this.Uh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},pc.prototype.nu=function(t){var e=this;this.Ja.oo((function(n){return a(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},pc.prototype.ru=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Sr.Hr((function(){return a(e,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Uh?[4,this.Xa()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},pc.prototype.Xa=function(){var t=this;return this.Ja.runTransaction("readwrite",ic,(function(e){return mc(e).put(new rc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.hu(e).next((function(e){e||(t.isPrimary=!1,t.Sr.Hr((function(){return t.Ka(!1)})))}))})).next((function(){return t.ou(e)})).next((function(n){return t.isPrimary&&!n?t.au(e).next((function(){return!1})):!!n&&t.uu(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return Ys("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Sr.Hr((function(){return t.Ka(e)})),t.isPrimary=e}))},pc.prototype.hu=function(t){var e=this;return yc(t).get(Fu.key).next((function(t){return la.resolve(e.cu(t))}))},pc.prototype._u=function(t){return mc(t).delete(this.clientId)},pc.prototype.lu=function(){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){switch(e.label){case 0:return!this.isPrimary||this.du(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=pc.ho(e,rc.store);return n.To().next((function(e){var r=t.fu(e,18e5),i=e.filter((function(t){return-1===r.indexOf(t)}));return la.forEach(i,(function(t){return n.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:e.sent().forEach((function(e){t.window.localStorage.removeItem(t.Tu(e.clientId))})),e.label=2;case 2:return[2]}}))}))},pc.prototype.eu=function(){var t=this;this.Wa=this.Sr.Br("client_metadata_refresh",4e3,(function(){return t.Xa().then((function(){return t.lu()})).then((function(){return t.eu()}))}))},pc.prototype.cu=function(t){return!!t&&t.ownerId===this.clientId},pc.prototype.ou=function(t){var e=this;return yc(t).get(Fu.key).next((function(n){if(null!==n&&e.du(n.leaseTimestampMs,5e3)&&!e.Eu(n.ownerId)){if(e.cu(n)&&e.networkEnabled)return!0;if(!e.cu(n)){if(!n.allowTabSynchronization)throw new kr(Sr.FAILED_PRECONDITION,hc);return!1}}return!(!e.networkEnabled||!e.inForeground)||mc(t).To().next((function(t){return void 0===e.fu(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ys("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},pc.prototype.Iu=function(){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wu(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.Ru(),this.mu(),[4,this.Ja.runTransaction("readwrite",[Fu.store,rc.store],(function(e){return t.au(e).next((function(){return t._u(e)}))}))];case 1:return e.sent(),this.Ja.close(),this.Au(),[2]}}))}))},pc.prototype.fu=function(t,e){var n=this;return t.filter((function(t){return n.du(t.updateTimeMs,e)&&!n.Eu(t.clientId)}))},pc.prototype.Pu=function(){var t=this;return this.Ja.runTransaction("readonly",[rc.store],(function(e){return mc(e).To().next((function(e){return t.fu(e,18e5).map((function(t){return t.clientId}))}))}))},pc.clearPersistence=function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return pc.so()?(e=t+pc.za,[4,Za.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(pc.prototype,"Uh",{get:function(){return this.qa},enumerable:!0,configurable:!0}),pc.prototype.Vu=function(t){return lu.Vo(t,this.serializer,this.rr,this.Ao)},pc.prototype.gu=function(){return this.Ha},pc.prototype.pu=function(){return this.ir},pc.prototype.yu=function(){return this.rr},pc.prototype.runTransaction=function(t,e,n){var r=this;Ys("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Ja.runTransaction(o,ic,(function(o){return i=new fc(o,r.su.next()),"readwrite-primary"===e?r.hu(o).next((function(t){return!!t||r.ou(o)})).next((function(e){if(!e)throw Js("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Sr.Hr((function(){return r.Ka(!1)})),new kr(Sr.FAILED_PRECONDITION,da);return n(i)})).next((function(t){return r.uu(o).next((function(){return t}))})):r.bu(o).next((function(){return n(i)}))})).then((function(t){return i.sr(),t}))},pc.prototype.bu=function(t){var e=this;return yc(t).get(Fu.key).next((function(t){if(null!==t&&e.du(t.leaseTimestampMs,5e3)&&!e.Eu(t.ownerId)&&!e.cu(t)&&!t.allowTabSynchronization)throw new kr(Sr.FAILED_PRECONDITION,hc)}))},pc.prototype.uu=function(t){var e=new Fu(this.clientId,this.allowTabSynchronization,Date.now());return yc(t).put(Fu.key,e)},pc.so=function(){return Za.so()},pc.vu=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},pc.prototype.au=function(t){var e=this,n=yc(t);return n.get(Fu.key).next((function(t){return e.cu(t)?(Ys("IndexedDbPersistence","Releasing primary lease."),n.delete(Fu.key)):la.resolve()}))},pc.prototype.du=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Js("Detected an update time that is in the future: "+t+" > "+n),1))},pc.prototype.Za=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t.Sr.Hr((function(){return t.inForeground="visible"===t.document.visibilityState,t.Xa()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},pc.prototype.Ru=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},pc.prototype.tu=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Ua=function(){t.wu(),t.Sr.Hr((function(){return t.Iu()}))},this.window.addEventListener("unload",this.Ua))},pc.prototype.mu=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},pc.prototype.Eu=function(t){try{var e=null!==this.Ya.getItem(this.Tu(t));return Ys("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Js("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},pc.prototype.wu=function(){try{this.Ya.setItem(this.Tu(this.clientId),String(Date.now()))}catch(t){Js("Failed to set zombie client id.",t)}},pc.prototype.Au=function(){try{this.Ya.removeItem(this.Tu(this.clientId))}catch(t){}},pc.prototype.Tu=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},pc);function pc(t,e,n,r,i,o,s,a){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Sr=o,this.Ba=a,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!pc.so())throw new kr(Sr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.Ao=new gc(this,i),this.Ga=e+pc.za,this.serializer=new cc(s),this.document=r.document,this.Ha=new wu(this.Ao,this.serializer),this.rr=new oc,this.ir=new ku(this.serializer,this.rr),!r.window||!r.window.localStorage)throw new kr(Sr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.Ya=this.window.localStorage}function dc(t,e){var n=this;return(n=uc.call(this)||this).qo=t,n.Oa=e,n}function vc(t){this.Ma=t}function yc(t){return t.store(Fu.store)}function mc(t){return t.store(rc.store)}lc.za="main";var gc=(bc.prototype.Kh=function(t){var e=this.Du(t);return this.db.gu().aa(t).next((function(t){return e.next((function(e){return t+e}))}))},bc.prototype.Du=function(t){var e=0;return this.zh(t,(function(t){e++})).next((function(){return e}))},bc.prototype.js=function(t,e){return this.db.gu().js(t,e)},bc.prototype.zh=function(t,e){return this.Cu(t,(function(t,n){return e(n)}))},bc.prototype.Fu=function(t){this.Su=t},bc.prototype.gn=function(t,e){return wc(t,e)},bc.prototype.yn=function(t,e){return wc(t,e)},bc.prototype.Hh=function(t,e,n){return this.db.gu().Hh(t,e,n)},bc.prototype.Qo=function(t,e){return wc(t,e)},bc.prototype.Nu=function(t,e){return this.Su.Fn(e)?la.resolve(!0):(r=e,i=!1,gu(n=t).mo((function(t){return du(n,t,r).next((function(t){return t&&(i=!0),la.resolve(!t)}))})).next((function(){return i})));var n,r,i},bc.prototype.Yh=function(t,e){var n=this,r=this.db.pu().ba(),i=[],o=0;return this.Cu(t,(function(s,a){if(a<=e){var u=n.Nu(t,s).next((function(e){if(!e)return o++,r.Yn(t,s).next((function(){return r.Hn(s),Nu(t).delete([0,Xa(s.path)])}))}));i.push(u)}})).next((function(){return la.Un(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},bc.prototype.removeTarget=function(t,e){var n=e.Ie(t.Oa);return this.db.gu().ia(t,n)},bc.prototype.ku=function(t,e){return wc(t,e)},bc.prototype.Cu=function(t,e){var n,r=Nu(t),i=ga.vr;return r.Ro({index:Zu.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==ga.vr&&e(new Jr(Qa(n)),i),i=a,n=s):i=ga.vr})).next((function(){i!==ga.vr&&e(new Jr(Qa(n)),i)}))},bc.prototype.Xh=function(t){return this.db.pu().Da(t)},bc);function bc(t,e){this.db=t,this.Su=null,this.Lh=new za(this,e)}function wc(t,e){return Nu(t).put((n=e,r=t.Oa,new Zu(0,Xa(n.path),r)));var n,r}var Ec=(Ic.prototype.start=function(){return Promise.resolve()},Ic.prototype.Qu=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return e=this.nr,n=this.qu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.nr.xo(r).next((function(s){return o=s,e=i.persistence.Vu(t),n=new ya(i.Bu,e,i.persistence.yu()),e.xo(r)})).next((function(t){for(var e=[],i=[],s=ms(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];s=s.add(g.key)}}return n.cr(r,s).next((function(t){return{Wu:t,ju:e,Ku:i}}))}))}))];case 1:return r=o.sent(),[2,(this.nr=e,this.qu=n,this.$u.Uu(this.qu),r)]}}))}))},Ic.prototype.Gu=function(t){var e,n=this,r=Pr.now(),i=t.reduce((function(t,e){return t.add(e.key)}),ms());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.qu.cr(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.Pt(e.get(c.key));null!=h&&s.push(new Hi(c.key,h,ao(h.proto.mapValue),qi.exists(!0)))}return n.nr.Do(o,r,s,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Wn:n}}))},Ic.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Bu.ba({Sa:!0});return e.nr.yo(n,t.batch,t.streamToken).next((function(){return e.zu(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.nr.Wo(n)})).next((function(){return e.qu.cr(n,r)}))}))},Ic.prototype.Hu=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.nr.No(n,t).next((function(t){return Zs(null!==t),r=t.keys(),e.nr.Bo(n,t)})).next((function(){return e.nr.Wo(n)})).next((function(){return e.qu.cr(n,r)}))}))},Ic.prototype.Lo=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.nr.Lo(e)}))},Ic.prototype.vo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.nr.vo(e)}))},Ic.prototype.So=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.nr.So(n,t)}))},Ic.prototype.Jo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ha.Jo(e)}))},Ic.prototype.Yu=function(t){var e=this,n=t.Ee,r=this.Lu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=e.Bu.ba({Sa:!0});r=e.Lu;var s=[];t.as.forEach((function(t,o){var a=r.get(o);if(a){s.push(e.Ha._a(i,t.Is,o).next((function(){return e.Ha.ca(i,t.Ts,o)})));var u=t.resumeToken;if(0<u.rt()){var c=a.we(u,n).Ie(i.Oa);r=r.me(o,c),Ic.Ju(a,c,t)&&s.push(e.Ha.ia(i,c))}}}));var a=hs(),u=ms();if(t.cs.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(i,u).next((function(r){t.cs.forEach((function(u,c){var h=r.get(u);c instanceof To&&c.version.isEqual(xr.min())?(o.Hn(u,n),a=a.me(u,c)):null==h||0<c.version.S(h.version)||0===c.version.S(h.version)&&h.hasPendingWrites?(o.Gn(c,n),a=a.me(u,c)):Ys("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version),t._s.has(u)&&s.push(e.persistence.Ao.ku(i,u))}))}))),!n.isEqual(xr.min())){var c=e.Ha.Jo(i).next((function(t){return e.Ha.Zo(i,i.Oa,n)}));s.push(c)}return la.Un(s).next((function(){return o.apply(i)})).next((function(){return e.qu._r(i,a)}))})).then((function(t){return e.Lu=r,t}))},Ic.Ju=function(t,e,n){return Zs(0<e.resumeToken.rt()),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.Xu||0<n.Ts.size+n.Es.size+n.Is.size},Ic.prototype.Zu=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Mu.pn(i.Ar,o),this.Mu.vn(i.Pr,o),!i.fromCache){var s=this.Lu.get(o),a=s.Ee,u=s.Re(a);this.Lu=this.Lu.me(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return la.forEach(t,(function(t){return la.forEach(t.Pr,(function(t){return e.persistence.Ao.yn(n,t)}))}))}))},Ic.prototype.tc=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.nr.Mo(n,t)}))},Ic.prototype.ec=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.qu.hr(n,t)}))},Ic.prototype.sc=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Ha.ua(n,t).next((function(i){return i?(r=i,la.resolve(r)):e.Ha.zo(n).next((function(i){return r=new Co(t,i,0,n.Oa),e.Ha.ta(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Lu.get(n.targetId)&&(e.Lu=e.Lu.me(n.targetId,n),e.xu.set(t,n.targetId)),n}))},Ic.prototype.ua=function(t,e){var n=this.xu.get(e);return void 0!==n?la.resolve(this.Lu.get(n)):this.Ha.ua(t,e)},Ic.prototype.ic=function(t,e){var n=this,r=this.Lu.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(i){var o=n.Mu.Sn(t);return e?la.resolve():la.forEach(o,(function(t){return n.persistence.Ao.yn(i,t)})).next((function(){n.persistence.Ao.removeTarget(i,r)}))})).then((function(){n.Lu=n.Lu.remove(t),n.xu.delete(r.target)}))},Ic.prototype.nc=function(t,e){var n=this,r=xr.min(),i=ms();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.ua(o,t.ee()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Ha.la(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.$u.dr(o,t,e?r:xr.min(),e?i:ms())})).next((function(t){return{documents:t,rc:i}}))}))},Ic.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Ha.la(n,t)}))},Ic.prototype.zu=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=la.resolve();return o.forEach((function(r){s=s.next((function(){return n.Yn(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);Zs(null!==s),(!o||o.version.S(s)<0)&&(o=i.at(r,o,e))&&n.Gn(o,e.wn)}))})),s.next((function(){return r.nr.Bo(t,i)}))},Ic.prototype.Qh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Jh(n,e.Lu)}))},Ic);function Ic(t,e,n){this.persistence=t,this.$u=e,this.Mu=new ha,this.Lu=new $o(na),this.xu=new aa((function(t){return t.canonicalId()})),this.Ou=xr.min(),this.persistence.Ao.Fu(this.Mu),this.nr=t.Vu(n),this.Bu=t.pu(),this.Ha=t.gu(),this.qu=new ya(this.Bu,this.nr,this.persistence.yu()),this.$u.Uu(this.qu)}Ec.Xu=3e8;var Tc,_c=(s(Ac,Tc=Ec),Ac.prototype.start=function(){return this.oc()},Ac.prototype.ac=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.nr.$o(n,t).next((function(t){return t?e.qu.cr(n,t):la.resolve(null)}))}))},Ac.prototype.uc=function(t){this.nr.Uo(t)},Ac.prototype.ru=function(t){this.persistence.ru(t)},Ac.prototype.Pu=function(){return this.persistence.Pu()},Ac.prototype.cc=function(t){var e=this,n=this.Lu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Ha.si(n,t).next((function(t){return t?t.target:null}))}))},Ac.prototype.Va=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Bu.Va(e,t.Ou)})).then((function(e){var n=e.ga,r=e.readTime;return t.Ou=r,n}))},Ac.prototype.oc=function(){return a(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:return[4,(t=this).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Bu.ya(t)}))];case 1:return t.Ou=n.sent(),[2]}}))}))},Ac);function Ac(t,e,n){var r=this;return(r=Tc.call(this,t,e,n)||this).persistence=t,r.nr=t.Vu(n),r.Bu=t.pu(),r.Ha=t.gu(),r}function Nc(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){if(t.code!==Sr.FAILED_PRECONDITION||t.message!==da)throw t;return Ys("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Sc(t,e){if(0!==e.length)throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Hc(e.length,"argument")+".")}function kc(t,e,n){if(e.length!==n)throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires "+Hc(n,"argument")+", but was called with "+Hc(e.length,"argument")+".")}function Oc(t,e,n){if(e.length<n)throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Hc(n,"argument")+", but was called with "+Hc(e.length,"argument")+".")}function Dc(t,e,n,r){if(e.length<n||e.length>r)throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Hc(e.length,"argument")+".")}function Rc(t,e,n,r){Mc(t,e,Gc(n)+" argument",r)}function Lc(t,e,n,r){void 0!==r&&Rc(t,e,n,r)}function Pc(t,e,n,r){Mc(t,e,n+" option",r)}function xc(t,e,n,r){void 0!==r&&Pc(t,e,n,r)}function Cc(t,e,n,r,i){void 0!==r&&function(t,e,n){for(var r=[],o=0,s=i;o<s.length;o++){var a=s[o];if(a===n)return;r.push(Vc(a))}var u=Vc(n);throw new kr(Sr.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+e+'". Acceptable values: '+r.join(", "))}(t,n,r)}function Mc(t,e,n,r){if(!("object"===e?jc(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Vc(r);throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function jc(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Vc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":$s();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function Uc(t,e,n){if(void 0===n)throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Gc(e)+" argument, but it was undefined.")}function Fc(t,e,n){Zr(e,(function(e,r){if(n.indexOf(e)<0)throw new kr(Sr.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function qc(t,e,n,r){var i=Vc(r);return new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires its "+Gc(n)+" argument to be a "+e+", but it was: "+i)}function Bc(t,e,n){if(n<=0)throw new kr(Sr.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+Gc(e)+" argument to be a positive number, but it was: "+n+".")}function Gc(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Hc(t,e){return t+" "+e+(1===t?"":"s")}function zc(){if("undefined"==typeof Uint8Array)throw new kr(Sr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Kc(){if(!Hs.nt()._c)throw new kr(Sr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Wc=(Jc.fromBase64String=function(t){kc("Blob.fromBase64String",arguments,1),Rc("Blob.fromBase64String","string",1,t),Kc();try{return new Jc(ei.fromBase64String(t))}catch(t){throw new kr(Sr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Jc.fromUint8Array=function(t){if(kc("Blob.fromUint8Array",arguments,1),zc(),!(t instanceof Uint8Array))throw qc("Blob.fromUint8Array","Uint8Array",1,t);return new Jc(ei.fromUint8Array(t))},Jc.prototype.toBase64=function(){return kc("Blob.toBase64",arguments,0),Kc(),this.lc.toBase64()},Jc.prototype.toUint8Array=function(){return kc("Blob.toUint8Array",arguments,0),zc(),this.lc.toUint8Array()},Jc.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Jc.prototype.isEqual=function(t){return this.lc.isEqual(t.lc)},Jc),Xc=(Yc.documentId=function(){return Yc.fc},Yc.prototype.isEqual=function(t){if(!(t instanceof Yc))throw qc("isEqual","FieldPath",1,t);return this.dc.isEqual(t.dc)},Yc);function Yc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(){if(!(t instanceof Array)||t.length<1)throw new kr(Sr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")}();for(var n=0;n<t.length;++n)if(Rc("FieldPath","string",n,t[n]),0===t[n].length)throw new kr(Sr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.dc=new Xr(t)}function Jc(t){Kc(),this.lc=t}Xc.fc=new Xc(Xr.J().j());var Qc,$c,Zc,th,eh,nh=new RegExp("[~\\*/\\[\\]]"),rh=function(t){this.Tc=t},ih=(s(wh,eh=rh),wh.prototype.Di=function(t){if(2!==t.Ec)throw 1===t.Ec?t.Ic("FieldValue.delete() can only appear at the top level of your update data"):t.Ic("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},wh.prototype.isEqual=function(t){return t instanceof wh},wh),oh=(s(bh,th=rh),bh.prototype.Di=function(t){return new Fi(t.path,_i.instance)},bh.prototype.isEqual=function(t){return t instanceof bh},bh),sh=(s(gh,Zc=rh),gh.prototype.Di=function(t){var e=t.Rc({Ec:3,methodName:this.Tc}),n=this.wc.map((function(t,n){return Nh(t,e.mc(n))})),r=new Ni(n);return new Fi(t.path,r)},gh.prototype.isEqual=function(t){return this===t},gh),ah=(s(mh,$c=rh),mh.prototype.Di=function(t){var e=t.Rc({Ec:3,methodName:this.Tc}),n=this.wc.map((function(t,n){return Nh(t,e.mc(n))})),r=new Si(n);return new Fi(t.path,r)},mh.prototype.isEqual=function(t){return this===t},mh),uh=(s(yh,Qc=rh),yh.prototype.Di=function(t){t.Rc({methodName:this.Tc});var e=Nh(this.Ac,t),n=new ki(t.serializer,e);return new Fi(t.path,n)},yh.prototype.isEqual=function(t){return this===t},yh),ch=(Object.defineProperty(vh.prototype,"latitude",{get:function(){return this.Pc},enumerable:!0,configurable:!0}),Object.defineProperty(vh.prototype,"longitude",{get:function(){return this.Vc},enumerable:!0,configurable:!0}),vh.prototype.isEqual=function(t){return this.Pc===t.Pc&&this.Vc===t.Vc},vh.prototype.p=function(t){return na(this.Pc,t.Pc)||na(this.Vc,t.Vc)},vh),hh=/^__.*__$/,fh=(dh.prototype.gc=function(t,e){var n=[];return null!==this.Vt?n.push(new Hi(t,this.data,this.Vt,e)):n.push(new Gi(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new zi(t,this.fieldTransforms)),n},dh),lh=(ph.prototype.gc=function(t,e){var n=[new Hi(t,this.data,this.Vt,e)];return 0<this.fieldTransforms.length&&n.push(new zi(t,this.fieldTransforms)),n},ph);function ph(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}function dh(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}function vh(t,e){if(kc("GeoPoint",arguments,2),Rc("GeoPoint","number",1,t),Rc("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new kr(Sr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new kr(Sr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Pc=t,this.Vc=e}function yh(t){var e=this;return(e=Qc.call(this,"FieldValue.increment")||this).Ac=t,e}function mh(t){var e=this;return(e=$c.call(this,"FieldValue.arrayRemove")||this).wc=t,e}function gh(t){var e=this;return(e=Zc.call(this,"FieldValue.arrayUnion")||this).wc=t,e}function bh(){return th.call(this,"FieldValue.serverTimestamp")||this}function wh(){return eh.call(this,"FieldValue.delete")||this}function Eh(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw $s()}}var Ih=(Object.defineProperty(Ah.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(Ah.prototype,"Ec",{get:function(){return this.settings.Ec},enumerable:!0,configurable:!0}),Ah.prototype.Rc=function(t){return new Ah(Object.assign(Object.assign({},this.settings),t),this.ii,this.serializer,this.fieldTransforms,this.Vt)},Ah.prototype.yc=function(t){var e=null==this.path?null:this.path.child(t),n=this.Rc({path:e,bc:!1});return n.vc(t),n},Ah.prototype.Sc=function(t){var e=null==this.path?null:this.path.child(t),n=this.Rc({path:e,bc:!1});return n.pc(),n},Ah.prototype.mc=function(t){return this.Rc({path:null,bc:!0})},Ah.prototype.Ic=function(t){var e=null===this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new kr(Sr.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},Ah.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},Ah.prototype.pc=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.vc(this.path.get(t))},Ah.prototype.vc=function(t){if(0===t.length)throw this.Ic("Document fields must not be empty");if(Eh(this.Ec)&&hh.test(t))throw this.Ic('Document fields cannot begin and end with "__"')},Ah),Th=(_h.prototype.Cc=function(t,e){var n=this.Fc(0,t);Oh("Data must be an object, but it was:",n,e);var r=Sh(e,n);return new fh(new Xi(r),null,n.fieldTransforms)},_h.prototype.Nc=function(t,e,n){var r=this.Fc(2,t);Oh("Data must be an object, but it was:",r,e);var i,o,s=Sh(e,r);if(n){for(var a=[],u=0,c=n;u<c.length;u++){var h=c[u],f=void 0;if(h instanceof Xc)f=h.dc;else{if("string"!=typeof h)throw $s();f=Rh(t,h)}if(!r.contains(f))throw new kr(Sr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Lh(a,f)||a.push(f)}i=new Ui(a),o=r.fieldTransforms.filter((function(t){return i.dt(t.field)}))}else i=new Ui(r.Vt),o=r.fieldTransforms;return new fh(new Xi(s),i,o)},_h.prototype.kc=function(t,e){var n=this.Fc(1,t);Oh("Data must be an object, but it was:",n,e);var r=[],i=new Yi;Zr(e,(function(e,o){var s=Rh(t,e),a=n.Sc(s);if(o instanceof ih)r.push(s);else{var u=Nh(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new Ui(r);return new lh(i.yt(),o,n.fieldTransforms)},_h.prototype.$c=function(t,e,n,r){var i=this.Fc(1,t),o=[Dh(t,e)],s=[n];if(r.length%2!=0)throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Dh(t,r[a])),s.push(r[a+1]);for(var u=[],c=new Yi,h=o.length-1;0<=h;--h)if(!Lh(u,o[h])){var f=o[h],l=s[h],p=i.Sc(f);if(l instanceof ih)u.push(f);else{var d=Nh(l,p);null!=d&&(u.push(f),c.set(f,d))}}var v=new Ui(u);return new lh(c.yt(),v,i.fieldTransforms)},_h.prototype.Fc=function(t,e){return new Ih({Ec:t,methodName:e,path:Xr.G,bc:!1},this.ii,this.serializer)},_h.prototype.Mc=function(t,e,n){return void 0===n&&(n=!1),Nh(e,this.Fc(n?4:3,t))},_h);function _h(t,e){this.ii=t,this.serializer=e||Hs.nt().Dc(t)}function Ah(t,e,n,r,i){this.settings=t,this.ii=e,this.serializer=n,void 0===r&&this.pc(),this.fieldTransforms=r||[],this.Vt=i||[]}function Nh(t,e){if(kh(t))return Oh("Unsupported field value:",e,t),Sh(t,e);if(t instanceof rh)return function(t,e){if(!Eh(e.Ec))throw e.Ic(t.Tc+"() can only be used with update() and set()");if(null===e.path)throw e.Ic(t.Tc+"() is not currently supported inside arrays");var n=t.Di(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.bc&&4!==e.Ec)throw e.Ic("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Nh(o[i],e.mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pr.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof Pr){var r=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof ch)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wc)return{bytesValue:e.serializer.ui(t)};if(t instanceof pl){var i=e.ii,o=t.firestore.Lc;if(!o.isEqual(i))throw e.Ic("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.xc.path,t.firestore.Lc)}}throw e.Ic("Unsupported field value: "+Vc(t))}(t,e)}function Sh(t,e){var n={};return ti(t)?e.path&&0<e.path.length&&e.Vt.push(e.path):Zr(t,(function(t,r){var i=Nh(r,e.yc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function kh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pr||t instanceof ch||t instanceof Wc||t instanceof pl||t instanceof rh)}function Oh(t,e,n){if(!kh(n)||!jc(n)){var r=Vc(n);throw"an object"===r?e.Ic(t+" a custom object"):e.Ic(t+" "+r)}}function Dh(t,e){if(e instanceof Xc)return e.dc;if("string"==typeof e)return Rh(t,e);throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Rh(t,e){try{return function(t){if(0<=t.search(nh))throw new kr(Sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Xc.bind.apply(Xc,c([void 0],t.split("."))))}catch(e){throw new kr(Sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).dc}catch(e){var n=e instanceof Error?e.message:e.toString();throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Lh(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ph,xh,Ch,Mh=(Yh.prototype.Wc=function(){return 1===this.state||2===this.state||4===this.state},Yh.prototype.jc=function(){return 2===this.state},Yh.prototype.start=function(){3!==this.state?this.auth():this.Kc()},Yh.prototype.stop=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Wc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Yh.prototype.Gc=function(){this.state=0,this.ih.reset()},Yh.prototype.zc=function(){var t=this;this.jc()&&null===this.Qc&&(this.Qc=this.Sr.Br(this.Oc,6e4,(function(){return t.Hc()})))},Yh.prototype.Yc=function(t){this.Jc(),this.stream.send(t)},Yh.prototype.Hc=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){return this.jc()?[2,this.close(0)]:[2]}))}))},Yh.prototype.Jc=function(){this.Qc&&(this.Qc.cancel(),this.Qc=null)},Yh.prototype.close=function(t,e){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return this.Jc(),this.ih.cancel(),this.Uc++,3!==t?this.ih.reset():e&&e.code===Sr.RESOURCE_EXHAUSTED?(Js(e.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.ih.Lr()):e&&e.code===Sr.UNAUTHENTICATED&&this.qc._(),null!==this.stream&&(this.Xc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Zc(e)];case 1:return n.sent(),[2]}}))}))},Yh.prototype.Xc=function(){},Yh.prototype.auth=function(){var t=this;this.state=1;var e=this.t_(this.Uc),n=this.Uc;this.qc.getToken().then((function(e){t.Uc===n&&t.e_(e)}),(function(n){e((function(){var e=new kr(Sr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.s_(e)}))}))},Yh.prototype.e_=function(t){var e=this,n=this.t_(this.Uc);this.stream=this.i_(t),this.stream.n_((function(){n((function(){return e.state=2,e.listener.n_()}))})),this.stream.Zc((function(t){n((function(){return e.s_(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},Yh.prototype.Kc=function(){var t=this;this.state=4,this.ih.xr((function(){return a(t,void 0,void 0,(function(){return u(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},Yh.prototype.s_=function(t){return Ys("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Yh.prototype.t_=function(t){var e=this;return function(n){e.Sr.Hr((function(){return e.Uc===t?n():(Ys("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Yh),jh=(s(Xh,Ch=Mh),Xh.prototype.i_=function(t){return this.Bc.r_("Listen",t)},Xh.prototype.onMessage=function(t){this.ih.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.h_(e,n)},Xh.prototype.o_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Yc(e)},Xh.prototype.a_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.Yc(e)},Xh),Vh=(s(Wh,xh=Mh),Object.defineProperty(Wh.prototype,"c_",{get:function(){return this.u_},enumerable:!0,configurable:!0}),Wh.prototype.start=function(){this.u_=!1,xh.prototype.start.call(this)},Wh.prototype.Xc=function(){this.u_&&this.__([])},Wh.prototype.i_=function(t){return this.Bc.r_("Write",t)},Wh.prototype.onMessage=function(t){if(Zs(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.u_){this.ih.reset();var e=this.serializer.Li(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.l_(n,e)}return Zs(!t.writeResults||0===t.writeResults.length),this.u_=!0,this.listener.d_()},Wh.prototype.f_=function(){var t={};t.database=this.serializer.wi,this.Yc(t)},Wh.prototype.__=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Yc(n)},Wh),Uh=(s(Kh,Ph=function(){this.T_=void 0}),Kh.prototype.E_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Bc.E_(t,e,r)})).catch((function(t){throw t.code===Sr.UNAUTHENTICATED&&n.credentials._(),t}))},Kh.prototype.I_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Bc.I_(t,e,r)})).catch((function(t){throw t.code===Sr.UNAUTHENTICATED&&n.credentials._(),t}))},Kh),Fh=(zh.prototype.V_=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:if(this.g_(),0<this.mutations.length)throw new kr(Sr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,s;return u(this,(function(a){switch(a.label){case 0:return r={database:(n=t).serializer.wi,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.I_("BatchGetDocuments",r)];case 1:return i=a.sent(),o=new Map,i.forEach((function(t){var e=n.serializer.gi(t);o.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Zs(!!e),s.push(e)})),s)]}}))}))}(this.w_,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof To||t instanceof Io?n.p_(t):$s()})),e)]}}))}))},zh.prototype.set=function(t,e){this.write(e.gc(t,this.Rt(t))),this.P_.add(t)},zh.prototype.update=function(t,e){try{this.write(e.gc(t,this.y_(t)))}catch(t){this.A_=t}this.P_.add(t)},zh.prototype.delete=function(t){this.write([new Ki(t,this.Rt(t))]),this.P_.add(t)},zh.prototype.commit=function(){return a(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:if(this.g_(),this.A_)throw this.A_;return t=this.R_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new Wi(t,e.Rt(t)))})),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return r={database:(n=t).serializer.wi,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.E_("Commit",r)];case 1:return i=o.sent(),[2,n.serializer.Li(i.writeResults,i.commitTime)]}}))}))}(this.w_,this.mutations)];case 1:return n.sent(),this.m_=!0,[2]}}))}))},zh.prototype.p_=function(t){var e;if(t instanceof Io)e=t.version;else{if(!(t instanceof To))throw $s();e=xr.min()}var n=this.R_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new kr(Sr.ABORTED,"Document version changed between two reads.")}else this.R_=this.R_.me(t.key,e)},zh.prototype.Rt=function(t){var e=this.R_.get(t);return!this.P_.has(t)&&e?qi.updateTime(e):qi.ft()},zh.prototype.y_=function(t){var e=this.R_.get(t);if(this.P_.has(t)||!e)return qi.exists(!0);if(e.isEqual(xr.min()))throw new kr(Sr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qi.updateTime(e)},zh.prototype.write=function(t){this.g_(),this.mutations=this.mutations.concat(t)},zh.prototype.g_=function(){},zh),qh=(Hh.prototype.C_=function(){var t=this;0===this.v_&&(this.F_("Unknown"),this.S_=this.qr.Br("online_state_timeout",1e4,(function(){return t.S_=null,t.N_("Backend didn't respond within 10 seconds."),t.F_("Offline"),Promise.resolve()})))},Hh.prototype.k_=function(t){"Online"===this.state?this.F_("Unknown"):(this.v_++,1<=this.v_&&(this.M_(),this.N_("Connection failed 1 times. Most recent error: "+t.toString()),this.F_("Offline")))},Hh.prototype.set=function(t){this.M_(),this.v_=0,"Online"===t&&(this.D_=!1),this.F_(t)},Hh.prototype.F_=function(t){t!==this.state&&(this.state=t,this.b_(t))},Hh.prototype.N_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.D_?(Js(e),this.D_=!1):Ys("OnlineStateTracker",e)},Hh.prototype.M_=function(){null!==this.S_&&(this.S_.cancel(),this.S_=null)},Hh),Bh=(Gh.prototype.start=function(){return this.enableNetwork()},Gh.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.el()},Gh.prototype.el=function(){return a(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return this.W_()?(t=this.J_,[4,this.L_.vo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.sl()?this.il():this.K_.set("Unknown"),[4,this.nl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},Gh.prototype.disableNetwork=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.K_.set("Offline"),[2]}}))}))},Gh.prototype.rl=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.J_.stop()];case 1:return t.sent(),[4,this.G_.stop()];case 2:return t.sent(),0<this.x_.length&&(Ys("RemoteStore","Stopping write stream with "+this.x_.length+" pending writes"),this.x_=[]),this.hl(),[2]}}))}))},Gh.prototype.Iu=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Ys("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.U_.Iu(),this.K_.set("Unknown"),[2]}}))}))},Gh.prototype.listen=function(t){this.O_.has(t.targetId)||(this.O_.set(t.targetId,t),this.sl()?this.il():this.G_.jc()&&this.ol(t))},Gh.prototype.al=function(t){this.O_.delete(t),this.G_.jc()&&this.ul(t),0===this.O_.size&&(this.G_.jc()?this.G_.zc():this.W_()&&this.K_.set("Unknown"))},Gh.prototype.si=function(t){return this.O_.get(t)||null},Gh.prototype.ei=function(t){return this.cl.ei(t)},Gh.prototype.ol=function(t){this.B_.Ns(t.targetId),this.G_.o_(t)},Gh.prototype.ul=function(t){this.B_.Ns(t),this.G_.a_(t)},Gh.prototype.il=function(){this.B_=new Os(this),this.G_.start(),this.K_.C_()},Gh.prototype.sl=function(){return this.W_()&&!this.G_.Wc()&&0<this.O_.size},Gh.prototype.W_=function(){return!this.q_&&this.isPrimary&&this.networkEnabled},Gh.prototype.hl=function(){this.B_=null},Gh.prototype.z_=function(){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){return this.O_.forEach((function(e,n){t.ol(e)})),[2]}))}))},Gh.prototype.H_=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){return this.hl(),this.sl()?(this.K_.k_(t),this.il()):this.K_.set("Unknown"),[2]}))}))},Gh.prototype.Y_=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:if(this.K_.set("Online"),!(t instanceof Is&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this._l(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),Ys("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.ll(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ws?this.B_.qs(t):t instanceof Es?this.B_.Hs(t):this.B_.Ws(t),e.isEqual(xr.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.L_.Jo()];case 8:return r=o.sent(),0<=e.S(r)?[4,this.dl(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ys("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,this.ll(i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},Gh.prototype.ll=function(t){return a(this,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:if("IndexedDbTransactionError"!==t.name)throw t;return this.q_=!0,[4,this.rl()];case 1:return n.sent(),this.K_.set("Offline"),this.qr.dh((function(){return a(e,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Ys("RemoteStore","Retrying IndexedDB access"),[4,this.L_.Jo()];case 1:return t.sent(),this.q_=!1,[4,this.el()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},Gh.prototype.dl=function(t){var e=this,n=this.B_.Xs(t);return n.as.forEach((function(n,r){if(0<n.resumeToken.rt()){var i=e.O_.get(r);i&&e.O_.set(r,i.we(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.O_.get(t);if(n){e.O_.set(t,n.we(ei.ht,n.Ee)),e.ul(t);var r=new Co(n.target,t,1,n.sequenceNumber);e.ol(r)}})),this.cl.Yu(n)},Gh.prototype._l=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.O_.has(i)?[4,this.cl.fl(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.O_.delete(i),this.B_.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},Gh.prototype.nl=function(){return a(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return this.Tl()?(t=0<this.x_.length?this.x_[this.x_.length-1].batchId:-1,[4,this.L_.tc(t)]):[3,5];case 1:return null!==(e=n.sent())?[3,2]:(0===this.x_.length&&this.J_.zc(),[3,4]);case 2:return this.El(e),[4,this.nl()];case 3:n.sent(),n.label=4;case 4:n.label=5;case 5:return this.Il()&&this.wl(),[2]}}))}))},Gh.prototype.Tl=function(){return this.W_()&&this.x_.length<10},Gh.prototype.Rl=function(){return this.x_.length},Gh.prototype.El=function(t){this.x_.push(t),this.J_.jc()&&this.J_.c_&&this.J_.__(t.mutations)},Gh.prototype.Il=function(){return this.W_()&&!this.J_.Wc()&&0<this.x_.length},Gh.prototype.wl=function(){this.J_.start()},Gh.prototype.X_=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){return this.J_.f_(),[2]}))}))},Gh.prototype.tl=function(){var t=this;return this.L_.So(this.J_.lastStreamToken).then((function(){for(var e=0,n=t.x_;e<n.length;e++){var r=n[e];t.J_.__(r.mutations)}})).catch(Nc)},Gh.prototype.l_=function(t,e){var n=this,r=this.x_.shift(),i=ca.from(r,t,e,this.J_.lastStreamToken);return this.cl.ml(i).then((function(){return n.nl()}))},Gh.prototype.Z_=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t&&0<this.x_.length?this.J_.c_?[4,this.Al(t)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.Pl(t)];case 3:e.sent(),e.label=4;case 4:this.Il()&&this.wl(),e.label=5;case 5:return[2]}}))}))},Gh.prototype.Pl=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){return Jo(t.code)?[2,(Ys("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.J_.lastStreamToken),this.J_.lastStreamToken=ei.ht,this.L_.So(ei.ht).catch(Nc))]:[2]}))}))},Gh.prototype.Al=function(t){return a(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){return Jo(n=t.code)&&n!==Sr.ABORTED?(e=this.x_.shift(),[2,(this.J_.Gc(),this.cl.Vl(e.batchId,t).then((function(){return r.nl()})))]):[2]}))}))},Gh.prototype.gl=function(){return new Fh(this.w_)},Gh.prototype.j_=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.K_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},Gh.prototype.pl=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.W_()?(Ys("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.j_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Gh.prototype.yl=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return(this.isPrimary=t)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.rl()];case 3:e.sent(),this.K_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},Gh);function Gh(t,e,n,r,i){var o,s,c,h,f,l,p,d,v=this;this.L_=t,this.w_=e,this.qr=n,this.x_=[],this.O_=new Map,this.B_=null,this.networkEnabled=!1,this.isPrimary=!1,this.q_=!1,this.U_=i,this.U_.Q_((function(t){n.Hr((function(){return a(v,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.W_()?(Ys("RemoteStore","Restarting streams for network reachability change."),[4,this.j_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.K_=new qh(n,r),this.G_=(f=this.w_,l=n,p={n_:this.z_.bind(this),Zc:this.H_.bind(this),h_:this.Y_.bind(this)},new jh(l,(d=f).Bc,d.credentials,d.serializer,p)),this.J_=(o=this.w_,s=n,c={n_:this.X_.bind(this),Zc:this.Z_.bind(this),d_:this.tl.bind(this),l_:this.l_.bind(this)},new Vh(s,(h=o).Bc,h.credentials,h.serializer,c))}function Hh(t,e){this.qr=t,this.b_=e,this.state="Unknown",this.v_=0,this.S_=null,this.D_=!0}function zh(t){this.w_=t,this.R_=vs(),this.mutations=[],this.m_=!1,this.A_=null,this.P_=new Set}function Kh(t,e,n){var r=this;return(r=Ph.call(this)||this).Bc=t,r.credentials=e,r.serializer=n,r}function Wh(t,e,n,r,i){var o=this;return(o=xh.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.u_=!1,o.lastStreamToken=ei.ht,o}function Xh(t,e,n,r,i){var o=this;return(o=Ch.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function Yh(t,e,n,r,i,o){this.Sr=t,this.Oc=n,this.Bc=r,this.qc=i,this.listener=o,this.state=0,this.Uc=0,this.Qc=null,this.stream=null,this.ih=new La(t,e)}function Jh(t,e){return"firestore_clients_"+t+"_"+e}function Qh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function $h(t,e){return"firestore_targets_"+t+"_"+e}function Zh(t){this.key=t}function tf(t){this.key=t}function ef(t,e,n){this.query=t,this.targetId=e,this.view=n}function nf(t){this.key=t,this.Wd=!1}function rf(){this.yf=void 0,this.bf=[]}var of,sf,af=(Vf.bl=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new kr(r.error.code,r.error.message)),i?new Vf(t,e,r.state,o):(Js("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},Vf.prototype.vl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Vf),uf=(jf.bl=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new kr(n.error.code,n.error.message)),r?new jf(t,n.state,i):(Js("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},jf.prototype.vl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},jf),cf=(Mf.bl=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=bs(),o=0;r&&o<n.activeTargetIds.length;++o)r=oi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Mf(t,i):(Js("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},Mf),hf=(Cf.bl=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Cf(e.clientId,e.onlineState):(Js("SharedClientState","Failed to parse online state: "+t),null)},Cf),ff=(xf.prototype.Sl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},xf.prototype.Dl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},xf.prototype.vl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},xf),lf=(Pf.so=function(t){return!(!t.window||null==t.window.localStorage)},Pf.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,h,f,l=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.cl.Pu()];case 1:for(t=u.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Cl&&(i=this.getItem(Jh(this.persistenceKey,r)))&&(o=cf.bl(r,i))&&(this.kl=this.kl.me(o.clientId,o));for(this.Ul(),(s=this.storage.getItem(this.ql))&&(a=this.Ql(s))&&this.Wl(a),c=0,h=this.$l;c<h.length;c++)f=h[c],this.Nl(f);return this.$l=[],this.platform.window.addEventListener("unload",(function(){return l.Iu()})),this.Uh=!0,[2]}}))}))},Pf.prototype.br=function(t){this.setItem(this.Ll,JSON.stringify(t))},Pf.prototype.jl=function(){return this.Kl(this.kl)},Pf.prototype.Gl=function(t){var e=!1;return this.kl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},Pf.prototype.zl=function(t){this.Hl(t,"pending")},Pf.prototype.Yl=function(t,e,n){this.Hl(t,e,n),this.Jl(t)},Pf.prototype.Xl=function(t){var e="not-current";if(this.Gl(t)){var n=this.storage.getItem($h(this.persistenceKey,t));if(n){var r=uf.bl(t,n);r&&(e=r.state)}}return this.Zl.Sl(t),this.Ul(),e},Pf.prototype.td=function(t){this.Zl.Dl(t),this.Ul()},Pf.prototype.ed=function(t){return this.Zl.activeTargetIds.has(t)},Pf.prototype.sd=function(t){this.removeItem($h(this.persistenceKey,t))},Pf.prototype.nd=function(t,e,n){this.rd(t,e,n)},Pf.prototype.Qu=function(t,e,n){var r=this;e.forEach((function(t){r.Jl(t)})),this.currentUser=t,n.forEach((function(t){r.zl(t)}))},Pf.prototype.hd=function(t){this.od(t)},Pf.prototype.Iu=function(){this.Uh&&(this.platform.window.removeEventListener("storage",this.Fl),this.removeItem(this.Ml),this.Uh=!1)},Pf.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ys("SharedClientState","READ",t,e),e},Pf.prototype.setItem=function(t,e){Ys("SharedClientState","SET",t,e),this.storage.setItem(t,e)},Pf.prototype.removeItem=function(t){Ys("SharedClientState","REMOVE",t),this.storage.removeItem(t)},Pf.prototype.Nl=function(t){var e=this;if(t.storageArea===this.storage){if(Ys("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ml)return void Js("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sr.dh((function(){return a(e,void 0,void 0,(function(){var e,n,r,i,o,s;return u(this,(function(a){if(this.Uh){if(null!==t.key)if(this.xl.test(t.key)){if(null==t.newValue)return e=this.ad(t.key),[2,this.ud(e,null)];if(n=this._d(t.key,t.newValue))return[2,this.ud(n.clientId,n)]}else if(this.Ol.test(t.key)){if(null!==t.newValue&&(r=this.ld(t.key,t.newValue)))return[2,this.dd(r)]}else if(this.Bl.test(t.key)){if(null!==t.newValue&&(i=this.fd(t.key,t.newValue)))return[2,this.Td(i)]}else if(t.key===this.ql){if(null!==t.newValue&&(o=this.Ql(t.newValue)))return[2,this.Wl(o)]}else t.key===this.Ll&&(s=function(t){var e=ga.vr;if(null!=t)try{var n=JSON.parse(t);Zs("number"==typeof n),e=n}catch(t){Js("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==ga.vr&&this.gr(s)}else this.$l.push(t);return[2]}))}))}))}},Object.defineProperty(Pf.prototype,"Zl",{get:function(){return this.kl.get(this.Cl)},enumerable:!0,configurable:!0}),Pf.prototype.Ul=function(){this.setItem(this.Ml,this.Zl.vl())},Pf.prototype.Hl=function(t,e,n){var r=new af(this.currentUser,t,e,n),i=Qh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.vl())},Pf.prototype.Jl=function(t){var e=Qh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},Pf.prototype.od=function(t){var e={clientId:this.Cl,onlineState:t};this.storage.setItem(this.ql,JSON.stringify(e))},Pf.prototype.rd=function(t,e,n){var r=$h(this.persistenceKey,t),i=new uf(t,e,n);this.setItem(r,i.vl())},Pf.prototype.ad=function(t){var e=this.xl.exec(t);return e?e[1]:null},Pf.prototype._d=function(t,e){var n=this.ad(t);return cf.bl(n,e)},Pf.prototype.ld=function(t,e){var n=this.Ol.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return af.bl(new Ir(i),r,e)},Pf.prototype.fd=function(t,e){var n=this.Bl.exec(t),r=Number(n[1]);return uf.bl(r,e)},Pf.prototype.Ql=function(t){return hf.bl(t)},Pf.prototype.dd=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.cl.Ed(t.batchId,t.state,t.error)]:(Ys("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},Pf.prototype.Td=function(t){return this.cl.Id(t.targetId,t.state,t.error)},Pf.prototype.ud=function(t,e){var n=this,r=e?this.kl.me(t,e):this.kl.remove(t),i=this.Kl(this.kl),o=this.Kl(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.cl.wd(s,a).then((function(){n.kl=r}))},Pf.prototype.Wl=function(t){this.kl.get(t.clientId)&&this.b_(t.onlineState)},Pf.prototype.Kl=function(t){var e=bs();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},Pf),pf=(Lf.prototype.zl=function(t){},Lf.prototype.Yl=function(t,e,n){},Lf.prototype.Xl=function(t){return this.Rd.Sl(t),this.md[t]||"not-current"},Lf.prototype.nd=function(t,e,n){this.md[t]=e},Lf.prototype.td=function(t){this.Rd.Dl(t)},Lf.prototype.ed=function(t){return this.Rd.activeTargetIds.has(t)},Lf.prototype.sd=function(t){delete this.md[t]},Lf.prototype.jl=function(){return this.Rd.activeTargetIds},Lf.prototype.Gl=function(t){return this.Rd.activeTargetIds.has(t)},Lf.prototype.start=function(){return this.Rd=new ff,Promise.resolve()},Lf.prototype.Qu=function(t,e,n){},Lf.prototype.hd=function(t){},Lf.prototype.Iu=function(){},Lf.prototype.br=function(t){},Lf),df=(Object.defineProperty(Rf.prototype,"pd",{get:function(){return this.Ad},enumerable:!0,configurable:!0}),Rf.prototype.yd=function(t,e){var n=this,r=e?e.bd:new _s,i=e?e.gd:this.gd,o=e?e.ns:this.ns,s=i,a=!1,u=this.query.oe()&&i.size===this.query.limit?i.last():null,c=this.query.ae()&&i.size===this.query.limit?i.first():null;if(t.pe((function(t,e){var h=i.get(t),f=e instanceof Io?e:null;f=f&&(n.query.matches(f)?f:null);var l=!!h&&n.ns.has(h.key),p=!!f&&(f.At||n.ns.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.vd(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&0<n.query.se(f,u)||c&&n.query.se(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(o=f?(s=s.add(f),p?o.add(t):o.delete(t)):(s=s.delete(t),o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var h=this.query.oe()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{gd:s,bd:r,Sd:a,ns:o}},Rf.prototype.vd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},Rf.prototype.Zn=function(t,e,n){var r=this,i=this.gd;this.gd=t.gd,this.ns=t.ns;var o=t.bd.es();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.query.se(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $s()}}var i,o})),this.Dd(n);var s=e?this.Cd():[],a=0===this.Vd.size&&this.fs?1:0,u=a!==this.Pd;return this.Pd=a,0!==o.length||u?{snapshot:new As(this.query,t.gd,i,o,t.ns,0==a,u,!1),Fd:s}:{Fd:s}},Rf.prototype.Nd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.Zn({gd:this.gd,bd:new _s,ns:this.ns,Sd:!1},!1)):{Fd:[]}},Rf.prototype.kd=function(t){return!this.Ad.has(t)&&!!this.gd.has(t)&&!this.gd.get(t).At},Rf.prototype.Dd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.Ad=e.Ad.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return e.Ad=e.Ad.delete(t)})),this.fs=t.fs)},Rf.prototype.Cd=function(){var t=this;if(!this.fs)return[];var e=this.Vd;this.Vd=ms(),this.gd.forEach((function(e){t.kd(e.key)&&(t.Vd=t.Vd.add(e.key))}));var n=[];return e.forEach((function(e){t.Vd.has(e)||n.push(new tf(e))})),this.Vd.forEach((function(t){e.has(t)||n.push(new Zh(t))})),n},Rf.prototype.$d=function(t){this.Ad=t.rc,this.Vd=ms();var e=this.yd(t.documents);return this.Zn(e,!0)},Rf.prototype.Md=function(){return As.os(this.query,this.gd,this.ns,0===this.Pd)},Rf),vf=(Df.prototype.Od=function(){this.Bd()},Df.prototype.Bd=function(){var t=this;this.ih.xr((function(){return a(t,void 0,void 0,(function(){var t,e,n=this;return u(this,(function(r){return t=this.Ld.gl(),(e=this.qd(t))&&e.then((function(e){n.qr.Hr((function(){return t.commit().then((function(){n.Wr.resolve(e)})).catch((function(t){n.Ud(t)}))}))})).catch((function(t){n.Ud(t)})),[2]}))}))}))},Df.prototype.qd=function(t){try{var e=this.updateFunction(t);return!ri(e)&&e.catch&&e.then?e:(this.Wr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Wr.reject(t),null}},Df.prototype.Ud=function(t){var e=this;0<this.xd&&this.Qd(t)?(--this.xd,this.qr.Hr((function(){return e.Bd(),Promise.resolve()}))):this.Wr.reject(t)},Df.prototype.Qd=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!Jo(e)},Df),yf=(Object.defineProperty(Of.prototype,"if",{get:function(){return!0},enumerable:!0,configurable:!0}),Of.prototype.subscribe=function(t){this.Gd=t},Of.prototype.listen=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o;return u(this,(function(s){switch(s.label){case 0:return this.nf("listen()"),(r=this.zd.get(t))?(e=r.targetId,this.jd.Xl(e),n=r.view.Md(),[3,4]):[3,1];case 1:return[4,this.L_.sc(t.ee())];case 2:return i=s.sent(),o=this.jd.Xl(i.targetId),e=i.targetId,[4,this.rf(t,e,"current"===o)];case 3:n=s.sent(),this.if&&this.Ld.listen(i),s.label=4;case 4:return[2,n]}}))}))},Of.prototype.rf=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,s,a,c;return u(this,(function(u){switch(u.label){case 0:return[4,this.L_.nc(t,!0)];case 1:return r=u.sent(),i=new df(t,r.rc),o=i.yd(r.documents),s=Ss.ds(e,n&&"Offline"!==this.onlineState),a=i.Zn(o,this.if,s),this.hf(e,a.Fd),c=new ef(t,e,i),[2,(this.zd.set(t,c),this.Hd.has(e)?this.Hd.get(e).push(t):this.Hd.set(e,[t]),a.snapshot)]}}))}))},Of.prototype.al=function(t){return a(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return this.nf("unlisten()"),e=this.zd.get(t),1<(n=this.Hd.get(e.targetId)).length?[2,(this.Hd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.zd.delete(t))]:this.if?(this.jd.td(e.targetId),this.jd.Gl(e.targetId)?[3,2]:[4,this.L_.ic(e.targetId,!1).then((function(){r.jd.sd(e.targetId),r.Ld.al(e.targetId),r.af(e.targetId)})).catch(Nc)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.af(e.targetId),[4,this.L_.ic(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},Of.prototype.write=function(t,e){return a(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:this.nf("write()"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.L_.Gu(t)];case 2:return n=i.sent(),[3,4];case 3:if("IndexedDbTransactionError"===(r=i.sent()).name)return[2,(Js("SyncEngine","Dropping write that cannot be persisted: "+r),void e.reject(new kr(Sr.UNAVAILABLE,"Failed to persist write: "+r)))];throw r;case 4:return this.jd.zl(n.batchId),this.uf(n.batchId,e),[4,this.cf(n.Wn)];case 5:return i.sent(),[4,this.Ld.nl()];case 6:return i.sent(),[2]}}))}))},Of.prototype.runTransaction=function(t,e,n){new vf(t,this.Ld,e,n).Od()},Of.prototype.Yu=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:this.nf("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.Yu(t)];case 2:return e=r.sent(),t.as.forEach((function(t,e){var r=n.Xd.get(e);r&&(Zs(t.Ts.size+t.Es.size+t.Is.size<=1),0<t.Ts.size?r.Wd=!0:0<t.Es.size?Zs(r.Wd):0<t.Is.size&&(Zs(r.Wd),r.Wd=!1))})),[4,this.cf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Nc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Of.prototype.Nd=function(t,e){this.nf("applyOnlineStateChange()");var n=[];this.zd.forEach((function(e,r){var i=r.view.Nd(t);i.snapshot&&n.push(i.snapshot)})),this.Gd._f(t),this.Gd.h_(n),this.onlineState=t},Of.prototype.fl=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,s,a=this;return u(this,(function(u){switch(u.label){case 0:return this.nf("rejectListens()"),this.jd.nd(t,"rejected",e),n=this.Xd.get(t),(r=n&&n.key)?(this.Jd=this.Jd.remove(r),this.Xd.delete(t),this.lf(),i=(i=new $o(Jr.N)).me(r,new To(r,xr.min())),o=ms().add(r),s=new Ns(xr.min(),new Map,new os(na),i,o),[2,this.Yu(s)]):[4,this.L_.ic(t,!1).then((function(){return a.af(t,e)})).catch(Nc)];case 1:return u.sent(),[2]}}))}))},Of.prototype.ml=function(t){return a(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:this.nf("applySuccessfulWrite()"),e=t.batch.batchId,this.df(e,null),this.ff(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.yo(t)];case 2:return n=r.sent(),this.jd.Yl(e,"acknowledged"),[4,this.cf(n)];case 3:return r.sent(),[3,6];case 4:return[4,Nc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Of.prototype.Vl=function(t,e){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:this.nf("rejectFailedWrite()"),this.df(t,e),this.ff(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.Hu(t)];case 2:return n=r.sent(),this.jd.Yl(t,"rejected",e),[4,this.cf(n)];case 3:return r.sent(),[3,6];case 4:return[4,Nc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Of.prototype.Tf=function(t){return a(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return this.Ld.W_()||Ys("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.L_.Lo()];case 1:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.ef.get(e)||[]).push(t),this.ef.set(e,n),[2])}}))}))},Of.prototype.ff=function(t){(this.ef.get(t)||[]).forEach((function(t){t.resolve()})),this.ef.delete(t)},Of.prototype.Ef=function(t){this.ef.forEach((function(e){e.forEach((function(e){e.reject(new kr(Sr.CANCELLED,t))}))})),this.ef.clear()},Of.prototype.uf=function(t,e){var n=this.tf[this.currentUser.s()];n=(n=n||new $o(na)).me(t,e),this.tf[this.currentUser.s()]=n},Of.prototype.df=function(t,e){var n=this.tf[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.tf[this.currentUser.s()]=n}},Of.prototype.af=function(t,e){var n=this;void 0===e&&(e=null),this.jd.td(t);for(var r=0,i=this.Hd.get(t);r<i.length;r++){var o=i[r];this.zd.delete(o),e&&this.Gd.If(o,e)}if(this.Hd.delete(t),this.if){var s=this.Zd.Cn(t);this.Zd.Sn(t),s.forEach((function(t){n.Zd.Fn(t)||n.wf(t)}))}},Of.prototype.wf=function(t){var e=this.Jd.get(t);null!==e&&(this.Ld.al(e),this.Jd=this.Jd.remove(t),this.Xd.delete(e),this.lf())},Of.prototype.hf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Zh?(this.Zd.gn(i.key,t),this.Rf(i)):i instanceof tf?(Ys("SyncEngine","Document no longer in limbo: "+i.key),this.Zd.yn(i.key,t),this.Zd.Fn(i.key)||this.wf(i.key)):$s()}},Of.prototype.Rf=function(t){var e=t.key;this.Jd.get(e)||(Ys("SyncEngine","New document in limbo: "+e),this.Yd.push(e),this.lf())},Of.prototype.lf=function(){for(;0<this.Yd.length&&this.Jd.size<this.Kd;){var t=this.Yd.shift(),e=this.sf.next();this.Xd.set(e,new nf(t)),this.Jd=this.Jd.me(t,e),this.Ld.listen(new Co(No.Wt(t.path).ee(),e,2,ga.vr))}},Of.prototype.mf=function(){return this.Jd},Of.prototype.Af=function(){return this.Yd},Of.prototype.cf=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o=this;return u(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.zd.forEach((function(s,a){i.push(Promise.resolve().then((function(){var e=a.view.yd(t);return e.Sd?o.L_.nc(a.query,!1).then((function(t){var n=t.documents;return a.view.yd(n,e)})):e})).then((function(t){var i=e&&e.as.get(a.targetId),s=a.view.Zn(t,o.if,i);if(o.hf(a.targetId,s.Fd),s.snapshot){o.if&&o.jd.nd(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=ma.Vr(a.targetId,s.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.Gd.h_(n),[4,this.L_.Zu(r)];case 2:return s.sent(),[2]}}))}))},Of.prototype.nf=function(t){},Of.prototype.pl=function(t){return a(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Ef("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.L_.Qu(t)]):[3,3];case 1:return n=r.sent(),this.jd.Qu(t,n.ju,n.Ku),[4,this.cf(n.Wu)];case 2:r.sent(),r.label=3;case 3:return[4,this.Ld.pl()];case 4:return r.sent(),[2]}}))}))},Of.prototype.enableNetwork=function(){return this.Ld.enableNetwork()},Of.prototype.disableNetwork=function(){return this.Ld.disableNetwork()},Of.prototype.ei=function(t){var e=this.Xd.get(t);if(e&&e.Wd)return ms().add(e.key);var n=ms(),r=this.Hd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.zd.get(s);n=n.He(a.view.pd)}return n},Of),mf=(s(kf,of=yf),Object.defineProperty(kf.prototype,"if",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),kf.prototype.enableNetwork=function(){return this.L_.ru(!0),of.prototype.enableNetwork.call(this)},kf.prototype.disableNetwork=function(){return this.L_.ru(!1),of.prototype.disableNetwork.call(this)},kf.prototype.Pf=function(t){return a(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.L_.nc(t.query,!0)];case 1:return e=r.sent(),n=t.view.$d(e),[2,(this.isPrimary&&this.hf(t.targetId,n.Fd),n)]}}))}))},kf.prototype.Nd=function(t,e){this.if&&0===e&&(of.prototype.Nd.call(this,t,e),this.jd.hd(t)),this.if||1!==e||of.prototype.Nd.call(this,t,e)},kf.prototype.Ed=function(t,e,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return this.nf("applyBatchState()"),[4,this.L_.ac(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Ld.nl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.df(t,n||null),this.L_.uc(t)):$s(),i.label=4;case 4:return[4,this.cf(r)];case 5:return i.sent(),[3,7];case 6:Ys("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},kf.prototype.yl=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c=this;return u(this,(function(u){switch(u.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Ld.yl(!0)]);case 1:return u.sent(),e=this.jd.jl(),[4,this.Vf(e.W())];case 2:for(n=u.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.Ld.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),this.Hd.forEach((function(t,e){c.jd.ed(e)?s.push(e):a=a.then((function(){return c.af(e),c.L_.ic(e,!0)})),c.Ld.al(e)})),[4,a]);case 4:return u.sent(),[4,this.Vf(s)];case 5:return u.sent(),this.gf(),[4,this.Ld.yl(!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},kf.prototype.gf=function(){var t=this;this.Xd.forEach((function(e,n){t.Ld.al(n)})),this.Zd.Dn(),this.Xd=new Map,this.Jd=new $o(Jr.N)},kf.prototype.Vf=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,h,f,l,p,d;return u(this,(function(u){switch(u.label){case 0:e=[],n=[],r=0,i=t,u.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(a=this.Hd.get(o))&&0!==a.length?[4,this.L_.ic(o,!0)]:[3,8]):[3,14];case 2:return u.sent(),[4,this.L_.sc(a[0].ee())];case 3:s=u.sent(),c=0,h=a,u.label=4;case 4:return c<h.length?(f=h[c],l=this.zd.get(f),[4,this.Pf(l)]):[3,7];case 5:(p=u.sent()).snapshot&&n.push(p.snapshot),u.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.L_.cc(o)];case 9:return d=u.sent(),[4,this.L_.sc(d)];case 10:return s=u.sent(),[4,this.rf(this.pf(d),o,!1)];case 11:u.sent(),u.label=12;case 12:e.push(s),u.label=13;case 13:return r++,[3,1];case 14:return[2,(this.Gd.h_(n),e)]}}))}))},kf.prototype.pf=function(t){return new No(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},kf.prototype.Pu=function(){return this.L_.Pu()},kf.prototype.Id=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return this.isPrimary?(Ys("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.Hd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.L_.Va()];case 3:return r=o.sent(),i=Ns.ls(t,"current"===e),[4,this.cf(r,i)];case 4:return o.sent(),[3,8];case 5:return[4,this.L_.ic(t,!0)];case 6:return o.sent(),this.af(t,n),[3,8];case 7:$s(),o.label=8;case 8:return[2]}}))}))},kf.prototype.wd=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,h,f,l,p=this;return u(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[3,10];n=0,r=t,d.label=1;case 1:return n<r.length?(i=r[n],this.Hd.has(i)?(Ys("SyncEngine","Adding an already active target "+i),[3,5]):[4,this.L_.cc(i)]):[3,6];case 2:return o=d.sent(),[4,this.L_.sc(o)];case 3:return s=d.sent(),[4,this.rf(this.pf(o),s.targetId,!1)];case 4:d.sent(),this.Ld.listen(s),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){return u(this,(function(e){switch(e.label){case 0:return c.Hd.has(t)?[4,c.L_.ic(t,!1).then((function(){p.Ld.al(t),p.af(t)})).catch(Nc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,h=0,f=e,d.label=7;case 7:return h<f.length?(l=f[h],[5,a(l)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},kf),gf=(Sf.prototype.listen=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s;return u(this,(function(a){switch(a.label){case 0:if(e=t.query,n=!1,(r=this.vf.get(e))||(n=!0,r=new rf),!n)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),i=r,[4,this.cl.listen(e)];case 2:return i.yf=a.sent(),[3,4];case 3:if(o=a.sent(),Js("EventManager",s="Initialization of query '"+e+"' failed: "+o),"IndexedDbTransactionError"!==o.name)throw o;return[2,void t.onError(new kr(Sr.UNAVAILABLE,s))];case 4:return this.vf.set(e,r),r.bf.push(t),t.Nd(this.onlineState),r.yf&&t.Df(r.yf)&&this.Cf(),[2]}}))}))},Sf.prototype.al=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){return e=t.query,n=!1,(r=this.vf.get(e))&&0<=(i=r.bf.indexOf(t))&&(r.bf.splice(i,1),n=0===r.bf.length),n?[2,(this.vf.delete(e),this.cl.al(e))]:[2]}))}))},Sf.prototype.h_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.vf.get(o);if(s){for(var a=0,u=s.bf;a<u.length;a++)u[a].Df(i)&&(e=!0);s.yf=i}}e&&this.Cf()},Sf.prototype.If=function(t,e){var n=this.vf.get(t);if(n)for(var r=0,i=n.bf;r<i.length;r++)i[r].onError(e);this.vf.delete(t)},Sf.prototype._f=function(t){this.onlineState=t;var e=!1;this.vf.forEach((function(n,r){for(var i=0,o=r.bf;i<o.length;i++)o[i].Nd(t)&&(e=!0)})),e&&this.Cf()},Sf.prototype.Ff=function(t){this.Sf.add(t),t.next()},Sf.prototype.Nf=function(t){this.Sf.delete(t)},Sf.prototype.Cf=function(){this.Sf.forEach((function(t){t.next()}))},Sf),bf=(Nf.prototype.Df=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new As(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.$f?this.Lf(t)&&(this.kf.next(t),o=!0):this.xf(t,this.onlineState)&&(this.Of(t),o=!0),this.Mf=t,o},Nf.prototype.onError=function(t){this.kf.error(t)},Nf.prototype.Nd=function(t){this.onlineState=t;var e=!1;return this.Mf&&!this.$f&&this.xf(this.Mf,t)&&(this.Of(this.Mf),e=!0),e},Nf.prototype.xf=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Bf&&n||t.docs.B()&&"Offline"!==e)},Nf.prototype.Lf=function(t){if(0<t.docChanges.length)return!0;var e=this.Mf&&this.Mf.hasPendingWrites!==t.hasPendingWrites;return!(!t.rs&&!e)&&!0===this.options.includeMetadataChanges},Nf.prototype.Of=function(t){t=As.os(t.query,t.docs,t.ns,t.fromCache),this.$f=!0,this.kf.next(t)},Nf),wf=(Af.prototype.Uu=function(t){this.qf=t},Af.prototype.dr=function(t,e,n,i){var o=this;return e.te()||n.isEqual(xr.min())?this.Uf(t,e):this.qf.cr(t,i).next((function(s){var a=o.Qf(e,s);return(e.oe()||e.ae())&&o.Sd(e.Bt,a,i,n)?o.Uf(t,e):(Ws()<=r.DEBUG&&Ys("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),o.qf.dr(t,e,n).next((function(t){return a.forEach((function(e){t=t.me(e.key,e)})),t})))}))},Af.prototype.Qf=function(t,e){var n=new os((function(e,n){return t.se(e,n)}));return e.forEach((function(e,r){r instanceof Io&&t.matches(r)&&(n=n.add(r))})),n},Af.prototype.Sd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||0<i.version.S(r))},Af.prototype.Uf=function(t,e){return Ws()<=r.DEBUG&&Ys("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.qf.dr(t,e,xr.min())},Af),Ef=(_f.prototype.po=function(t){return la.resolve(0===this.nr.length)},_f.prototype.yo=function(t,e,n){var r=e.batchId,i=this.Kf(r,"acknowledged");return Zs(0===i),this.nr[i],this.lastStreamToken=n,la.resolve()},_f.prototype.vo=function(t){return la.resolve(this.lastStreamToken)},_f.prototype.So=function(t,e){return this.lastStreamToken=e,la.resolve()},_f.prototype.Do=function(t,e,n,r){var i=this.Wf;this.Wf++,0<this.nr.length&&this.nr[this.nr.length-1];var o=new ua(i,e,n,r);this.nr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.jf=this.jf.add(new fa(u.key,i)),this.rr.Fo(t,u.key.path.M())}return la.resolve(o)},_f.prototype.No=function(t,e){return la.resolve(this.Gf(e))},_f.prototype.Mo=function(t,e){var n=e+1,r=this.zf(n),i=r<0?0:r;return la.resolve(this.nr.length>i?this.nr[i]:null)},_f.prototype.Lo=function(){return la.resolve(0===this.nr.length?-1:this.Wf-1)},_f.prototype.xo=function(t){return la.resolve(this.nr.slice())},_f.prototype.or=function(t,e){var n=this,r=new fa(e,0),i=new fa(e,Number.POSITIVE_INFINITY),o=[];return this.jf.Ke([r,i],(function(t){var e=n.Gf(t.Nn);o.push(e)})),la.resolve(o)},_f.prototype.lr=function(t,e){var n=this,r=new os(na);return e.forEach((function(t){var e=new fa(t,0),i=new fa(t,Number.POSITIVE_INFINITY);n.jf.Ke([e,i],(function(t){r=r.add(t.Nn)}))})),la.resolve(this.Hf(r))},_f.prototype.Rr=function(t,e){var n=e.path,r=n.length+1,i=n;Jr.et(i)||(i=i.child(""));var o=new fa(new Jr(i),0),s=new os(na);return this.jf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.Nn)),!0)}),o),la.resolve(this.Hf(s))},_f.prototype.Hf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Gf(t);null!==r&&n.push(r)})),n},_f.prototype.Bo=function(t,e){var n=this;Zs(0===this.Kf(e.batchId,"removed")),this.nr.shift();var r=this.jf;return la.forEach(e.mutations,(function(i){var o=new fa(i.key,e.batchId);return r=r.delete(o),n.Ao.Qo(t,i.key)})).next((function(){n.jf=r}))},_f.prototype.Uo=function(t){},_f.prototype.Fn=function(t,e){var n=new fa(e,0),r=this.jf.ze(n);return la.resolve(e.isEqual(r&&r.key))},_f.prototype.Wo=function(t){return this.nr.length,la.resolve()},_f.prototype.Kf=function(t,e){return this.zf(t)},_f.prototype.zf=function(t){return 0===this.nr.length?0:t-this.nr[0].batchId},_f.prototype.Gf=function(t){var e=this.zf(t);return e<0||e>=this.nr.length?null:this.nr[e]},_f),If=(Tf.prototype.Gn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Yf(e);return this.docs=this.docs.me(r,{Ea:e,size:s,readTime:n}),this.size+=s-o,this.rr.Fo(t,r.path.M())},Tf.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Tf.prototype.Yn=function(t,e){var n=this.docs.get(e);return la.resolve(n?n.Ea:null)},Tf.prototype.getEntries=function(t,e){var n=this,r=fs();return e.forEach((function(t){var e=n.docs.get(t);r=r.me(t,e?e.Ea:null)})),la.resolve(r)},Tf.prototype.dr=function(t,e,n){for(var r=ps(),i=new Jr(e.path.child("")),o=this.docs.ve(i);o.ke();){var s=o.Ne(),a=s.key,u=s.value,c=u.Ea,h=u.readTime;if(!e.path.q(a.path))break;h.S(n)<=0||c instanceof Io&&e.matches(c)&&(r=r.me(c.key,c))}return la.resolve(r)},Tf.prototype.Jf=function(t,e){return la.forEach(this.docs,(function(t){return e(t)}))},Tf.prototype.ba=function(t){return new Tf.va(this)},Tf.prototype.Da=function(t){return la.resolve(this.size)},Tf);function Tf(t,e){this.rr=t,this.Yf=e,this.docs=new $o(Jr.N),this.size=0}function _f(t,e){this.rr=t,this.Ao=e,this.nr=[],this.Wf=1,this.lastStreamToken=ei.ht,this.jf=new os(fa.An)}function Af(){}function Nf(t,e,n){this.query=t,this.kf=e,this.$f=!1,this.Mf=null,this.onlineState="Unknown",this.options=n||{}}function Sf(t){this.cl=t,this.vf=new aa((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Sf=new Set,this.cl.subscribe(this)}function kf(t,e,n,r,i){var o=this;return(o=of.call(this,t,e,n,r,i)||this).L_=t,o.isPrimary=void 0,o}function Of(t,e,n,r,i){this.L_=t,this.Ld=e,this.jd=n,this.currentUser=r,this.Kd=i,this.Gd=null,this.zd=new aa((function(t){return t.canonicalId()})),this.Hd=new Map,this.Yd=[],this.Jd=new $o(Jr.N),this.Xd=new Map,this.Zd=new ha,this.tf={},this.ef=new Map,this.sf=bu.Go(),this.onlineState="Unknown"}function Df(t,e,n,r){this.qr=t,this.Ld=e,this.updateFunction=n,this.Wr=r,this.xd=5,this.ih=new La(this.qr,"transaction_retry")}function Rf(t,e){this.query=t,this.Ad=e,this.Pd=null,this.fs=!1,this.Vd=ms(),this.ns=ms(),this.gd=new Ts(t.se.bind(t))}function Lf(){this.Rd=new ff,this.md={},this.cl=null,this.b_=null,this.gr=null}function Pf(t,e,n,r,i){if(this.Sr=t,this.platform=e,this.persistenceKey=n,this.Cl=r,this.cl=null,this.b_=null,this.gr=null,this.Fl=this.Nl.bind(this),this.kl=new $o(na),this.Uh=!1,this.$l=[],!Pf.so(this.platform))throw new kr(Sr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.Ml=Jh(this.persistenceKey,this.Cl),this.Ll="firestore_sequence_number_"+this.persistenceKey,this.kl=this.kl.me(this.Cl,new ff),this.xl=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ol=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Bl=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ql="firestore_online_state_"+this.persistenceKey,this.platform.window.addEventListener("storage",this.Fl)}function xf(){this.activeTargetIds=bs()}function Cf(t,e){this.clientId=t,this.onlineState=e}function Mf(t,e){this.clientId=t,this.activeTargetIds=e}function jf(t,e,n){this.targetId=t,this.state=e,this.error=n}function Vf(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function Uf(t){var e=this;return(e=sf.call(this)||this).Ca=t,e}If.va=(s(Uf,sf=pa),Uf.prototype.Zn=function(t){var e=this,n=[];return this.Wn.forEach((function(r,i){i?n.push(e.Ca.Gn(t,i,e.readTime)):e.Ca.Hn(r)})),la.Un(n)},Uf.prototype.Jn=function(t,e){return this.Ca.Yn(t,e)},Uf.prototype.Xn=function(t,e){return this.Ca.getEntries(t,e)},Uf);var Ff,qf,Bf=(rl.prototype.js=function(t,e){return this.Xf.forEach((function(t,n){return e(n)})),la.resolve()},rl.prototype.Jo=function(t){return la.resolve(this.lastRemoteSnapshotVersion)},rl.prototype.Xo=function(t){return la.resolve(this.Zf)},rl.prototype.zo=function(t){return this.highestTargetId=this.eT.next(),la.resolve(this.highestTargetId)},rl.prototype.Zo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Zf&&(this.Zf=e),la.resolve()},rl.prototype.ea=function(t){this.Xf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.eT=new bu(e),this.highestTargetId=e),t.sequenceNumber>this.Zf&&(this.Zf=t.sequenceNumber)},rl.prototype.ta=function(t,e){return this.ea(e),this.targetCount+=1,la.resolve()},rl.prototype.ia=function(t,e){return this.ea(e),la.resolve()},rl.prototype.na=function(t,e){return this.Xf.delete(e.target),this.tT.Sn(e.targetId),--this.targetCount,la.resolve()},rl.prototype.Hh=function(t,e,n){var r=this,i=0,o=[];return this.Xf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Xf.delete(s),o.push(r.ra(t,a.targetId)),i++)})),la.Un(o).next((function(){return i}))},rl.prototype.aa=function(t){return la.resolve(this.targetCount)},rl.prototype.ua=function(t,e){var n=this.Xf.get(e)||null;return la.resolve(n)},rl.prototype.ca=function(t,e,n){this.tT.pn(e,n);var r=this.persistence.Ao,i=[];return r&&e.forEach((function(e){i.push(r.gn(t,e))})),la.Un(i)},rl.prototype._a=function(t,e,n){this.tT.vn(e,n);var r=this.persistence.Ao,i=[];return r&&e.forEach((function(e){i.push(r.yn(t,e))})),la.Un(i)},rl.prototype.ra=function(t,e){return this.tT.Sn(e),la.resolve()},rl.prototype.la=function(t,e){var n=this.tT.Cn(e);return la.resolve(n)},rl.prototype.Fn=function(t,e){return la.resolve(this.tT.Fn(e))},rl),Gf=(nl.prototype.start=function(){return Promise.resolve()},nl.prototype.Iu=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(nl.prototype,"Uh",{get:function(){return this.qa},enumerable:!0,configurable:!0}),nl.prototype.nu=function(){},nl.prototype.yu=function(){return this.rr},nl.prototype.Vu=function(t){var e=this.sT[t.s()];return e||(e=new Ef(this.rr,this.Ao),this.sT[t.s()]=e),e},nl.prototype.gu=function(){return this.Ha},nl.prototype.pu=function(){return this.ir},nl.prototype.runTransaction=function(t,e,n){var r=this;Ys("MemoryPersistence","Starting transaction:",t);var i=new Hf(this.su.next());return this.Ao.nT(),n(i).next((function(t){return r.Ao.rT(i).next((function(){return t}))})).Bn().then((function(t){return i.sr(),t}))},nl.prototype.hT=function(t,e){return la.Qn(Object.values(this.sT).map((function(n){return function(){return n.Fn(t,e)}})))},nl),Hf=(s(el,qf=va),el),zf=(tl.aT=function(t){return new tl(t)},Object.defineProperty(tl.prototype,"uT",{get:function(){if(this.oT)return this.oT;throw $s()},enumerable:!0,configurable:!0}),tl.prototype.Fu=function(t){this.Su=t},tl.prototype.gn=function(t,e){return this.uT.delete(e),la.resolve()},tl.prototype.yn=function(t,e){return this.uT.add(e),la.resolve()},tl.prototype.Qo=function(t,e){return this.uT.add(e),la.resolve()},tl.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.gu();return r.la(t,e.targetId).next((function(t){t.forEach((function(t){return n.uT.add(t)}))})).next((function(){return r.na(t,e)}))},tl.prototype.nT=function(){this.oT=new Set},tl.prototype.rT=function(t){var e=this,n=this.persistence.pu().ba();return la.forEach(this.uT,(function(r){return e.cT(t,r).next((function(t){t||n.Hn(r)}))})).next((function(){return e.oT=null,n.apply(t)}))},tl.prototype.ku=function(t,e){var n=this;return this.cT(t,e).next((function(t){t?n.uT.delete(e):n.uT.add(e)}))},tl.prototype.iT=function(t){return 0},tl.prototype.cT=function(t,e){var n=this;return la.Qn([function(){return n.persistence.gu().Fn(t,e)},function(){return n.persistence.hT(t,e)},function(){return la.resolve(n.Su.Fn(e))}])},tl),Kf=(Zf.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:return this.jd=this._T(t),this.persistence=this.lT(t),[4,this.persistence.start()];case 1:return n.sent(),this.dT=this.fT(t),this.L_=this.TT(t),this.Ld=this.ET(t),this.cl=this.IT(t),this.wT=this.RT(t),this.jd.b_=function(t){return e.cl.Nd(t,1)},this.Ld.cl=this.cl,[4,this.L_.start()];case 2:return n.sent(),[4,this.jd.start()];case 3:return n.sent(),[4,this.Ld.start()];case 4:return n.sent(),[4,this.Ld.yl(this.cl.if)];case 5:return n.sent(),[2]}}))}))},Zf.prototype.RT=function(t){return new gf(this.cl)},Zf.prototype.fT=function(t){return null},Zf.prototype.TT=function(t){return new Ec(this.persistence,new wf,t.mT)},Zf.prototype.lT=function(t){return new Gf(zf.aT)},Zf.prototype.ET=function(t){var e=this;return new Bh(this.L_,t.w_,t.qr,(function(t){return e.cl.Nd(t,0)}),t.platform.AT())},Zf.prototype._T=function(t){return new pf},Zf.prototype.IT=function(t){return new yf(this.L_,this.Ld,this.jd,t.mT,t.Kd)},Zf.prototype.clearPersistence=function(t){throw new kr(Sr.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},Zf),Wf=(s($f,Ff=Kf),$f.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:return[4,Ff.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,this.persistence.iu((function(t){return a(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.cl.yl(t)];case 1:return e.sent(),this.dT&&(t&&!this.dT.Uh?this.dT.start(this.L_):t||this.dT.stop()),[2]}}))}))}))];case 2:return n.sent(),[2]}}))}))},$f.prototype.TT=function(t){return new _c(this.persistence,new wf,t.mT)},$f.prototype.IT=function(t){var e=new mf(this.L_,this.Ld,this.jd,t.mT,t.Kd);return this.jd instanceof lf&&(this.jd.cl=e),e},$f.prototype.fT=function(t){var e=this.persistence.Ao.Lh;return new Ha(e,t.qr)},$f.prototype.lT=function(t){var e=lc.vu(t.PT),n=t.platform.Dc(t.PT.ii);return new lc(t.VT.synchronizeTabs,e,t.clientId,t.platform,qa.Dh(t.VT.cacheSizeBytes),t.qr,n,this.jd)},$f.prototype._T=function(t){if(t.VT.gT&&t.VT.synchronizeTabs){if(!lf.so(t.platform))throw new kr(Sr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=lc.vu(t.PT);return new lf(t.qr,t.platform,e,t.clientId,t.mT)}return new pf},$f.prototype.clearPersistence=function(t){var e=lc.vu(t);return lc.clearPersistence(e)},$f),Xf=(Qf.prototype.start=function(t,e){var n=this;this.pT();var r=new Ra,i=new Ra,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,Ys("FirestoreClient","Initializing. user=",s.uid),n.yT(t,e,s,i).then(r.resolve,r.reject);n.qr.Hr((function(){return n.pl(s)}))})),this.qr.Hr((function(){return r.promise})),i.promise},Qf.prototype.enableNetwork=function(){var t=this;return this.pT(),this.qr.enqueue((function(){return t.cl.enableNetwork()}))},Qf.prototype.yT=function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,s,c,h=this;return u(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,this.platform.bT(this.PT)];case 1:return i=f.sent(),o=this.platform.Dc(this.PT.ii),l=i,p=this.credentials,s=new Uh(l,p,o),[4,t.initialize({qr:this.qr,PT:this.PT,platform:this.platform,w_:s,clientId:this.clientId,mT:n,Kd:100,VT:e})];case 2:return f.sent(),this.persistence=t.persistence,this.jd=t.jd,this.L_=t.L_,this.Ld=t.Ld,this.cl=t.cl,this.dT=t.dT,this.vT=t.wT,this.persistence.nu((function(){return a(h,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(c=f.sent(),r.reject(c),!this.ST(c))throw c;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),this.yT(new Kf,{gT:!1},n,r))];case 4:return[2]}var l,p}))}))},Qf.prototype.ST=function(t){return"FirebaseError"===t.name?t.code===Sr.FAILED_PRECONDITION||t.code===Sr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},Qf.prototype.pT=function(){if(this.qr.hh)throw new kr(Sr.FAILED_PRECONDITION,"The client has already been terminated.")},Qf.prototype.pl=function(t){return this.qr.Th(),Ys("FirestoreClient","Credential Changed. Current user: "+t.uid),this.cl.pl(t)},Qf.prototype.disableNetwork=function(){var t=this;return this.pT(),this.qr.enqueue((function(){return t.cl.disableNetwork()}))},Qf.prototype.terminate=function(){var t=this;return this.qr.lh((function(){return a(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.dT&&this.dT.stop(),[4,this.Ld.Iu()];case 1:return t.sent(),[4,this.jd.Iu()];case 2:return t.sent(),[4,this.persistence.Iu()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},Qf.prototype.waitForPendingWrites=function(){var t=this;this.pT();var e=new Ra;return this.qr.Hr((function(){return t.cl.Tf(e)})),e.promise},Qf.prototype.listen=function(t,e,n){var r=this;this.pT();var i=new bf(t,e,n);return this.qr.Hr((function(){return r.vT.listen(i)})),i},Qf.prototype.al=function(t){var e=this;this.DT||this.qr.Hr((function(){return e.vT.al(t)}))},Qf.prototype.CT=function(t){var e=this;return this.pT(),this.qr.enqueue((function(){return e.L_.ec(t)})).then((function(t){if(t instanceof Io)return t;if(t instanceof To)return null;throw new kr(Sr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Qf.prototype.FT=function(t){var e=this;return this.pT(),this.qr.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n,r;return u(this,(function(i){switch(i.label){case 0:return[4,this.L_.nc(t,!0)];case 1:return e=i.sent(),n=new df(t,e.rc),r=n.yd(e.documents),[2,n.Zn(r,!1).snapshot]}}))}))}))},Qf.prototype.write=function(t){var e=this;this.pT();var n=new Ra;return this.qr.Hr((function(){return e.cl.write(t,n)})),n.promise},Qf.prototype.ii=function(){return this.PT.ii},Qf.prototype.Ff=function(t){var e=this;this.pT(),this.qr.Hr((function(){return e.vT.Ff(t),Promise.resolve()}))},Qf.prototype.Nf=function(t){this.DT||this.vT.Nf(t)},Object.defineProperty(Qf.prototype,"DT",{get:function(){return this.qr.hh},enumerable:!0,configurable:!0}),Qf.prototype.transaction=function(t){var e=this;this.pT();var n=new Ra;return this.qr.Hr((function(){return e.cl.runTransaction(e.qr,t,n),Promise.resolve()})),n.promise},Qf),Yf=(Jf.prototype.next=function(t){this.NT(this.observer.next,t)},Jf.prototype.error=function(t){this.NT(this.observer.error,t)},Jf.prototype.kT=function(){this.muted=!0},Jf.prototype.NT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},Jf);function Jf(t){this.observer=t,this.muted=!1}function Qf(t,e,n,r){this.platform=t,this.PT=e,this.credentials=n,this.qr=r,this.clientId=ta.cn()}function $f(){return null!==Ff&&Ff.apply(this,arguments)||this}function Zf(){}function tl(t){this.persistence=t,this.Su=null,this.oT=null}function el(t){var e=this;return(e=qf.call(this)||this).Oa=t,e}function nl(t){var e=this;this.sT={},this.su=new ga(0),this.qa=!1,this.qa=!0,this.Ao=t(this),this.Ha=new Bf(this),this.rr=new Mu,this.ir=new If(this.rr,(function(t){return e.Ao.iT(t)}))}function rl(t){this.persistence=t,this.Xf=new aa((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=xr.min(),this.highestTargetId=0,this.Zf=0,this.tT=new ha,this.targetCount=0,this.eT=bu.Ko()}function il(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var ol,sl,al=(Rl.prototype.MT=function(t){switch(ci(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yi(t.integerValue||t.doubleValue);case 3:return this.LT(t.timestampValue);case 4:return this.xT(t);case 5:return t.stringValue;case 6:return new Wc(mi(t.bytesValue));case 7:return this.OT(t.referenceValue);case 8:return this.BT(t.geoPointValue);case 9:return this.qT(t.arrayValue);case 10:return this.UT(t.mapValue);default:throw $s()}},Rl.prototype.UT=function(t){var e=this,n={};return Zr(t.fields||{},(function(t,r){n[t]=e.MT(r)})),n},Rl.prototype.BT=function(t){return new ch(yi(t.latitude),yi(t.longitude))},Rl.prototype.qT=function(t){var e=this;return(t.values||[]).map((function(t){return e.MT(t)}))},Rl.prototype.xT=function(t){switch(this.$T){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return si(n)?t(n):n}(t);return null==e?null:this.MT(e);case"estimate":return this.LT(ai(t));default:return null}},Rl.prototype.LT=function(t){var e=vi(t),n=new Pr(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},Rl.prototype.OT=function(t){var e=Mr.K(t);Zs(Gs(e));var n=new sa(e.get(1),e.get(3)),r=new Jr(e.$(5));return n.isEqual(this.firestore.Lc)||Js("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.Lc.projectId+"/"+this.firestore.Lc.database+") instead."),new pl(r,this.firestore,this.converter)},Rl),ul=qa.Nh,cl=(Dl.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},Dl),hl=(Ol.prototype.settings=function(t){kc("Firestore.settings",arguments,1),Rc("Firestore.settings","object",1,t);var e=new cl(t);if(this.KT&&!this.JT.isEqual(e))throw new kr(Sr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.JT=e).credentials&&(this.HT=function(t){if(!t)return new Or;switch(t.type){case"gapi":var e=t.ZT;return Zs(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Lr(e,t.V||"0");case"provider":return t.ZT;default:throw new kr(Sr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Ol.prototype.enableNetwork=function(){return this.jT(),this.KT.enableNetwork()},Ol.prototype.disableNetwork=function(){return this.jT(),this.KT.disableNetwork()},Ol.prototype.enablePersistence=function(t){var e,n;if(this.KT)throw new kr(Sr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&Js("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.tE(this.YT,{gT:!0,cacheSizeBytes:this.JT.cacheSizeBytes,synchronizeTabs:r})},Ol.prototype.clearPersistence=function(){return a(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){if(void 0!==this.KT&&!this.KT.DT)throw new kr(Sr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Ra,[2,(this.WT.oh((function(){return a(e,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.eE(),[4,this.YT.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},Ol.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Ol.prototype,"sE",{get:function(){return this.jT(),this.KT.DT},enumerable:!0,configurable:!0}),Ol.prototype.waitForPendingWrites=function(){return this.jT(),this.KT.waitForPendingWrites()},Ol.prototype.onSnapshotsInSync=function(t){if(this.jT(),il(t))return this.iE(t);Rc("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.iE(e)},Ol.prototype.iE=function(t){var e=this,n=new Yf({next:function(){t.next&&t.next()},error:function(t){throw $s()}});return this.KT.Ff(n),function(){n.kT(),e.KT.Nf(n)}},Ol.prototype.jT=function(){return this.KT||this.tE(new Kf,{gT:!1}),this.KT},Ol.prototype.eE=function(){return new oa(this.Lc,this.zT,this.JT.host,this.JT.ssl,this.JT.forceLongPolling)},Ol.prototype.tE=function(t,e){var n=this.eE();return this.KT=new Xf(Hs.nt(),n,this.HT,this.WT),this.KT.start(t,e)},Ol.GT=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new kr(Sr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new kr(Sr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sa(n)},Object.defineProperty(Ol.prototype,"app",{get:function(){if(!this.QT)throw new kr(Sr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.QT},enumerable:!0,configurable:!0}),Ol.prototype.collection=function(t){return kc("Firestore.collection",arguments,1),Rc("Firestore.collection","non-empty string",1,t),this.jT(),new bl(Mr.K(t),this)},Ol.prototype.doc=function(t){return kc("Firestore.doc",arguments,1),Rc("Firestore.doc","non-empty string",1,t),this.jT(),pl.nE(Mr.K(t),this)},Ol.prototype.collectionGroup=function(t){if(kc("Firestore.collectionGroup",arguments,1),Rc("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new kr(Sr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jT(),new ml(new No(Mr.G,t),this)},Ol.prototype.runTransaction=function(t){var e=this;return kc("Firestore.runTransaction",arguments,1),Rc("Firestore.runTransaction","function",1,t),this.jT().transaction((function(n){return t(new fl(e,n))}))},Ol.prototype.batch=function(){return this.jT(),new ll(this)},Object.defineProperty(Ol,"logLevel",{get:function(){switch(Ws()){case r.DEBUG:return"debug";case r.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),Ol.setLogLevel=function(t){switch(kc("Firestore.setLogLevel",arguments,1),Rc("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Xs(r.DEBUG);break;case"error":Xs(r.ERROR);break;case"silent":Xs(r.SILENT);break;default:throw new kr(Sr.INVALID_ARGUMENT,"Invalid log level: "+t)}},Ol.prototype.rE=function(){return this.JT.timestampsInSnapshots},Ol),fl=(kl.prototype.get=function(t){var e=this;kc("Transaction.get",arguments,1);var n=Cl("Transaction.get",t,this.hE);return this.oE.V_([n.xc]).then((function(t){if(!t||1!==t.length)return $s();var r=t[0];if(r instanceof To)return new vl(e.hE,n.xc,null,!1,!1,n.aE);if(r instanceof Io)return new vl(e.hE,n.xc,r,!1,!1,n.aE);throw $s()}))},kl.prototype.set=function(t,e,n){Dc("Transaction.set",arguments,2,3);var r=Cl("Transaction.set",t,this.hE);n=Ll("Transaction.set",n);var i=Ml(r.aE,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.hE.XT.Nc(s,o,n.mergeFields):this.hE.XT.Cc(s,o);return this.oE.set(r.xc,a),this},kl.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return i="string"==typeof e||e instanceof Xc?(Oc("Transaction.update",arguments,3),r=Cl("Transaction.update",t,this.hE),this.hE.XT.$c("Transaction.update",e,n,o)):(kc("Transaction.update",arguments,2),r=Cl("Transaction.update",t,this.hE),this.hE.XT.kc("Transaction.update",e)),this.oE.update(r.xc,i),this},kl.prototype.delete=function(t){kc("Transaction.delete",arguments,1);var e=Cl("Transaction.delete",t,this.hE);return this.oE.delete(e.xc),this},kl),ll=(Sl.prototype.set=function(t,e,n){Dc("WriteBatch.set",arguments,2,3),this._E();var r=Cl("WriteBatch.set",t,this.hE);n=Ll("WriteBatch.set",n);var i=Ml(r.aE,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.hE.XT.Nc(s,o,n.mergeFields):this.hE.XT.Cc(s,o);return this.uE=this.uE.concat(a.gc(r.xc,qi.ft())),this},Sl.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this._E(),i="string"==typeof e||e instanceof Xc?(Oc("WriteBatch.update",arguments,3),r=Cl("WriteBatch.update",t,this.hE),this.hE.XT.$c("WriteBatch.update",e,n,o)):(kc("WriteBatch.update",arguments,2),r=Cl("WriteBatch.update",t,this.hE),this.hE.XT.kc("WriteBatch.update",e)),this.uE=this.uE.concat(i.gc(r.xc,qi.exists(!0))),this},Sl.prototype.delete=function(t){kc("WriteBatch.delete",arguments,1),this._E();var e=Cl("WriteBatch.delete",t,this.hE);return this.uE=this.uE.concat(new Ki(e.xc,qi.ft())),this},Sl.prototype.commit=function(){return this._E(),this.cE=!0,0<this.uE.length?this.hE.jT().write(this.uE):Promise.resolve()},Sl.prototype._E=function(){if(this.cE)throw new kr(Sr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Sl),pl=(Nl.nE=function(t,e,n){if(t.length%2!=0)throw new kr(Sr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.j()+" has "+t.length);return new Nl(new Jr(t),e,n)},Object.defineProperty(Nl.prototype,"id",{get:function(){return this.xc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(Nl.prototype,"parent",{get:function(){return new bl(this.xc.path.M(),this.firestore,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(Nl.prototype,"path",{get:function(){return this.xc.path.j()},enumerable:!0,configurable:!0}),Nl.prototype.collection=function(t){if(kc("DocumentReference.collection",arguments,1),Rc("DocumentReference.collection","non-empty string",1,t),!t)throw new kr(Sr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Mr.K(t);return new bl(this.xc.path.child(e),this.firestore)},Nl.prototype.isEqual=function(t){if(!(t instanceof Nl))throw qc("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.xc.isEqual(t.xc)&&this.aE===t.aE},Nl.prototype.set=function(t,e){Dc("DocumentReference.set",arguments,1,2),e=Ll("DocumentReference.set",e);var n=Ml(this.aE,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.XT.Nc(i,r,e.mergeFields):this.firestore.XT.Cc(i,r);return this.KT.write(o.gc(this.xc,qi.ft()))},Nl.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Xc?(Oc("DocumentReference.update",arguments,2),this.firestore.XT.$c("DocumentReference.update",t,e,r)):(kc("DocumentReference.update",arguments,1),this.firestore.XT.kc("DocumentReference.update",t)),this.KT.write(n.gc(this.xc,qi.exists(!0)))},Nl.prototype.delete=function(){return kc("DocumentReference.delete",arguments,0),this.KT.write([new Ki(this.xc,qi.ft())])},Nl.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Dc("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||il(t[i])||(Fc("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),xc("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=il(t[i])?t[i]:(Rc("DocumentReference.onSnapshot","function",i,t[i]),Lc("DocumentReference.onSnapshot","function",i+1,t[i+1]),Lc("DocumentReference.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.lE(o,n)},Nl.prototype.lE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Yf({next:function(t){if(e.next){var r=t.docs.get(n.xc);e.next(new vl(n.firestore,n.xc,r,t.fromCache,t.hasPendingWrites,n.aE))}},error:r}),o=this.KT.listen(No.Wt(this.xc.path),i,t);return function(){i.kT(),n.KT.al(o)}},Nl.prototype.get=function(t){var e=this;return Dc("DocumentReference.get",arguments,0,1),xl("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jT().CT(e.xc).then((function(t){n(new vl(e.firestore,e.xc,t,!0,t instanceof Io&&t.At,e.aE))}),r):e.dE(n,r,t)}))},Nl.prototype.dE=function(t,e,n){var r=this.lE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new kr(Sr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new kr(Sr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},Nl.prototype.withConverter=function(t){return new Nl(this.xc,this.firestore,t)},Nl),dl=(Al.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Al),vl=(_l.prototype.data=function(t){if(Dc("DocumentSnapshot.data",arguments,0,1),t=Pl("DocumentSnapshot.data",t),this.fE){if(this.aE){var e=new yl(this.hE,this.xc,this.fE,this.TE,this.EE);return this.aE.fromFirestore(e,t)}return new al(this.hE,this.hE.rE(),t.serverTimestamps,void 0).MT(this.fE.Mt())}},_l.prototype.get=function(t,e){if(Dc("DocumentSnapshot.get",arguments,1,2),e=Pl("DocumentSnapshot.get",e),this.fE){var n=this.fE.data().field(Dh("DocumentSnapshot.get",t));if(null!==n)return new al(this.hE,this.hE.rE(),e.serverTimestamps,this.aE).MT(n)}},Object.defineProperty(_l.prototype,"id",{get:function(){return this.xc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(_l.prototype,"ref",{get:function(){return new pl(this.xc,this.hE,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(_l.prototype,"exists",{get:function(){return null!==this.fE},enumerable:!0,configurable:!0}),Object.defineProperty(_l.prototype,"metadata",{get:function(){return new dl(this.EE,this.TE)},enumerable:!0,configurable:!0}),_l.prototype.isEqual=function(t){if(!(t instanceof _l))throw qc("isEqual","DocumentSnapshot",1,t);return this.hE===t.hE&&this.TE===t.TE&&this.xc.isEqual(t.xc)&&(null===this.fE?null===t.fE:this.fE.isEqual(t.fE))&&this.aE===t.aE},_l),yl=(s(Tl,sl=vl),Tl.prototype.data=function(t){return sl.prototype.data.call(this,t)},Tl),ml=(Il.prototype.where=function(t,e,n){kc("Query.where",arguments,3),Uc("Query.where",3,n);var r,i=function(t,e){if(!t.some((function(t){return t===e})))throw new kr(Sr.INVALID_ARGUMENT,"Invalid value "+Vc(e)+" provided to function Query.where() for its "+Gc(2)+" argument. Acceptable values: "+t.join(", "));return e}(["<","<=","==",">=",">","array-contains","in","array-contains-any"],e),o=Dh("Query.where",t);if(o.Y()){if("array-contains"===i||"array-contains-any"===i)throw new kr(Sr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i){this.wE(n,i);for(var s=[],a=0,u=n;a<u.length;a++){var c=u[a];s.push(this.RE(c))}r={arrayValue:{values:s}}}else r=this.RE(n)}else"in"!==i&&"array-contains-any"!==i||this.wE(n,i),r=this.firestore.XT.Mc("Query.where",n,"in"===i);var h=So.create(o,i,r);return this.mE(h),new Il(this.IE.Gt(h),this.firestore,this.aE)},Il.prototype.orderBy=function(t,e){var n;if(Dc("Query.orderBy",arguments,1,2),Lc("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new kr(Sr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}if(null!==this.IE.startAt)throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.IE.endAt)throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Dh("Query.orderBy",t),i=new xo(r,n);return this.AE(i),new Il(this.IE.zt(i),this.firestore,this.aE)},Il.prototype.limit=function(t){return kc("Query.limit",arguments,1),Rc("Query.limit","number",1,t),Bc("Query.limit",1,t),new Il(this.IE.Ht(t),this.firestore,this.aE)},Il.prototype.limitToLast=function(t){return kc("Query.limitToLast",arguments,1),Rc("Query.limitToLast","number",1,t),Bc("Query.limitToLast",1,t),new Il(this.IE.Yt(t),this.firestore,this.aE)},Il.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Oc("Query.startAt",arguments,1);var r=this.PE("Query.startAt",t,e,!0);return new Il(this.IE.Jt(r),this.firestore,this.aE)},Il.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Oc("Query.startAfter",arguments,1);var r=this.PE("Query.startAfter",t,e,!1);return new Il(this.IE.Jt(r),this.firestore,this.aE)},Il.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Oc("Query.endBefore",arguments,1);var r=this.PE("Query.endBefore",t,e,!0);return new Il(this.IE.Xt(r),this.firestore,this.aE)},Il.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Oc("Query.endAt",arguments,1);var r=this.PE("Query.endAt",t,e,!1);return new Il(this.IE.Xt(r),this.firestore,this.aE)},Il.prototype.isEqual=function(t){if(!(t instanceof Il))throw qc("isEqual","Query",1,t);return this.firestore===t.firestore&&this.IE.isEqual(t.IE)},Il.prototype.withConverter=function(t){return new Il(this.IE,this.firestore,t)},Il.prototype.PE=function(t,e,n,r){if(Uc(t,1,e),e instanceof vl){if(0<n.length)throw new kr(Sr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new kr(Sr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.VE(i.fE,r)}var o=[e].concat(n);return this.gE(t,o,r)},Il.prototype.VE=function(t,e){for(var n=[],r=0,i=this.IE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(gi(this.firestore.Lc,t.key));else{var s=t.field(o.field);if(si(s))throw new kr(Sr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.j();throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new Po(n,e)},Il.prototype.gE=function(t,e,n){var r=this.IE.Ot;if(e.length>r.length)throw new kr(Sr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.IE._e()&&-1!==s.indexOf("/"))throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.IE.path.child(Mr.K(s));if(!Jr.et(a))throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new Jr(a);i.push(gi(this.firestore.Lc,u))}else{var c=this.firestore.XT.Mc(t,s);i.push(c)}}return new Po(i,n)},Il.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Dc("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||il(t[i])||(Fc("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),xc("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=il(t[i])?t[i]:(Rc("Query.onSnapshot","function",i,t[i]),Lc("Query.onSnapshot","function",i+1,t[i+1]),Lc("Query.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.pE(this.IE),this.lE(r,n)},Il.prototype.lE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Yf({next:function(t){e.next&&e.next(new gl(n.firestore,n.IE,t,n.aE))},error:r}),o=this.firestore.jT(),s=o.listen(this.IE,i,t);return function(){i.kT(),o.al(s)}},Il.prototype.pE=function(t){if(t.ae()&&0===t.Ot.length)throw new kr(Sr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},Il.prototype.get=function(t){var e=this;return Dc("Query.get",arguments,0,1),xl("Query.get",t),this.pE(this.IE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jT().FT(e.IE).then((function(t){n(new gl(e.firestore,e.IE,t,e.aE))}),r):e.dE(n,r,t)}))},Il.prototype.dE=function(t,e,n){var r=this.lE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new kr(Sr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},Il.prototype.RE=function(t){if("string"==typeof t){if(""===t)throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.IE._e()&&-1!==t.indexOf("/"))throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.IE.path.child(Mr.K(t));if(!Jr.et(e))throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return gi(this.firestore.Lc,new Jr(e))}if(t instanceof pl){var n=t;return gi(this.firestore.Lc,n.xc)}throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vc(t)+".")},Il.prototype.wE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new kr(Sr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new kr(Sr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new kr(Sr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter((function(t){return Number.isNaN(t)})).length)throw new kr(Sr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},Il.prototype.mE=function(t){if(t instanceof So){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.ue()){var o=this.IE.jt();if(null!==o&&!o.isEqual(t.field))throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.IE.Kt();null!==s&&this.yE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.IE.ce(n)),null===a&&r&&(a=this.IE.ce(e)),null!=a)throw a===t.op?new kr(Sr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new kr(Sr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},Il.prototype.AE=function(t){if(null===this.IE.Kt()){var e=this.IE.jt();null!==e&&this.yE(e,t.field)}},Il.prototype.yE=function(t,e){if(!e.isEqual(t))throw new kr(Sr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},Il),gl=(Object.defineProperty(El.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(El.prototype,"empty",{get:function(){return this.vE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(El.prototype,"size",{get:function(){return this.vE.docs.size},enumerable:!0,configurable:!0}),El.prototype.forEach=function(t,e){var n=this;Dc("QuerySnapshot.forEach",arguments,1,2),Rc("QuerySnapshot.forEach","function",1,t),this.vE.docs.forEach((function(r){t.call(e,n.CE(r))}))},Object.defineProperty(El.prototype,"query",{get:function(){return new ml(this.bE,this.hE,this.aE)},enumerable:!0,configurable:!0}),El.prototype.docChanges=function(t){t&&(Fc("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),xc("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.vE.hs)throw new kr(Sr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.SE&&this.DE===e||(this.SE=function(t,e,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(e){var o=new yl(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r);return e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new yl(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $s()}}(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.hE,e,this.vE,this.aE),this.DE=e),this.SE},El.prototype.isEqual=function(t){if(!(t instanceof El))throw qc("isEqual","QuerySnapshot",1,t);return this.hE===t.hE&&this.bE.isEqual(t.bE)&&this.vE.isEqual(t.vE)&&this.aE===t.aE},El.prototype.CE=function(t){return new yl(this.hE,t.key,t,this.metadata.fromCache,this.vE.ns.has(t.key),this.aE)},El),bl=(s(wl,ol=ml),Object.defineProperty(wl.prototype,"id",{get:function(){return this.IE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(wl.prototype,"parent",{get:function(){var t=this.IE.path.M();return t.B()?null:new pl(new Jr(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(wl.prototype,"path",{get:function(){return this.IE.path.j()},enumerable:!0,configurable:!0}),wl.prototype.doc=function(t){if(Dc("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=ta.cn()),Rc("CollectionReference.doc","non-empty string",1,t),""===t)throw new kr(Sr.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=Mr.K(t);return pl.nE(this.IE.path.child(e),this.firestore,this.aE)},wl.prototype.add=function(t){kc("CollectionReference.add",arguments,1),Rc("CollectionReference.add","object",1,this.aE?this.aE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},wl.prototype.withConverter=function(t){return new wl(this.FE,this.firestore,t)},wl);function wl(t,e,n){var r=this;if(((r=ol.call(this,No.Wt(t),e,n)||this).FE=t).length%2!=1)throw new kr(Sr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.j()+" has "+t.length);return r}function El(t,e,n,r){this.hE=t,this.bE=e,this.vE=n,this.aE=r,this.SE=null,this.DE=null,this.metadata=new dl(n.hasPendingWrites,n.fromCache)}function Il(t,e,n){this.IE=t,this.firestore=e,this.aE=n}function Tl(){return null!==sl&&sl.apply(this,arguments)||this}function _l(t,e,n,r,i,o){this.hE=t,this.xc=e,this.fE=n,this.TE=r,this.EE=i,this.aE=o}function Al(t,e){this.hasPendingWrites=t,this.fromCache=e}function Nl(t,e,n){this.xc=t,this.firestore=e,this.aE=n,this.KT=this.firestore.jT()}function Sl(t){this.hE=t,this.uE=[],this.cE=!1}function kl(t,e){this.hE=t,this.oE=e}function Ol(t,e,n){var r=this;if(void 0===n&&(n=new Kf),this.QT=null,this.WT=new xa,this.INTERNAL={delete:function(){return a(r,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.jT(),[4,this.KT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options){var i=t;this.QT=i,this.Lc=Ol.GT(i),this.zT=i.name,this.HT=new Dr(e)}else{var o=t;if(!o.projectId)throw new kr(Sr.INVALID_ARGUMENT,"Must provide projectId");this.Lc=new sa(o.projectId,o.database),this.zT="[DEFAULT]",this.HT=new Or}this.YT=n,this.JT=new cl({}),this.XT=new Th(this.Lc)}function Dl(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new kr(Sr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Pc("settings","non-empty string","host",t.host),this.host=t.host,xc("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Fc("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),xc("settings","object","credentials",t.credentials),this.credentials=t.credentials,xc("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?Js("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Js("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,xc("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=qa.$h;else{if(t.cacheSizeBytes!==ul&&t.cacheSizeBytes<qa.kh)throw new kr(Sr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+qa.kh);this.cacheSizeBytes=t.cacheSizeBytes}xc("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}function Rl(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.$T=n,this.converter=r}function Ll(t,e){if(void 0===e)return{merge:!1};if(Fc(t,e,["merge","mergeFields"]),xc(t,"boolean","merge",e.merge),n=t,void 0!==(r=e.mergeFields)&&function(t,e,n,r){if(!(n instanceof Array))throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Vc(n));for(var i=0;i<n.length;++i)if(!r(n[i]))throw new kr(Sr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+i+" was: "+Vc(n[i]))}(n,"mergeFields",r,(function(t){return"string"==typeof t||t instanceof Xc})),void 0!==e.mergeFields&&void 0!==e.merge)throw new kr(Sr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n,r;return e}function Pl(t,e){return void 0===e?{}:(Fc(t,e,["serverTimestamps"]),Cc(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function xl(t,e){Lc(t,"object",1,e),e&&(Fc(t,e,["source"]),Cc(t,0,"source",e.source,["default","server","cache"]))}function Cl(t,e,n){if(e instanceof pl){if(e.firestore!==n)throw new kr(Sr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw qc(t,"DocumentReference",1,e)}function Ml(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function jl(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new kr(Sr.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}var Vl,Ul=jl(hl,"Use firebase.firestore() instead."),Fl=jl(fl,"Use firebase.firestore().runTransaction() instead."),ql=jl(ll,"Use firebase.firestore().batch() instead."),Bl=jl(pl,"Use firebase.firestore().doc() instead."),Gl=jl(vl),Hl=jl(yl),zl=jl(ml),Kl=jl(gl),Wl=jl(bl,"Use firebase.firestore().collection() instead."),Xl=jl((ap.delete=function(){return Sc("FieldValue.delete",arguments),new ih},ap.serverTimestamp=function(){return Sc("FieldValue.serverTimestamp",arguments),new oh},ap.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oc("FieldValue.arrayUnion",arguments,1),new sh(t)},ap.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oc("FieldValue.arrayRemove",arguments,1),new ah(t)},ap.increment=function(t){return Rc("FieldValue.increment","number",1,t),kc("FieldValue.increment",arguments,1),new uh(t)},ap.prototype.isEqual=function(t){return this===t},ap),"Use FieldValue.<field>() instead."),Yl=jl(Wc,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Jl={Firestore:Ul,GeoPoint:ch,Timestamp:Pr,Blob:Yl,Transaction:Fl,WriteBatch:ql,DocumentReference:Bl,DocumentSnapshot:Gl,Query:zl,QueryDocumentSnapshot:Hl,QuerySnapshot:Kl,CollectionReference:Wl,FieldPath:Xc,FieldValue:Xl,setLogLevel:hl.setLogLevel,CACHE_SIZE_UNLIMITED:ul},Ql=(sp.prototype.Q_=function(t){},sp.prototype.Iu=function(){},sp),$l=(op.prototype.Q_=function(t){this.LE.push(t)},op.prototype.Iu=function(){window.removeEventListener("online",this.NE),window.removeEventListener("offline",this.$E)},op.prototype.xE=function(){window.addEventListener("online",this.NE),window.addEventListener("offline",this.$E)},op.prototype.kE=function(){Ys("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.LE;t<e.length;t++)(0,e[t])(0)},op.prototype.ME=function(){Ys("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.LE;t<e.length;t++)(0,e[t])(1)},op.so=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},op),Zl=(ip.prototype.n_=function(t){this.qE=t},ip.prototype.Zc=function(t){this.UE=t},ip.prototype.onMessage=function(t){this.QE=t},ip.prototype.close=function(){this.BE()},ip.prototype.send=function(t){this.OE(t)},ip.prototype.WE=function(){this.qE()},ip.prototype.jE=function(t){this.UE(t)},ip.prototype.KE=function(t){this.QE(t)},ip),tp={BatchGetDocuments:"batchGet",Commit:"commit"},ep="gl-js/ fire/"+Er,np=(rp.prototype.zE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=ep},rp.prototype.E_=function(t,e,n){var r=this,i=this.HE(t);return new Promise((function(o,s){var a=new wr;a.listenOnce(gr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case mr.NO_ERROR:var e=a.getResponseJson();Ys("Connection","XHR received:",JSON.stringify(e)),o(e);break;case mr.TIMEOUT:Ys("Connection",'RPC "'+t+'" timed out'),s(new kr(Sr.DEADLINE_EXCEEDED,"Request time out"));break;case mr.HTTP_ERROR:var n=a.getStatus();if(Ys("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(u=r.status.toLowerCase().replace("_","-"),0<=Object.values(Sr).indexOf(u)?u:Sr.UNKNOWN);s(new kr(i,r.message))}else s(new kr(Sr.UNKNOWN,"Server responded with status "+a.getStatus()))}else Ys("Connection",'RPC "'+t+'" failed'),s(new kr(Sr.UNAVAILABLE,"Connection failed."));break;default:$s()}}finally{Ys("Connection",'RPC "'+t+'" completed.')}var u}));var u=Object.assign({},e);delete u.database;var c=JSON.stringify(u);Ys("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.zE(h,n),a.send(i,"POST",c,h,15)}))},rp.prototype.I_=function(t,e,n){return this.E_(t,e,n)},rp.prototype.r_=function(t,e){var n,r,i=[this.GE,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=yr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zE(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=y().indexOf("Electron/")||0<=(r=y()).indexOf("MSIE ")||0<=r.indexOf("Trident/")||0<=y().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");function u(t,e){c.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))}Ys("Connection","Creating WebChannel: "+a+" "+s);var c=o.createWebChannel(a,s),h=!1,f=!1,l=new Zl({OE:function(t){f?Ys("Connection","Not sending because WebChannel is closed:",t):(h||(Ys("Connection","Opening WebChannel transport."),c.open(),h=!0),Ys("Connection","WebChannel sending:",t),c.send(t))},BE:function(){return c.close()}});return u(br.EventType.OPEN,(function(){f||Ys("Connection","WebChannel transport opened.")})),u(br.EventType.CLOSE,(function(){f||(f=!0,Ys("Connection","WebChannel transport closed"),l.jE())})),u(br.EventType.ERROR,(function(t){f||(f=!0,Ys("Connection","WebChannel transport errored:",t),l.jE(new kr(Sr.UNAVAILABLE,"The operation could not be completed")))})),u(br.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];Zs(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ys("Connection","WebChannel received error:",r);var i=r.status,o=function(){var t=ho[i];if(void 0!==t)return Qo(t)}(),s=r.message;void 0===o&&(o=Sr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),f=!0,l.jE(new kr(o,s)),c.close()}else Ys("Connection","WebChannel received:",n),l.KE(n)}})),setTimeout((function(){l.WE()}),0),l},rp.prototype.HE=function(t){var e=tp[t];return this.GE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+e},rp);function rp(t){this.ii=t.ii;var e=t.ssl?"https":"http";this.GE=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}function ip(t){this.OE=t.OE,this.BE=t.BE}function op(){var t=this;this.NE=function(){return t.kE()},this.$E=function(){return t.ME()},this.LE=[],this.xE()}function sp(){}function ap(){}function up(){this._c="undefined"!=typeof atob}Hs.an((Object.defineProperty(up.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(up.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),up.prototype.bT=function(t){return Promise.resolve(new np(t))},up.prototype.AT=function(){return new($l.so()?$l:Ql)},up.prototype.Dc=function(t){return new qs(t,{hi:!0})},up.prototype.un=function(t){return JSON.stringify(t)},up.prototype.atob=function(t){return atob(t)},up.prototype.btoa=function(t){return btoa(t)},up.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},new up)),(Vl=e).INTERNAL.registerComponent(new T("firestore",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),new hl(e,n,new Wf);var e,n}),"PUBLIC").setServiceProps(Object.assign({},Jl))),Vl.registerVersion("@firebase/firestore","1.14.3")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}}(n(0))}).call(this,n(2))},function(t,e,n){"use strict";n.r(e);var r=n(4);n(7),n(8);r.initializeApp({apiKey:"AIzaSyDzvO7xqa9bwmCF5fRwX3fcRMME7pjyOmk",authDomain:"codecheatsheet-7d13a.firebaseapp.com",databaseURL:"https://codecheatsheet-7d13a.firebaseio.com",projectId:"codecheatsheet-7d13a",storageBucket:"codecheatsheet-7d13a.appspot.com",messagingSenderId:"147725314310",appId:"1:147725314310:web:fe8f5a82f5a9c04c685687"})}]);